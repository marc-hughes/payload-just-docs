<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Overview - Local API | Payload CMS Documentation</title><meta name="description" content="The Payload Local API allows you to interact with your database and execute the same operations that are available through REST and GraphQL within Node, directly on your server."/><meta property="og:title" content="Overview - Local API | Payload CMS Documentation"/><meta property="og:description" content="The Payload Local API allows you to interact with your database and execute the same operations that are available through REST and GraphQL within Node, directly on your server."/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Local API</h1><p class="text-xl text-gray-600 mb-8">The Payload Local API allows you to interact with your database and execute the same operations that are available through REST and GraphQL within Node, directly on your server.</p><div class="prose prose-lg max-w-none"><p>The Payload Local API gives you the ability to execute the same operations that are available through REST and GraphQL within Node, directly on your server. Here, you don&#x27;t need to deal with server latency or network speed whatsoever and can interact directly with your database.</p>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong></p><p>The Local API is incredibly powerful when used in React Server Components and other similar server-side contexts. With other headless CMS, you need to request your data from third-party servers via an HTTP layer, which can add significant loading time to your server-rendered pages. With Payload, you don&#x27;t have to leave your server to gather the data you need. It can be incredibly fast and is definitely a game changer.</p></div>
<p>Here are some common examples of how you can use the Local API:</p>
<ul>
<li>Fetching Payload data within React Server Components</li>
<li>Seeding data via Node seed scripts that you write and maintain</li>
<li>Opening custom Next.js route handlers which feature additional functionality but still rely on Payload</li>
<li>Within <a href="../access-control/overview">Access Control</a> and <a href="../hooks/overview">Hooks</a></li>
</ul>
<h2>Accessing Payload</h2>
<p>You can gain access to the currently running <code>payload</code> object via two ways:</p>
<h4>Accessing from args or <code>req</code></h4>
<p>In most places within Payload itself, you can access <code>payload</code> directly from the arguments of <a href="../hooks/overview">Hooks</a>, <a href="../access-control/overview">Access Control</a>, <a href="../fields/overview#validation">Validation</a> functions, and similar. This is the simplest way to access Payload in most cases. Most config functions take the <code>req</code> (Request) object, which has Payload bound to it (<code>req.payload</code>).</p>
<p>Example:</p>
<pre><code class="language-ts">const afterChangeHook: CollectionAfterChangeHook = async ({
  req: { payload },
}) =&gt; {
  const posts = await payload.find({
    collection: &#x27;posts&#x27;,
  })
}
</code></pre>
<h4>Importing it</h4>
<p>If you want to import Payload in places where you don&#x27;t have the option to access it from function arguments or <code>req</code>, you can import it and initialize it.</p>
<pre><code class="language-ts">import { getPayload } from &#x27;payload&#x27;
import config from &#x27;@payload-config&#x27;

const payload = await getPayload({ config })
</code></pre>
<p>If you&#x27;re working in Next.js&#x27; development mode, Payload will work with Hot Module Replacement (HMR), and as you make changes to your Payload Config, your usage of Payload will always be in sync with your changes. In production, <code>getPayload</code> simply disables all HMR functionality so you don&#x27;t need to write your code any differently. We handle optimization for you in production mode.</p>
<p>If you are accessing Payload via function arguments or <code>req.payload</code>, HMR is automatically supported if you are using it within Next.js.</p>
<p>For more information about using Payload outside of Next.js, <a href="./outside-nextjs">click here</a>.</p>
<h2>Local options available</h2>
<p>You can specify more options within the Local API vs. REST or GraphQL due to the server-only context that they are executed in.</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Local Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>collection</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Required for Collection operations. Specifies the Collection slug to operate against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>data</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The data to use within the operation. Required for <code>create</code>, <code>update</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>depth</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><a href="../queries/depth">Control auto-population</a> of nested relationship and upload fields.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>locale</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Specify <a href="/payload-just-docs/docs/configuration/localization">locale</a> for any returned documents.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>select</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Specify <a href="../queries/select">select</a> to control which fields to include to the result.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>populate</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Specify <a href="../queries/select#populate">populate</a> to control which fields to include to the result from populated documents.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>fallbackLocale</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Specify a <a href="/payload-just-docs/docs/configuration/localization">fallback locale</a> to use for any returned documents.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>overrideAccess</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Skip access control. By default, this property is set to true within all Local API operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>overrideLock</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">By default, document locks are ignored (<code>true</code>). Set to <code>false</code> to enforce locks and prevent operations when a document is locked by another user. <a href="../admin/locked-documents">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>user</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">If you set <code>overrideAccess</code> to <code>false</code>, you can pass a user to use against the access control checks.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>showHiddenFields</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Opt-in to receiving hidden fields. By default, they are hidden from returned documents in accordance to your config.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>pagination</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Set to false to return all documents and avoid querying for document counts.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>context</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><a href="/payload-just-docs/docs/hooks/context">Context</a>, which will then be passed to <code>context</code> and <code>req.context</code>, which can be read by hooks. Useful if you want to pass additional information to the hooks which shouldn&#x27;t be necessarily part of the document, for example a <code>triggerBeforeChange</code> option which can be read by the BeforeChange hook to determine if it should run or not.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>disableErrors</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">When set to <code>true</code>, errors will not be thrown. Instead, the <code>findByID</code> operation will return <code>null</code>, and the <code>find</code> operation will return an empty documents array.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>disableTransaction</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">When set to <code>true</code>, a <a href="../database/transactions">database transactions</a> will not be initialized.</td></tr></tbody></table></div>
<p><em>There are more options available on an operation by operation basis outlined below.</em></p>
<h2>Transactions</h2>
<p>When your database uses transactions you need to thread req through to all local operations. Postgres uses transactions and MongoDB uses transactions when you are using replica sets. Passing req without transactions is still recommended.</p>
<pre><code class="language-js">const post = await payload.find({
  collection: &#x27;posts&#x27;,
  req, // passing req is recommended
})
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong></p><p>By default, all access control checks are disabled in the Local API, but you can re-enable them if
you&#x27;d like, as well as pass a specific user to run the operation with.</p></div>
<h2>Collections</h2>
<p>The following Collection operations are available through the Local API:</p>
<h3>Create#collection-create</h3>
<pre><code class="language-js">// The created Post document is returned
const post = await payload.create({
  collection: &#x27;posts&#x27;, // required
  data: {
    // required
    title: &#x27;sure&#x27;,
    description: &#x27;maybe&#x27;,
  },
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUserDoc,
  overrideAccess: true,
  showHiddenFields: false,

  // If creating verification-enabled auth doc,
  // you can optionally disable the email that is auto-sent
  disableVerificationEmail: true,

  // If your collection supports uploads, you can upload
  // a file directly through the Local API by providing
  // its full, absolute file path.
  filePath: path.resolve(__dirname, &#x27;./path-to-image.jpg&#x27;),

  // Alternatively, you can directly pass a File,
  // if file is provided, filePath will be omitted
  file: uploadedFile,

  // If you want to create a document that is a duplicate of another document
  duplicateFromID: &#x27;document-id-to-duplicate&#x27;,
})
</code></pre>
<h3>Find#collection-find</h3>
<pre><code class="language-js">// Result will be a paginated set of Posts.
// See /docs/queries/pagination for more.
const result = await payload.find({
  collection: &#x27;posts&#x27;, // required
  depth: 2,
  page: 1,
  limit: 10,
  pagination: false, // If you want to disable pagination count, etc.
  where: {}, // pass a `where` query here
  sort: &#x27;-title&#x27;,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  showHiddenFields: true,
})
</code></pre>
<h3>Find by ID#collection-find-by-id</h3>
<pre><code class="language-js">// Result will be a Post document.
const result = await payload.findByID({
  collection: &#x27;posts&#x27;, // required
  id: &#x27;507f1f77bcf86cd799439011&#x27;, // required
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  showHiddenFields: true,
})
</code></pre>
<h3>Count#collection-count</h3>
<pre><code class="language-js">// Result will be an object with:
// {
//   totalDocs: 10, // count of the documents satisfies query
// }
const result = await payload.count({
  collection: &#x27;posts&#x27;, // required
  locale: &#x27;en&#x27;,
  where: {}, // pass a `where` query here
  user: dummyUser,
  overrideAccess: false,
})
</code></pre>
<h3>Update by ID#collection-update-by-id</h3>
<pre><code class="language-js">// Result will be the updated Post document.
const result = await payload.update({
  collection: &#x27;posts&#x27;, // required
  id: &#x27;507f1f77bcf86cd799439011&#x27;, // required
  data: {
    // required
    title: &#x27;sure&#x27;,
    description: &#x27;maybe&#x27;,
  },
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.
  showHiddenFields: true,

  // If your collection supports uploads, you can upload
  // a file directly through the Local API by providing
  // its full, absolute file path.
  filePath: path.resolve(__dirname, &#x27;./path-to-image.jpg&#x27;),

  // If you are uploading a file and would like to replace
  // the existing file instead of generating a new filename,
  // you can set the following property to `true`
  overwriteExistingFiles: true,
})
</code></pre>
<h3>Update Many#collection-update-many</h3>
<pre><code class="language-js">// Result will be an object with:
// {
//   docs: [], // each document that was updated
//   errors: [], // each error also includes the id of the document
// }
const result = await payload.update({
  collection: &#x27;posts&#x27;, // required
  where: {
    // required
    fieldName: { equals: &#x27;value&#x27; },
  },
  data: {
    // required
    title: &#x27;sure&#x27;,
    description: &#x27;maybe&#x27;,
  },
  depth: 0,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.
  showHiddenFields: true,

  // If your collection supports uploads, you can upload
  // a file directly through the Local API by providing
  // its full, absolute file path.
  filePath: path.resolve(__dirname, &#x27;./path-to-image.jpg&#x27;),

  // If you are uploading a file and would like to replace
  // the existing file instead of generating a new filename,
  // you can set the following property to `true`
  overwriteExistingFiles: true,
})
</code></pre>
<h3>Delete#collection-delete</h3>
<pre><code class="language-js">// Result will be the now-deleted Post document.
const result = await payload.delete({
  collection: &#x27;posts&#x27;, // required
  id: &#x27;507f1f77bcf86cd799439011&#x27;, // required
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.
  showHiddenFields: true,
})
</code></pre>
<h3>Delete Many#collection-delete-many</h3>
<pre><code class="language-js">// Result will be an object with:
// {
//   docs: [], // each document that is now deleted
//   errors: [], // any errors that occurred, including the id of the errored on document
// }
const result = await payload.delete({
  collection: &#x27;posts&#x27;, // required
  where: {
    // required
    fieldName: { equals: &#x27;value&#x27; },
  },
  depth: 0,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.
  showHiddenFields: true,
})
</code></pre>
<h2>Auth Operations</h2>
<p>If a collection has <a href="/payload-just-docs/docs/authentication/overview"><code>Authentication</code></a> enabled, additional Local API operations will be
available:</p>
<h3>Auth</h3>
<pre><code class="language-js">// If you&#x27;re using Next.js, you&#x27;ll have to import headers from next/headers, like so:
// import { headers as nextHeaders } from &#x27;next/headers&#x27;

// you&#x27;ll also have to await headers inside your function, or component, like so:
// const headers = await nextHeaders()

// If you&#x27;re using Payload outside of Next.js, you&#x27;ll have to provide headers accordingly.

// result will be formatted as follows:
// {
//    permissions: { ... }, // object containing current user&#x27;s permissions
//    user: { ... }, // currently logged in user&#x27;s document
//    responseHeaders: { ... } // returned headers from the response
// }

const result = await payload.auth({ headers })
</code></pre>
<h3>Login</h3>
<pre><code class="language-js">// result will be formatted as follows:
// {
//   token: &#x27;o38jf0q34jfij43f3f...&#x27;, // JWT used for auth
//   user: { ... } // the user document that just logged in
//   exp: 1609619861 // the UNIX timestamp when the JWT will expire
// }

const result = await payload.login({
  collection: &#x27;users&#x27;, // required
  data: {
    // required
    email: &#x27;dev@payloadcms.com&#x27;,
    password: &#x27;rip&#x27;,
  },
  req: req, // optional, pass a Request object to be provided to all hooks
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  overrideAccess: false,
  showHiddenFields: true,
})
</code></pre>
<h3>Forgot Password</h3>
<pre><code class="language-js">// Returned token will allow for a password reset
const token = await payload.forgotPassword({
  collection: &#x27;users&#x27;, // required
  data: {
    // required
    email: &#x27;dev@payloadcms.com&#x27;,
  },
  req: req, // pass a Request object to be provided to all hooks
})
</code></pre>
<h3>Reset Password</h3>
<pre><code class="language-js">// Result will be formatted as follows:
// {
//   token: &#x27;o38jf0q34jfij43f3f...&#x27;, // JWT used for auth
//   user: { ... } // the user document that just logged in
// }
const result = await payload.resetPassword({
  collection: &#x27;users&#x27;, // required
  data: {
    // required
    password: req.body.password, // the new password to set
    token: &#x27;afh3o2jf2p3f...&#x27;, // the token generated from the forgotPassword operation
  },
  req: req, // optional, pass a Request object to be provided to all hooks
})
</code></pre>
<h3>Unlock</h3>
<pre><code class="language-js">// Returned result will be a boolean representing success or failure
const result = await payload.unlock({
  collection: &#x27;users&#x27;, // required
  data: {
    // required
    email: &#x27;dev@payloadcms.com&#x27;,
  },
  req: req, // optional, pass a Request object to be provided to all hooks
  overrideAccess: true,
})
</code></pre>
<h3>Verify</h3>
<pre><code class="language-js">// Returned result will be a boolean representing success or failure
const result = await payload.verifyEmail({
  collection: &#x27;users&#x27;, // required
  token: &#x27;afh3o2jf2p3f...&#x27;, // the token saved on the user as `_verificationToken`
})
</code></pre>
<h2>Globals</h2>
<p>The following Global operations are available through the Local API:</p>
<h3>Find#global-find</h3>
<pre><code class="language-js">// Result will be the Header Global.
const result = await payload.findGlobal({
  slug: &#x27;header&#x27;, // required
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  showHiddenFields: true,
})
</code></pre>
<h3>Update#global-update</h3>
<pre><code class="language-js">// Result will be the updated Header Global.
const result = await payload.updateGlobal({
  slug: &#x27;header&#x27;, // required
  data: {
    // required
    nav: [
      {
        url: &#x27;https://google.com&#x27;,
      },
      {
        url: &#x27;https://payloadcms.com&#x27;,
      },
    ],
  },
  depth: 2,
  locale: &#x27;en&#x27;,
  fallbackLocale: false,
  user: dummyUser,
  overrideAccess: false,
  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.
  showHiddenFields: true,
})
</code></pre>
<h2>TypeScript</h2>
<p>Local API calls will automatically infer your <a href="/payload-just-docs/docs/typescript/generating-types">generated types</a>.</p>
<p>Here is an example of usage:</p>
<pre><code class="language-ts">// Properly inferred as `Post` type
const post = await payload.create({
  collection: &#x27;posts&#x27;,

  // Data will now be typed as Post and give you type hints
  data: {
    title: &#x27;my title&#x27;,
    description: &#x27;my description&#x27;,
  },
})
</code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Local API","label":"Overview","order":10,"desc":"The Payload Local API allows you to interact with your database and execute the same operations that are available through REST and GraphQL within Node, directly on your server.","keywords":"local api, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    code: \"code\",\n    h4: \"h4\",\n    pre: \"pre\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    em: \"em\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"The Payload Local API gives you the ability to execute the same operations that are available through REST and GraphQL within Node, directly on your server. Here, you don't need to deal with server latency or network speed whatsoever and can interact directly with your database.\"\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"success\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Tip:\"\n        })\n      }), _jsx(_components.p, {\n        children: \"The Local API is incredibly powerful when used in React Server Components and other similar server-side contexts. With other headless CMS, you need to request your data from third-party servers via an HTTP layer, which can add significant loading time to your server-rendered pages. With Payload, you don't have to leave your server to gather the data you need. It can be incredibly fast and is definitely a game changer.\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here are some common examples of how you can use the Local API:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Fetching Payload data within React Server Components\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Seeding data via Node seed scripts that you write and maintain\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Opening custom Next.js route handlers which feature additional functionality but still rely on Payload\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Within \", _jsx(_components.a, {\n          href: \"../access-control/overview\",\n          children: \"Access Control\"\n        }), \" and \", _jsx(_components.a, {\n          href: \"../hooks/overview\",\n          children: \"Hooks\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Accessing Payload\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can gain access to the currently running \", _jsx(_components.code, {\n        children: \"payload\"\n      }), \" object via two ways:\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      children: [\"Accessing from args or \", _jsx(_components.code, {\n        children: \"req\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In most places within Payload itself, you can access \", _jsx(_components.code, {\n        children: \"payload\"\n      }), \" directly from the arguments of \", _jsx(_components.a, {\n        href: \"../hooks/overview\",\n        children: \"Hooks\"\n      }), \", \", _jsx(_components.a, {\n        href: \"../access-control/overview\",\n        children: \"Access Control\"\n      }), \", \", _jsx(_components.a, {\n        href: \"../fields/overview#validation\",\n        children: \"Validation\"\n      }), \" functions, and similar. This is the simplest way to access Payload in most cases. Most config functions take the \", _jsx(_components.code, {\n        children: \"req\"\n      }), \" (Request) object, which has Payload bound to it (\", _jsx(_components.code, {\n        children: \"req.payload\"\n      }), \").\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Example:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const afterChangeHook: CollectionAfterChangeHook = async ({\\n  req: { payload },\\n}) =\u003e {\\n  const posts = await payload.find({\\n    collection: 'posts',\\n  })\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Importing it\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you want to import Payload in places where you don't have the option to access it from function arguments or \", _jsx(_components.code, {\n        children: \"req\"\n      }), \", you can import it and initialize it.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { getPayload } from 'payload'\\nimport config from '@payload-config'\\n\\nconst payload = await getPayload({ config })\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you're working in Next.js' development mode, Payload will work with Hot Module Replacement (HMR), and as you make changes to your Payload Config, your usage of Payload will always be in sync with your changes. In production, \", _jsx(_components.code, {\n        children: \"getPayload\"\n      }), \" simply disables all HMR functionality so you don't need to write your code any differently. We handle optimization for you in production mode.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you are accessing Payload via function arguments or \", _jsx(_components.code, {\n        children: \"req.payload\"\n      }), \", HMR is automatically supported if you are using it within Next.js.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For more information about using Payload outside of Next.js, \", _jsx(_components.a, {\n        href: \"./outside-nextjs\",\n        children: \"click here\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Local options available\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You can specify more options within the Local API vs. REST or GraphQL due to the server-only context that they are executed in.\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Local Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"collection\"\n            })\n          }), _jsx(_components.td, {\n            children: \"Required for Collection operations. Specifies the Collection slug to operate against.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"data\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The data to use within the operation. Required for \", _jsx(_components.code, {\n              children: \"create\"\n            }), \", \", _jsx(_components.code, {\n              children: \"update\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"depth\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.a, {\n              href: \"../queries/depth\",\n              children: \"Control auto-population\"\n            }), \" of nested relationship and upload fields.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"locale\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Specify \", _jsx(_components.a, {\n              href: \"/docs/configuration/localization\",\n              children: \"locale\"\n            }), \" for any returned documents.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"select\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Specify \", _jsx(_components.a, {\n              href: \"../queries/select\",\n              children: \"select\"\n            }), \" to control which fields to include to the result.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"populate\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Specify \", _jsx(_components.a, {\n              href: \"../queries/select#populate\",\n              children: \"populate\"\n            }), \" to control which fields to include to the result from populated documents.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"fallbackLocale\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Specify a \", _jsx(_components.a, {\n              href: \"/docs/configuration/localization\",\n              children: \"fallback locale\"\n            }), \" to use for any returned documents.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"overrideAccess\"\n            })\n          }), _jsx(_components.td, {\n            children: \"Skip access control. By default, this property is set to true within all Local API operations.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"overrideLock\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"By default, document locks are ignored (\", _jsx(_components.code, {\n              children: \"true\"\n            }), \"). Set to \", _jsx(_components.code, {\n              children: \"false\"\n            }), \" to enforce locks and prevent operations when a document is locked by another user. \", _jsx(_components.a, {\n              href: \"../admin/locked-documents\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"user\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"If you set \", _jsx(_components.code, {\n              children: \"overrideAccess\"\n            }), \" to \", _jsx(_components.code, {\n              children: \"false\"\n            }), \", you can pass a user to use against the access control checks.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"showHiddenFields\"\n            })\n          }), _jsx(_components.td, {\n            children: \"Opt-in to receiving hidden fields. By default, they are hidden from returned documents in accordance to your config.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"pagination\"\n            })\n          }), _jsx(_components.td, {\n            children: \"Set to false to return all documents and avoid querying for document counts.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"context\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.a, {\n              href: \"/docs/hooks/context\",\n              children: \"Context\"\n            }), \", which will then be passed to \", _jsx(_components.code, {\n              children: \"context\"\n            }), \" and \", _jsx(_components.code, {\n              children: \"req.context\"\n            }), \", which can be read by hooks. Useful if you want to pass additional information to the hooks which shouldn't be necessarily part of the document, for example a \", _jsx(_components.code, {\n              children: \"triggerBeforeChange\"\n            }), \" option which can be read by the BeforeChange hook to determine if it should run or not.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"disableErrors\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"When set to \", _jsx(_components.code, {\n              children: \"true\"\n            }), \", errors will not be thrown. Instead, the \", _jsx(_components.code, {\n              children: \"findByID\"\n            }), \" operation will return \", _jsx(_components.code, {\n              children: \"null\"\n            }), \", and the \", _jsx(_components.code, {\n              children: \"find\"\n            }), \" operation will return an empty documents array.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"disableTransaction\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"When set to \", _jsx(_components.code, {\n              children: \"true\"\n            }), \", a \", _jsx(_components.a, {\n              href: \"../database/transactions\",\n              children: \"database transactions\"\n            }), \" will not be initialized.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"There are more options available on an operation by operation basis outlined below.\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Transactions\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When your database uses transactions you need to thread req through to all local operations. Postgres uses transactions and MongoDB uses transactions when you are using replica sets. Passing req without transactions is still recommended.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"const post = await payload.find({\\n  collection: 'posts',\\n  req, // passing req is recommended\\n})\\n\"\n      })\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"warning\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Note:\"\n        })\n      }), _jsx(_components.p, {\n        children: \"By default, all access control checks are disabled in the Local API, but you can re-enable them if\\nyou'd like, as well as pass a specific user to run the operation with.\"\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Collections\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following Collection operations are available through the Local API:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Create#collection-create\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// The created Post document is returned\\nconst post = await payload.create({\\n  collection: 'posts', // required\\n  data: {\\n    // required\\n    title: 'sure',\\n    description: 'maybe',\\n  },\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUserDoc,\\n  overrideAccess: true,\\n  showHiddenFields: false,\\n\\n  // If creating verification-enabled auth doc,\\n  // you can optionally disable the email that is auto-sent\\n  disableVerificationEmail: true,\\n\\n  // If your collection supports uploads, you can upload\\n  // a file directly through the Local API by providing\\n  // its full, absolute file path.\\n  filePath: path.resolve(__dirname, './path-to-image.jpg'),\\n\\n  // Alternatively, you can directly pass a File,\\n  // if file is provided, filePath will be omitted\\n  file: uploadedFile,\\n\\n  // If you want to create a document that is a duplicate of another document\\n  duplicateFromID: 'document-id-to-duplicate',\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Find#collection-find\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be a paginated set of Posts.\\n// See /docs/queries/pagination for more.\\nconst result = await payload.find({\\n  collection: 'posts', // required\\n  depth: 2,\\n  page: 1,\\n  limit: 10,\\n  pagination: false, // If you want to disable pagination count, etc.\\n  where: {}, // pass a `where` query here\\n  sort: '-title',\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Find by ID#collection-find-by-id\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be a Post document.\\nconst result = await payload.findByID({\\n  collection: 'posts', // required\\n  id: '507f1f77bcf86cd799439011', // required\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Count#collection-count\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be an object with:\\n// {\\n//   totalDocs: 10, // count of the documents satisfies query\\n// }\\nconst result = await payload.count({\\n  collection: 'posts', // required\\n  locale: 'en',\\n  where: {}, // pass a `where` query here\\n  user: dummyUser,\\n  overrideAccess: false,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Update by ID#collection-update-by-id\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be the updated Post document.\\nconst result = await payload.update({\\n  collection: 'posts', // required\\n  id: '507f1f77bcf86cd799439011', // required\\n  data: {\\n    // required\\n    title: 'sure',\\n    description: 'maybe',\\n  },\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.\\n  showHiddenFields: true,\\n\\n  // If your collection supports uploads, you can upload\\n  // a file directly through the Local API by providing\\n  // its full, absolute file path.\\n  filePath: path.resolve(__dirname, './path-to-image.jpg'),\\n\\n  // If you are uploading a file and would like to replace\\n  // the existing file instead of generating a new filename,\\n  // you can set the following property to `true`\\n  overwriteExistingFiles: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Update Many#collection-update-many\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be an object with:\\n// {\\n//   docs: [], // each document that was updated\\n//   errors: [], // each error also includes the id of the document\\n// }\\nconst result = await payload.update({\\n  collection: 'posts', // required\\n  where: {\\n    // required\\n    fieldName: { equals: 'value' },\\n  },\\n  data: {\\n    // required\\n    title: 'sure',\\n    description: 'maybe',\\n  },\\n  depth: 0,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.\\n  showHiddenFields: true,\\n\\n  // If your collection supports uploads, you can upload\\n  // a file directly through the Local API by providing\\n  // its full, absolute file path.\\n  filePath: path.resolve(__dirname, './path-to-image.jpg'),\\n\\n  // If you are uploading a file and would like to replace\\n  // the existing file instead of generating a new filename,\\n  // you can set the following property to `true`\\n  overwriteExistingFiles: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Delete#collection-delete\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be the now-deleted Post document.\\nconst result = await payload.delete({\\n  collection: 'posts', // required\\n  id: '507f1f77bcf86cd799439011', // required\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Delete Many#collection-delete-many\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be an object with:\\n// {\\n//   docs: [], // each document that is now deleted\\n//   errors: [], // any errors that occurred, including the id of the errored on document\\n// }\\nconst result = await payload.delete({\\n  collection: 'posts', // required\\n  where: {\\n    // required\\n    fieldName: { equals: 'value' },\\n  },\\n  depth: 0,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Auth Operations\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If a collection has \", _jsx(_components.a, {\n        href: \"/docs/authentication/overview\",\n        children: _jsx(_components.code, {\n          children: \"Authentication\"\n        })\n      }), \" enabled, additional Local API operations will be\\navailable:\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Auth\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// If you're using Next.js, you'll have to import headers from next/headers, like so:\\n// import { headers as nextHeaders } from 'next/headers'\\n\\n// you'll also have to await headers inside your function, or component, like so:\\n// const headers = await nextHeaders()\\n\\n// If you're using Payload outside of Next.js, you'll have to provide headers accordingly.\\n\\n// result will be formatted as follows:\\n// {\\n//    permissions: { ... }, // object containing current user's permissions\\n//    user: { ... }, // currently logged in user's document\\n//    responseHeaders: { ... } // returned headers from the response\\n// }\\n\\nconst result = await payload.auth({ headers })\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Login\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// result will be formatted as follows:\\n// {\\n//   token: 'o38jf0q34jfij43f3f...', // JWT used for auth\\n//   user: { ... } // the user document that just logged in\\n//   exp: 1609619861 // the UNIX timestamp when the JWT will expire\\n// }\\n\\nconst result = await payload.login({\\n  collection: 'users', // required\\n  data: {\\n    // required\\n    email: 'dev@payloadcms.com',\\n    password: 'rip',\\n  },\\n  req: req, // optional, pass a Request object to be provided to all hooks\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  overrideAccess: false,\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Forgot Password\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Returned token will allow for a password reset\\nconst token = await payload.forgotPassword({\\n  collection: 'users', // required\\n  data: {\\n    // required\\n    email: 'dev@payloadcms.com',\\n  },\\n  req: req, // pass a Request object to be provided to all hooks\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Reset Password\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be formatted as follows:\\n// {\\n//   token: 'o38jf0q34jfij43f3f...', // JWT used for auth\\n//   user: { ... } // the user document that just logged in\\n// }\\nconst result = await payload.resetPassword({\\n  collection: 'users', // required\\n  data: {\\n    // required\\n    password: req.body.password, // the new password to set\\n    token: 'afh3o2jf2p3f...', // the token generated from the forgotPassword operation\\n  },\\n  req: req, // optional, pass a Request object to be provided to all hooks\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Unlock\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Returned result will be a boolean representing success or failure\\nconst result = await payload.unlock({\\n  collection: 'users', // required\\n  data: {\\n    // required\\n    email: 'dev@payloadcms.com',\\n  },\\n  req: req, // optional, pass a Request object to be provided to all hooks\\n  overrideAccess: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Verify\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Returned result will be a boolean representing success or failure\\nconst result = await payload.verifyEmail({\\n  collection: 'users', // required\\n  token: 'afh3o2jf2p3f...', // the token saved on the user as `_verificationToken`\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Globals\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following Global operations are available through the Local API:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Find#global-find\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be the Header Global.\\nconst result = await payload.findGlobal({\\n  slug: 'header', // required\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Update#global-update\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"// Result will be the updated Header Global.\\nconst result = await payload.updateGlobal({\\n  slug: 'header', // required\\n  data: {\\n    // required\\n    nav: [\\n      {\\n        url: 'https://google.com',\\n      },\\n      {\\n        url: 'https://payloadcms.com',\\n      },\\n    ],\\n  },\\n  depth: 2,\\n  locale: 'en',\\n  fallbackLocale: false,\\n  user: dummyUser,\\n  overrideAccess: false,\\n  overrideLock: false, // By default, document locks are ignored. Set to false to enforce locks.\\n  showHiddenFields: true,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"TypeScript\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Local API calls will automatically infer your \", _jsx(_components.a, {\n        href: \"/docs/typescript/generating-types\",\n        children: \"generated types\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here is an example of usage:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"// Properly inferred as `Post` type\\nconst post = await payload.create({\\n  collection: 'posts',\\n\\n  // Data will now be typed as Post and give you type hints\\n  data: {\\n    title: 'my title',\\n    description: 'my description',\\n  },\\n})\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["local-api","overview"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>