<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Outside Next.js - Using Payload outside Next.js | Payload CMS Documentation</title><meta name="description" content="Payload can be used outside of Next.js within standalone scripts or in other frameworks like Remix, SvelteKit, Nuxt, and similar."/><meta property="og:title" content="Outside Next.js - Using Payload outside Next.js | Payload CMS Documentation"/><meta property="og:description" content="Payload can be used outside of Next.js within standalone scripts or in other frameworks like Remix, SvelteKit, Nuxt, and similar."/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Using Payload outside Next.js</h1><p class="text-xl text-gray-600 mb-8">Payload can be used outside of Next.js within standalone scripts or in other frameworks like Remix, SvelteKit, Nuxt, and similar.</p><div class="prose prose-lg max-w-none"><p>Payload can be used completely outside of Next.js which is helpful in cases like running scripts, using Payload in a separate backend service, or using Payload&#x27;s Local API to fetch your data directly from your database in other frontend frameworks like SvelteKit, Remix, Nuxt, and similar.</p>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong> Payload and all of its official packages are fully ESM. If you want
to use Payload within your own projects, make sure you are writing your
scripts in ESM format or dynamically importing the Payload Config.</p></div>
<h2>Importing the Payload Config outside of Next.js</h2>
<p>Payload provides a convenient way to run standalone scripts, which can be useful for tasks like seeding your database or performing one-off operations.</p>
<p>In standalone scripts, you can simply import the Payload Config and use it right away. If you need an initialized copy of Payload, you can then use the <code>getPayload</code> function. This can be useful for tasks like seeding your database or performing other one-off operations.</p>
<pre><code class="language-ts">import { getPayload } from &#x27;payload&#x27;
import config from &#x27;@payload-config&#x27;

const seed = async () =&gt; {
  // Get a local copy of Payload by passing your config
  const payload = await getPayload({ config })

  const user = await payload.create({
    collection: &#x27;users&#x27;,
    data: {
      email: &#x27;dev@payloadcms.com&#x27;,
      password: &#x27;some-password&#x27;,
    },
  })

  const page = await payload.create({
    collection: &#x27;pages&#x27;,
    data: {
      title: &#x27;My Homepage&#x27;,
      // other data to seed here
    },
  })
}

// Call the function here to run your seed script
await seed()
</code></pre>
<p>You can then execute the script using <code>payload run</code>. Example: if you placed this standalone script in <code>src/seed.ts</code>, you would execute it like this:</p>
<pre><code class="language-sh">payload run src/seed.ts
</code></pre>
<p>The <code>payload run</code> command does two things for you:</p>
<ol>
<li>It loads the environment variables the same way Next.js loads them, eliminating the need for additional dependencies like <code>dotenv</code>. The usage of <code>dotenv</code> is not recommended, as Next.js loads environment variables differently. By using <code>payload run</code>, you ensure consistent environment variable handling across your Payload and Next.js setup.</li>
<li>It initializes tsx, allowing direct execution of TypeScript files manually installing tools like tsx or ts-node.</li>
</ol>
<h3>Troubleshooting</h3>
<p>If you encounter import-related errors, you have 2 options:</p>
<h4>Option 1: enable swc mode by appending <code>--use-swc</code> to the <code>payload</code> command:</h4>
<p>Example:</p>
<pre><code class="language-sh">payload run src/seed.ts --use-swc
</code></pre>
<p>Note: Install @swc-node/register in your project first. While swc mode is faster than the default tsx mode, it might break for some imports.</p>
<h4>Option 2: use an alternative runtime like bun</h4>
<p>While we do not guarantee support for alternative runtimes, you are free to use them and disable Payload&#x27;s own transpilation by appending the <code>--disable-transpile</code> flag to the <code>payload</code> command:</p>
<pre><code class="language-sh">bunx --bun payload run src/seed.ts --disable-transpile
</code></pre>
<p>You will need to have bun installed on your system for this to work.</p></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Using Payload outside Next.js","label":"Outside Next.js","order":20,"desc":"Payload can be used outside of Next.js within standalone scripts or in other frameworks like Remix, SvelteKit, Nuxt, and similar.","keywords":"local api, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, express"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    h2: \"h2\",\n    code: \"code\",\n    pre: \"pre\",\n    ol: \"ol\",\n    li: \"li\",\n    h3: \"h3\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"Payload can be used completely outside of Next.js which is helpful in cases like running scripts, using Payload in a separate backend service, or using Payload's Local API to fetch your data directly from your database in other frontend frameworks like SvelteKit, Remix, Nuxt, and similar.\"\n    }), \"\\n\", _jsx(Banner, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Note:\"\n        }), \" Payload and all of its official packages are fully ESM. If you want\\nto use Payload within your own projects, make sure you are writing your\\nscripts in ESM format or dynamically importing the Payload Config.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Importing the Payload Config outside of Next.js\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Payload provides a convenient way to run standalone scripts, which can be useful for tasks like seeding your database or performing one-off operations.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In standalone scripts, you can simply import the Payload Config and use it right away. If you need an initialized copy of Payload, you can then use the \", _jsx(_components.code, {\n        children: \"getPayload\"\n      }), \" function. This can be useful for tasks like seeding your database or performing other one-off operations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { getPayload } from 'payload'\\nimport config from '@payload-config'\\n\\nconst seed = async () =\u003e {\\n  // Get a local copy of Payload by passing your config\\n  const payload = await getPayload({ config })\\n\\n  const user = await payload.create({\\n    collection: 'users',\\n    data: {\\n      email: 'dev@payloadcms.com',\\n      password: 'some-password',\\n    },\\n  })\\n\\n  const page = await payload.create({\\n    collection: 'pages',\\n    data: {\\n      title: 'My Homepage',\\n      // other data to seed here\\n    },\\n  })\\n}\\n\\n// Call the function here to run your seed script\\nawait seed()\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can then execute the script using \", _jsx(_components.code, {\n        children: \"payload run\"\n      }), \". Example: if you placed this standalone script in \", _jsx(_components.code, {\n        children: \"src/seed.ts\"\n      }), \", you would execute it like this:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-sh\",\n        children: \"payload run src/seed.ts\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"payload run\"\n      }), \" command does two things for you:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"It loads the environment variables the same way Next.js loads them, eliminating the need for additional dependencies like \", _jsx(_components.code, {\n          children: \"dotenv\"\n        }), \". The usage of \", _jsx(_components.code, {\n          children: \"dotenv\"\n        }), \" is not recommended, as Next.js loads environment variables differently. By using \", _jsx(_components.code, {\n          children: \"payload run\"\n        }), \", you ensure consistent environment variable handling across your Payload and Next.js setup.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"It initializes tsx, allowing direct execution of TypeScript files manually installing tools like tsx or ts-node.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Troubleshooting\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If you encounter import-related errors, you have 2 options:\"\n    }), \"\\n\", _jsxs(_components.h4, {\n      children: [\"Option 1: enable swc mode by appending \", _jsx(_components.code, {\n        children: \"--use-swc\"\n      }), \" to the \", _jsx(_components.code, {\n        children: \"payload\"\n      }), \" command:\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Example:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-sh\",\n        children: \"payload run src/seed.ts --use-swc\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Note: Install @swc-node/register in your project first. While swc mode is faster than the default tsx mode, it might break for some imports.\"\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Option 2: use an alternative runtime like bun\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"While we do not guarantee support for alternative runtimes, you are free to use them and disable Payload's own transpilation by appending the \", _jsx(_components.code, {\n        children: \"--disable-transpile\"\n      }), \" flag to the \", _jsx(_components.code, {\n        children: \"payload\"\n      }), \" command:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-sh\",\n        children: \"bunx --bun payload run src/seed.ts --disable-transpile\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You will need to have bun installed on your system for this to work.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["local-api","outside-nextjs"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>