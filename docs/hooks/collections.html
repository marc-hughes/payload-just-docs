<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-f6932393d0a8e091.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Collection Hooks</h1><p class="text-xl text-gray-600 mb-8">You can add hooks to any Collection, several hook types are available including beforeChange, afterRead, afterDelete and more.</p><div class="prose prose-lg max-w-none"><p>Collection Hooks are <a href="./overview">Hooks</a> that run on Documents within a specific <a href="../configuration/collections">Collection</a>. They allow you to execute your own logic during specific events of the Document lifecycle.</p>
<p>To add Hooks to a Collection, use the <code>hooks</code> property in your <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithHooks: CollectionConfig = {
  // ...
  hooks: {
    // highlight-line
    // ...
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> You can also set hooks on the field-level to isolate hook logic to
specific fields. <a href="./fields">More details</a>.</p></div>
<h2>Config Options</h2>
<p>All Collection Hooks accept an array of <a href="./overview#async-vs-synchronous">synchronous or asynchronous functions</a>. Each Collection Hook receives specific arguments based on its own type, and has the ability to modify specific outputs.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;;

export const CollectionWithHooks: CollectionConfig = {
  // ...
  // highlight-start
  hooks: {
    beforeOperation: [(args) =&gt; {...}],
    beforeValidate: [(args) =&gt; {...}],
    beforeDelete: [(args) =&gt; {...}],
    beforeChange: [(args) =&gt; {...}],
    beforeRead: [(args) =&gt; {...}],
    afterChange: [(args) =&gt; {...}],
    afterRead: [(args) =&gt; {...}],
    afterDelete: [(args) =&gt; {...}],
    afterOperation: [(args) =&gt; {...}],
    afterError: [(args) =&gt; {....}],

    // Auth-enabled Hooks
    beforeLogin: [(args) =&gt; {...}],
    afterLogin: [(args) =&gt; {...}],
    afterLogout: [(args) =&gt; {...}],
    afterRefresh: [(args) =&gt; {...}],
    afterMe: [(args) =&gt; {...}],
    afterForgotPassword: [(args) =&gt; {...}],
    refresh: [(args) =&gt; {...}],
    me: [(args) =&gt; {...}],
  },
  // highlight-end
}
</code></pre>
<h3>beforeOperation</h3>
<p>The <code>beforeOperation</code> hook can be used to modify the arguments that operations accept or execute side-effects that run before an operation begins.</p>
<p>Available Collection operations include <code>create</code>, <code>read</code>, <code>update</code>, <code>delete</code>, <code>login</code>, <code>refresh</code>, and <code>forgotPassword</code>.</p>
<pre><code class="language-ts">import type { CollectionBeforeOperationHook } from &#x27;payload&#x27;

const beforeOperationHook: CollectionBeforeOperationHook = async ({
  args,
  operation,
  req,
}) =&gt; {
  return args // return modified operation arguments as necessary
}
</code></pre>
<p>The following arguments are provided to the <code>beforeOperation</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between Hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>operation</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the operation that this hook is running within.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>beforeValidate</h3>
<p>Runs during the <code>create</code> and <code>update</code> operations. This hook allows you to add or format data before the incoming data is validated server-side.</p>
<p>Please do note that this does not run before client-side validation. If you render a custom field component in your front-end and provide it with a <code>validate</code> function, the order that validations will run in is:</p>
<ol>
<li><code>validate</code> runs on the client</li>
<li>if successful, <code>beforeValidate</code> runs on the server</li>
<li><code>validate</code> runs on the server</li>
</ol>
<pre><code class="language-ts">import type { CollectionBeforeValidateHook } from &#x27;payload&#x27;

const beforeValidateHook: CollectionBeforeValidateHook = async ({ data }) =&gt; {
  return data
}
</code></pre>
<p>The following arguments are provided to the <code>beforeValidate</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between Hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>data</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The incoming data passed through the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>operation</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the operation that this hook is running within.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>originalDoc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The Document before changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>beforeChange</h3>
<p>Immediately following validation, <code>beforeChange</code> hooks will run within <code>create</code> and <code>update</code> operations. At this stage, you can be confident that the data that will be saved to the document is valid in accordance to your field validations. You can optionally modify the shape of data to be saved.</p>
<pre><code class="language-ts">import type { CollectionBeforeChangeHook } from &#x27;payload&#x27;

const beforeChangeHook: CollectionBeforeChangeHook = async ({ data }) =&gt; {
  return data
}
</code></pre>
<p>The following arguments are provided to the <code>beforeChange</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>data</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The incoming data passed through the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>operation</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the operation that this hook is running within.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>originalDoc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The Document before changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>afterChange</h3>
<p>After a document is created or updated, the <code>afterChange</code> hook runs. This hook is helpful to recalculate statistics such as total sales within a global, syncing user profile changes to a CRM, and more.</p>
<pre><code class="language-ts">import type { CollectionAfterChangeHook } from &#x27;payload&#x27;

const afterChangeHook: CollectionAfterChangeHook = async ({ doc }) =&gt; {
  return doc
}
</code></pre>
<p>The following arguments are provided to the <code>afterChange</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>doc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The resulting Document after changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>operation</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the operation that this hook is running within.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>previousDoc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The Document before changes were applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>beforeRead</h3>
<p>Runs before <code>find</code> and <code>findByID</code> operations are transformed for output by <code>afterRead</code>. This hook fires before hidden fields are removed and before localized fields are flattened into the requested locale. Using this Hook will provide you with all locales and all hidden fields via the <code>doc</code> argument.</p>
<pre><code class="language-ts">import type { CollectionBeforeReadHook } from &#x27;payload&#x27;

const beforeReadHook: CollectionBeforeReadHook = async ({ doc }) =&gt; {
  return doc
}
</code></pre>
<p>The following arguments are provided to the <code>beforeRead</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>doc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The resulting Document after changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>query</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../queries/overview">Query</a> of the request.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>afterRead</h3>
<p>Runs as the last step before documents are returned. Flattens locales, hides protected fields, and removes fields that users do not have access to.</p>
<pre><code class="language-ts">import type { CollectionAfterReadHook } from &#x27;payload&#x27;

const afterReadHook: CollectionAfterReadHook = async ({ doc }) =&gt; {
  return doc
}
</code></pre>
<p>The following arguments are provided to the <code>afterRead</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>doc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The resulting Document after changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>query</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../queries/overview">Query</a> of the request.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>beforeDelete</h3>
<p>Runs before the <code>delete</code> operation. Returned values are discarded.</p>
<pre><code class="language-ts">import type { CollectionBeforeDeleteHook } from &#x27;payload&#x27;;

const beforeDeleteHook: CollectionBeforeDeleteHook = async ({
  req,
  id,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>beforeDelete</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>id</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The ID of the Document being deleted.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>afterDelete</h3>
<p>Runs immediately after the <code>delete</code> operation removes records from the database. Returned values are discarded.</p>
<pre><code class="language-ts">import type { CollectionAfterDeleteHook } from &#x27;payload&#x27;;

const afterDeleteHook: CollectionAfterDeleteHook = async ({
  req,
  id,
  doc,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterDelete</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>doc</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The resulting Document after changes are applied.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>id</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The ID of the Document that was deleted.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>afterOperation</h3>
<p>The <code>afterOperation</code> hook can be used to modify the result of operations or execute side-effects that run after an operation has completed.</p>
<p>Available Collection operations include <code>create</code>, <code>find</code>, <code>findByID</code>, <code>update</code>, <code>updateByID</code>, <code>delete</code>, <code>deleteByID</code>, <code>login</code>, <code>refresh</code>, and <code>forgotPassword</code>.</p>
<pre><code class="language-ts">import type { CollectionAfterOperationHook } from &#x27;payload&#x27;

const afterOperationHook: CollectionAfterOperationHook = async ({ result }) =&gt; {
  return result
}
</code></pre>
<p>The following arguments are provided to the <code>afterOperation</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>args</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The arguments passed into the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>operation</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the operation that this hook is running within.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>result</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The result of the operation, before modifications.</td></tr></tbody></table></div>
<h3>afterError</h3>
<p>The <code>afterError</code> Hook is triggered when an error occurs in the Payload application. This can be useful for logging errors to a third-party service, sending an email to the development team, logging the error to Sentry or DataDog, etc. The output can be used to transform the result object / status code.</p>
<pre><code class="language-ts">import type { CollectionAfterErrorHook } from &#x27;payload&#x27;;

const afterErrorHook: CollectionAfterErrorHook = async ({
  req,
  id,
  doc,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterError</code> Hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Argument</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>error</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The error that occurred.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between Hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>graphqlResult</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The GraphQL result object, available if the hook is executed within a GraphQL context.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <code>PayloadRequest</code> object that extends <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a>. Contains currently authenticated <code>user</code> and the Local API instance <code>payload</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>result</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The formatted error result object, available if the hook is executed from a REST context.</td></tr></tbody></table></div>
<h3>beforeLogin</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs during <code>login</code> operations where a user with the provided credentials exist, but before a token is generated and added to the response. You can optionally modify the user that is returned, or throw an error in order to deny the login operation.</p>
<pre><code class="language-ts">import type { CollectionBeforeLoginHook } from &#x27;payload&#x27;

const beforeLoginHook: CollectionBeforeLoginHook = async ({ user }) =&gt; {
  return user
}
</code></pre>
<p>The following arguments are provided to the <code>beforeLogin</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>user</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user being logged in.</td></tr></tbody></table></div>
<h3>afterLogin</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs after successful <code>login</code> operations. You can optionally modify the user that is returned.</p>
<pre><code class="language-ts">import type { CollectionAfterLoginHook } from &#x27;payload&#x27;;

const afterLoginHook: CollectionAfterLoginHook = async ({
  user,
  token,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterLogin</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>token</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The token generated for the user.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>user</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user being logged in.</td></tr></tbody></table></div>
<h3>afterLogout</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs after <code>logout</code> operations.</p>
<pre><code class="language-ts">import type { CollectionAfterLogoutHook } from &#x27;payload&#x27;;

const afterLogoutHook: CollectionAfterLogoutHook = async ({
  req,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterLogout</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr></tbody></table></div>
<h3>afterMe</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs after <code>me</code> operations.</p>
<pre><code class="language-ts">import type { CollectionAfterMeHook } from &#x27;payload&#x27;;

const afterMeHook: CollectionAfterMeHook = async ({
  req,
  response,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterMe</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>response</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The response to return.</td></tr></tbody></table></div>
<h3>afterRefresh</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs after <code>refresh</code> operations.</p>
<pre><code class="language-ts">import type { CollectionAfterRefreshHook } from &#x27;payload&#x27;;

const afterRefreshHook: CollectionAfterRefreshHook = async ({
  token,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterRefresh</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>exp</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The expiration time of the token.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Web Request</a> object. This is mocked for <a href="../local-api/overview">Local API</a> operations.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>token</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The newly refreshed user token.</td></tr></tbody></table></div>
<h3>afterForgotPassword</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook runs after successful <code>forgotPassword</code> operations. Returned values are discarded.</p>
<pre><code class="language-ts">import type { CollectionAfterForgotPasswordHook } from &#x27;payload&#x27;

const afterForgotPasswordHook: CollectionAfterForgotPasswordHook = async ({
  args,
  context,
  collection,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterForgotPassword</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>args</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The arguments passed into the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="../configuration/collections">Collection</a> in which this Hook is running against.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>context</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom context passed between hooks. <a href="./context">More details</a>.</td></tr></tbody></table></div>
<h3>refresh</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook allows you to optionally replace the default behavior of the <code>refresh</code> operation with your own. If you optionally return a value from your hook, the operation will not perform its own logic and continue.</p>
<pre><code class="language-ts">import type { CollectionRefreshHook } from &#x27;payload&#x27;

const myRefreshHook: CollectionRefreshHook = async ({
  args,
  user,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>afterRefresh</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>args</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The arguments passed into the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>user</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user being logged in.</td></tr></tbody></table></div>
<h3>me</h3>
<p>For <a href="../authentication/overview">Auth-enabled Collections</a>, this hook allows you to optionally replace the default behavior of the <code>me</code> operation with your own. If you optionally return a value from your hook, the operation will not perform its own logic and continue.</p>
<pre><code class="language-ts">import type { CollectionMeHook } from &#x27;payload&#x27;

const meHook: CollectionMeHook = async ({
  args,
  user,
}) =&gt; {...}
</code></pre>
<p>The following arguments are provided to the <code>me</code> hook:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>args</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The arguments passed into the operation.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>user</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user being logged in.</td></tr></tbody></table></div>
<h2>TypeScript</h2>
<p>Payload exports a type for each Collection hook which can be accessed as follows:</p>
<pre><code class="language-ts">import type {
  CollectionBeforeOperationHook,
  CollectionBeforeValidateHook,
  CollectionBeforeChangeHook,
  CollectionAfterChangeHook,
  CollectionAfterReadHook,
  CollectionBeforeReadHook,
  CollectionBeforeDeleteHook,
  CollectionAfterDeleteHook,
  CollectionBeforeLoginHook,
  CollectionAfterLoginHook,
  CollectionAfterLogoutHook,
  CollectionAfterRefreshHook,
  CollectionAfterMeHook,
  CollectionAfterForgotPasswordHook,
  CollectionRefreshHook,
  CollectionMeHook,
} from &#x27;payload&#x27;
</code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Collection Hooks","label":"Collections","order":20,"desc":"You can add hooks to any Collection, several hook types are available including beforeChange, afterRead, afterDelete and more.","keywords":"hooks, collections, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    strong: \"strong\",\n    h2: \"h2\",\n    h3: \"h3\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    ol: \"ol\",\n    li: \"li\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Collection Hooks are \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Hooks\"\n      }), \" that run on Documents within a specific \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection\"\n      }), \". They allow you to execute your own logic during specific events of the Document lifecycle.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Hooks to a Collection, use the \", _jsx(_components.code, {\n        children: \"hooks\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithHooks: CollectionConfig = {\\n  // ...\\n  hooks: {\\n    // highlight-line\\n    // ...\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" You can also set hooks on the field-level to isolate hook logic to\\nspecific fields. \", _jsx(_components.a, {\n          href: \"./fields\",\n          children: \"More details\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"All Collection Hooks accept an array of \", _jsx(_components.a, {\n        href: \"./overview#async-vs-synchronous\",\n        children: \"synchronous or asynchronous functions\"\n      }), \". Each Collection Hook receives specific arguments based on its own type, and has the ability to modify specific outputs.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload';\\n\\nexport const CollectionWithHooks: CollectionConfig = {\\n  // ...\\n  // highlight-start\\n  hooks: {\\n    beforeOperation: [(args) =\u003e {...}],\\n    beforeValidate: [(args) =\u003e {...}],\\n    beforeDelete: [(args) =\u003e {...}],\\n    beforeChange: [(args) =\u003e {...}],\\n    beforeRead: [(args) =\u003e {...}],\\n    afterChange: [(args) =\u003e {...}],\\n    afterRead: [(args) =\u003e {...}],\\n    afterDelete: [(args) =\u003e {...}],\\n    afterOperation: [(args) =\u003e {...}],\\n    afterError: [(args) =\u003e {....}],\\n\\n    // Auth-enabled Hooks\\n    beforeLogin: [(args) =\u003e {...}],\\n    afterLogin: [(args) =\u003e {...}],\\n    afterLogout: [(args) =\u003e {...}],\\n    afterRefresh: [(args) =\u003e {...}],\\n    afterMe: [(args) =\u003e {...}],\\n    afterForgotPassword: [(args) =\u003e {...}],\\n    refresh: [(args) =\u003e {...}],\\n    me: [(args) =\u003e {...}],\\n  },\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeOperation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"beforeOperation\"\n      }), \" hook can be used to modify the arguments that operations accept or execute side-effects that run before an operation begins.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Available Collection operations include \", _jsx(_components.code, {\n        children: \"create\"\n      }), \", \", _jsx(_components.code, {\n        children: \"read\"\n      }), \", \", _jsx(_components.code, {\n        children: \"update\"\n      }), \", \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \", \", _jsx(_components.code, {\n        children: \"login\"\n      }), \", \", _jsx(_components.code, {\n        children: \"refresh\"\n      }), \", and \", _jsx(_components.code, {\n        children: \"forgotPassword\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeOperationHook } from 'payload'\\n\\nconst beforeOperationHook: CollectionBeforeOperationHook = async ({\\n  args,\\n  operation,\\n  req,\\n}) =\u003e {\\n  return args // return modified operation arguments as necessary\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeOperation\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between Hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"operation\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The name of the operation that this hook is running within.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeValidate\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Runs during the \", _jsx(_components.code, {\n        children: \"create\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" operations. This hook allows you to add or format data before the incoming data is validated server-side.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Please do note that this does not run before client-side validation. If you render a custom field component in your front-end and provide it with a \", _jsx(_components.code, {\n        children: \"validate\"\n      }), \" function, the order that validations will run in is:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"validate\"\n        }), \" runs on the client\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"if successful, \", _jsx(_components.code, {\n          children: \"beforeValidate\"\n        }), \" runs on the server\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"validate\"\n        }), \" runs on the server\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeValidateHook } from 'payload'\\n\\nconst beforeValidateHook: CollectionBeforeValidateHook = async ({ data }) =\u003e {\\n  return data\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeValidate\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between Hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"data\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The incoming data passed through the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"operation\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The name of the operation that this hook is running within.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"originalDoc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The Document before changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeChange\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Immediately following validation, \", _jsx(_components.code, {\n        children: \"beforeChange\"\n      }), \" hooks will run within \", _jsx(_components.code, {\n        children: \"create\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" operations. At this stage, you can be confident that the data that will be saved to the document is valid in accordance to your field validations. You can optionally modify the shape of data to be saved.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeChangeHook } from 'payload'\\n\\nconst beforeChangeHook: CollectionBeforeChangeHook = async ({ data }) =\u003e {\\n  return data\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeChange\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"data\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The incoming data passed through the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"operation\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The name of the operation that this hook is running within.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"originalDoc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The Document before changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterChange\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"After a document is created or updated, the \", _jsx(_components.code, {\n        children: \"afterChange\"\n      }), \" hook runs. This hook is helpful to recalculate statistics such as total sales within a global, syncing user profile changes to a CRM, and more.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterChangeHook } from 'payload'\\n\\nconst afterChangeHook: CollectionAfterChangeHook = async ({ doc }) =\u003e {\\n  return doc\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterChange\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"doc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The resulting Document after changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"operation\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The name of the operation that this hook is running within.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"previousDoc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The Document before changes were applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeRead\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Runs before \", _jsx(_components.code, {\n        children: \"find\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"findByID\"\n      }), \" operations are transformed for output by \", _jsx(_components.code, {\n        children: \"afterRead\"\n      }), \". This hook fires before hidden fields are removed and before localized fields are flattened into the requested locale. Using this Hook will provide you with all locales and all hidden fields via the \", _jsx(_components.code, {\n        children: \"doc\"\n      }), \" argument.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeReadHook } from 'payload'\\n\\nconst beforeReadHook: CollectionBeforeReadHook = async ({ doc }) =\u003e {\\n  return doc\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeRead\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"doc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The resulting Document after changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"query\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../queries/overview\",\n              children: \"Query\"\n            }), \" of the request.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterRead\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Runs as the last step before documents are returned. Flattens locales, hides protected fields, and removes fields that users do not have access to.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterReadHook } from 'payload'\\n\\nconst afterReadHook: CollectionAfterReadHook = async ({ doc }) =\u003e {\\n  return doc\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterRead\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"doc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The resulting Document after changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"query\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../queries/overview\",\n              children: \"Query\"\n            }), \" of the request.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeDelete\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Runs before the \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \" operation. Returned values are discarded.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeDeleteHook } from 'payload';\\n\\nconst beforeDeleteHook: CollectionBeforeDeleteHook = async ({\\n  req,\\n  id,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeDelete\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"id\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The ID of the Document being deleted.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterDelete\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Runs immediately after the \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \" operation removes records from the database. Returned values are discarded.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterDeleteHook } from 'payload';\\n\\nconst afterDeleteHook: CollectionAfterDeleteHook = async ({\\n  req,\\n  id,\\n  doc,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterDelete\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"doc\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The resulting Document after changes are applied.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"id\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The ID of the Document that was deleted.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterOperation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"afterOperation\"\n      }), \" hook can be used to modify the result of operations or execute side-effects that run after an operation has completed.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Available Collection operations include \", _jsx(_components.code, {\n        children: \"create\"\n      }), \", \", _jsx(_components.code, {\n        children: \"find\"\n      }), \", \", _jsx(_components.code, {\n        children: \"findByID\"\n      }), \", \", _jsx(_components.code, {\n        children: \"update\"\n      }), \", \", _jsx(_components.code, {\n        children: \"updateByID\"\n      }), \", \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \", \", _jsx(_components.code, {\n        children: \"deleteByID\"\n      }), \", \", _jsx(_components.code, {\n        children: \"login\"\n      }), \", \", _jsx(_components.code, {\n        children: \"refresh\"\n      }), \", and \", _jsx(_components.code, {\n        children: \"forgotPassword\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterOperationHook } from 'payload'\\n\\nconst afterOperationHook: CollectionAfterOperationHook = async ({ result }) =\u003e {\\n  return result\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterOperation\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"args\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The arguments passed into the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"operation\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The name of the operation that this hook is running within.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"result\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The result of the operation, before modifications.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterError\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"afterError\"\n      }), \" Hook is triggered when an error occurs in the Payload application. This can be useful for logging errors to a third-party service, sending an email to the development team, logging the error to Sentry or DataDog, etc. The output can be used to transform the result object / status code.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterErrorHook } from 'payload';\\n\\nconst afterErrorHook: CollectionAfterErrorHook = async ({\\n  req,\\n  id,\\n  doc,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterError\"\n      }), \" Hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Argument\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"error\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The error that occurred.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between Hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"graphqlResult\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The GraphQL result object, available if the hook is executed within a GraphQL context.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.code, {\n              children: \"PayloadRequest\"\n            }), \" object that extends \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \". Contains currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \" and the Local API instance \", _jsx(_components.code, {\n              children: \"payload\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"result\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The formatted error result object, available if the hook is executed from a REST context.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"beforeLogin\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs during \", _jsx(_components.code, {\n        children: \"login\"\n      }), \" operations where a user with the provided credentials exist, but before a token is generated and added to the response. You can optionally modify the user that is returned, or throw an error in order to deny the login operation.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionBeforeLoginHook } from 'payload'\\n\\nconst beforeLoginHook: CollectionBeforeLoginHook = async ({ user }) =\u003e {\\n  return user\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"beforeLogin\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"user\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The user being logged in.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterLogin\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs after successful \", _jsx(_components.code, {\n        children: \"login\"\n      }), \" operations. You can optionally modify the user that is returned.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterLoginHook } from 'payload';\\n\\nconst afterLoginHook: CollectionAfterLoginHook = async ({\\n  user,\\n  token,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterLogin\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"token\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The token generated for the user.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"user\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The user being logged in.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterLogout\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs after \", _jsx(_components.code, {\n        children: \"logout\"\n      }), \" operations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterLogoutHook } from 'payload';\\n\\nconst afterLogoutHook: CollectionAfterLogoutHook = async ({\\n  req,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterLogout\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterMe\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs after \", _jsx(_components.code, {\n        children: \"me\"\n      }), \" operations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterMeHook } from 'payload';\\n\\nconst afterMeHook: CollectionAfterMeHook = async ({\\n  req,\\n  response,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterMe\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"response\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The response to return.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterRefresh\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs after \", _jsx(_components.code, {\n        children: \"refresh\"\n      }), \" operations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterRefreshHook } from 'payload';\\n\\nconst afterRefreshHook: CollectionAfterRefreshHook = async ({\\n  token,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterRefresh\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"exp\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The expiration time of the token.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Web Request\"\n            }), \" object. This is mocked for \", _jsx(_components.a, {\n              href: \"../local-api/overview\",\n              children: \"Local API\"\n            }), \" operations.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"token\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The newly refreshed user token.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"afterForgotPassword\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook runs after successful \", _jsx(_components.code, {\n        children: \"forgotPassword\"\n      }), \" operations. Returned values are discarded.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionAfterForgotPasswordHook } from 'payload'\\n\\nconst afterForgotPasswordHook: CollectionAfterForgotPasswordHook = async ({\\n  args,\\n  context,\\n  collection,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterForgotPassword\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"args\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The arguments passed into the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"../configuration/collections\",\n              children: \"Collection\"\n            }), \" in which this Hook is running against.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"context\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom context passed between hooks. \", _jsx(_components.a, {\n              href: \"./context\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"refresh\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook allows you to optionally replace the default behavior of the \", _jsx(_components.code, {\n        children: \"refresh\"\n      }), \" operation with your own. If you optionally return a value from your hook, the operation will not perform its own logic and continue.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionRefreshHook } from 'payload'\\n\\nconst myRefreshHook: CollectionRefreshHook = async ({\\n  args,\\n  user,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"afterRefresh\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"args\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The arguments passed into the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"user\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The user being logged in.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"me\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: \"Auth-enabled Collections\"\n      }), \", this hook allows you to optionally replace the default behavior of the \", _jsx(_components.code, {\n        children: \"me\"\n      }), \" operation with your own. If you optionally return a value from your hook, the operation will not perform its own logic and continue.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionMeHook } from 'payload'\\n\\nconst meHook: CollectionMeHook = async ({\\n  args,\\n  user,\\n}) =\u003e {...}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"me\"\n      }), \" hook:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"args\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The arguments passed into the operation.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"user\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The user being logged in.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"TypeScript\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Payload exports a type for each Collection hook which can be accessed as follows:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type {\\n  CollectionBeforeOperationHook,\\n  CollectionBeforeValidateHook,\\n  CollectionBeforeChangeHook,\\n  CollectionAfterChangeHook,\\n  CollectionAfterReadHook,\\n  CollectionBeforeReadHook,\\n  CollectionBeforeDeleteHook,\\n  CollectionAfterDeleteHook,\\n  CollectionBeforeLoginHook,\\n  CollectionAfterLoginHook,\\n  CollectionAfterLogoutHook,\\n  CollectionAfterRefreshHook,\\n  CollectionAfterMeHook,\\n  CollectionAfterForgotPasswordHook,\\n  CollectionRefreshHook,\\n  CollectionMeHook,\\n} from 'payload'\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["hooks","collections"]},"buildId":"DHzIn8D_gRO4uRLrnkzxV","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>