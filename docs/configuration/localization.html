<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Localization - Localization | Payload CMS Documentation</title><meta name="description" content="Add and maintain as many locales as you need by adding Localization to your Payload Config, set options for default locale, fallbacks, fields and more."/><meta property="og:title" content="Localization - Localization | Payload CMS Documentation"/><meta property="og:description" content="Add and maintain as many locales as you need by adding Localization to your Payload Config, set options for default locale, fallbacks, fields and more."/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Localization</h1><p class="text-xl text-gray-600 mb-8">Add and maintain as many locales as you need by adding Localization to your Payload Config, set options for default locale, fallbacks, fields and more.</p><div class="prose prose-lg max-w-none"><p>Localization is one of the most important features of a modern CMS. It allows you to manage content in multiple languages, then serve it to your users based on their requested language. This is similar to <a href="./i18n">I18n</a>, but instead of managing translations for your application&#x27;s interface, you are managing translations for the data itself.</p>
<p>With Localization, you can begin to serve personalized content to your users based on their specific language preferences, such as a multilingual website or multi-site application. There are no limits to the number of locales you can add to your Payload project.</p>
<p>To configure Localization, use the <code>localization</code> key in your <a href="./overview">Payload Config</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;

export default buildConfig({
  // ...
  localization: {
    // highlight-line
    // ...
  },
})
</code></pre>
<h2>Config Options</h2>
<p>Add the <code>localization</code> property to your Payload Config to enable Localization project-wide. You&#x27;ll need to provide a list of all locales that you&#x27;d like to support as well as set a few other options.</p>
<p>To configure locales, use the <code>localization.locales</code> property in your <a href="./overview">Payload Config</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;

export default buildConfig({
  // ...
  localization: {
    locales: [&#x27;en&#x27;, &#x27;es&#x27;, &#x27;de&#x27;], // required
    defaultLocale: &#x27;en&#x27;, // required
  },
})
</code></pre>
<p>You can also define locales using <a href="#locale-object">full configuration objects</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;

export default buildConfig({
  collections: [
    // collections go here
  ],
  localization: {
    locales: [
      {
        label: &#x27;English&#x27;,
        code: &#x27;en&#x27;,
      },
      {
        label: &#x27;Arabic&#x27;,
        code: &#x27;ar&#x27;,
        // opt-in to setting default text-alignment on Input fields to rtl (right-to-left)
        // when current locale is rtl
        rtl: true,
      },
    ],
    defaultLocale: &#x27;en&#x27;, // required
    fallback: true, // defaults to true
  },
})
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> Localization works very well alongside
<a href="/payload-just-docs/docs/configuration/i18n">I18n</a>.</p></div>
<p>The following options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>locales</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Array of all the languages that you would like to support. <a href="#locales">More details</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>defaultLocale</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Required string that matches one of the locale codes from the array provided. By default, if no locale is specified, documents will be returned in this locale.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>fallback</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Boolean enabling &quot;fallback&quot; locale functionality. If a document is requested in a locale, but a field does not have a localized value corresponding to the requested locale, then if this property is enabled, the document will automatically fall back to the fallback locale value. If this property is not enabled, the value will not be populated unless a fallback is explicitly provided in the request. True by default.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>filterAvailableLocales</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A function that is called with the array of <code>locales</code> and the <code>req</code>, it should return locales to show in admin UI selector. <a href="#filter-available-options">See more</a>.</td></tr></tbody></table></div>
<h3>Locales</h3>
<p>The locales array is a list of all the languages that you would like to support. This can be strings for each language code, or <a href="#locale-object">full configuration objects</a> for more advanced options.</p>
<p>The locale codes do not need to be in any specific format. It&#x27;s up to you to define how to represent your locales. Common patterns are to use two-letter ISO 639 language codes or four-letter language and country codes (ISO 3166â€‘1) such as <code>en-US</code>, <code>en-UK</code>, <code>es-MX</code>, etc.</p>
<h4>Locale Object</h4>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>code</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Unique code to identify the language throughout the APIs for <code>locale</code> and <code>fallbackLocale</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>label</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A string to use for the selector when choosing a language, or an object keyed on the i18n keys for different languages in use.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>rtl</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A boolean that when true will make the admin UI display in Right-To-Left.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>fallbackLocale</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The code for this language to fallback to when properties of a document are not present.</td></tr></tbody></table></div>
<p><em>* An asterisk denotes that a property is required.</em></p>
<h4>Filter Available Options</h4>
<p>In some projects you may want to filter the available locales shown in the admin UI selector. You can do this by providing a <code>filterAvailableLocales</code> function in your Payload Config. This is called on the server side and is passed the array of locales. This means that you can determine what locales are visible in the localizer selection menu at the top of the admin panel. You could do this per user, or implement a function that scopes these to tenants and more. Here is an example using request headers in a multi-tenant application:</p>
<pre><code class="language-ts">// ... rest of Payload config
localization: {
  defaultLocale: &#x27;en&#x27;,
  locales: [&#x27;en&#x27;, &#x27;es&#x27;],
  filterAvailableLocales: async ({ req, locales }) =&gt; {
    if (getTenantFromCookie(req.headers, &#x27;text&#x27;)) {
      const fullTenant = await req.payload.findByID({
        id: getTenantFromCookie(req.headers, &#x27;text&#x27;) as string,
        collection: &#x27;tenants&#x27;,
        req,
      })
      if (fullTenant &amp;&amp; fullTenant.supportedLocales?.length) {
        return locales.filter((locale) =&gt; {
          return fullTenant.supportedLocales?.includes(locale.code as &#x27;en&#x27; | &#x27;es&#x27;)
        })
      }
    }
    return locales
  },
}
</code></pre>
<p>Since the filtering happens at the root level of the application and its result is not calculated every time you navigate to a new page, you may want to call <code>router.refresh</code> in a custom component that watches when values that affect the result change. In the example above, you would want to do this when <code>supportedLocales</code> changes on the tenant document.</p>
<h2>Field Localization</h2>
<p>Payload Localization works on a <strong>field</strong> levelâ€”not a document level. In addition to configuring the base Payload Config to support Localization, you need to specify each field that you would like to localize.</p>
<p><strong>Here is an example of how to enable Localization for a field:</strong></p>
<pre><code class="language-js">{
  name: &#x27;title&#x27;,
  type: &#x27;text&#x27;,
  // highlight-start
  localized: true,
  // highlight-end
}
</code></pre>
<p>With the above configuration, the <code>title</code> field will now be saved in the database as an object of all locales instead of a single string.</p>
<p>All field types with a <code>name</code> property support the <code>localized</code> propertyâ€”even the more complex field types like <code>array</code>s and <code>block</code>s.</p>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong> Enabling Localization for field types that support nested fields
will automatically create localized &quot;sets&quot; of all fields contained within the
field. For example, if you have a page layout using a blocks field type, you
have the choice of either localizing the full layout, by enabling Localization
on the top-level blocks field, or only certain fields within the layout.</p></div>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Important:</strong> When converting an existing field to or from <code>localized: true</code>
the data structure in the document will change for this field and so existing
data for this field will be lost. Before changing the Localization setting on
fields with existing data, you may need to consider a field migration
strategy.</p></div>
<h2>Retrieving Localized Docs</h2>
<p>When retrieving documents, you can specify which locale you&#x27;d like to receive as well as which fallback locale should be
used.</p>
<h4>REST API</h4>
<p>REST API locale functionality relies on URL query parameters.</p>
<p><strong><code>?locale=</code></strong></p>
<p>Specify your desired locale by providing the <code>locale</code> query parameter directly in the endpoint URL.</p>
<p><strong><code>?fallback-locale=</code></strong></p>
<p>Specify fallback locale to be used by providing the <code>fallback-locale</code> query parameter. This can be provided as either a
valid locale as provided to your base Payload Config, or <code>&#x27;null&#x27;</code>, <code>&#x27;false&#x27;</code>, or <code>&#x27;none&#x27;</code> to disable falling back.</p>
<p><strong>Example:</strong></p>
<pre><code>fetch(&#x27;https://localhost:3000/api/pages?locale=es&amp;fallback-locale=none&#x27;);
</code></pre>
<h4>GraphQL API</h4>
<p>In the GraphQL API, you can specify <code>locale</code> and <code>fallbackLocale</code> args to all relevant queries and mutations.</p>
<p>The <code>locale</code> arg will only accept valid locales, but locales will be formatted automatically as valid GraphQL enum
values (dashes or special characters will be converted to underscores, spaces will be removed, etc.). If you are curious
to see how locales are auto-formatted, you can use the <a href="/payload-just-docs/docs/graphql/overview#graphql-playground">GraphQL playground</a>.</p>
<p>The <code>fallbackLocale</code> arg will accept valid locales as well as <code>none</code> to disable falling back.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-graphql">query {
  Posts(locale: de, fallbackLocale: none) {
    docs {
      title
    }
  }
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p>In GraphQL, specifying the locale at the top level of a query will
automatically apply it throughout all nested relationship fields. You can
override this behavior by re-specifying locale arguments in nested related
document queries.</p></div>
<h4>Local API</h4>
<p>You can specify <code>locale</code> as well as <code>fallbackLocale</code> within the Local API as well as properties on the <code>options</code>
argument. The <code>locale</code> property will accept any valid locale, and the <code>fallbackLocale</code> property will accept any valid
locale as well as <code>&#x27;null&#x27;</code>, <code>&#x27;false&#x27;</code>, <code>false</code>, and <code>&#x27;none&#x27;</code>.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-js">const posts = await payload.find({
  collection: &#x27;posts&#x27;,
  locale: &#x27;es&#x27;,
  fallbackLocale: false,
})
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> The REST and Local APIs can return all Localization data in one
request by passing &#x27;all&#x27; or &#x27;*&#x27; as the <strong>locale</strong> parameter. The response will
be structured so that field values come back as the full objects keyed for
each locale instead of the single, translated value.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Localization","label":"Localization","order":50,"desc":"Add and maintain as many locales as you need by adding Localization to your Payload Config, set options for default locale, fallbacks, fields and more.","keywords":"localization, internationalization, i18n, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    h2: \"h2\",\n    strong: \"strong\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    h3: \"h3\",\n    h4: \"h4\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Localization is one of the most important features of a modern CMS. It allows you to manage content in multiple languages, then serve it to your users based on their requested language. This is similar to \", _jsx(_components.a, {\n        href: \"./i18n\",\n        children: \"I18n\"\n      }), \", but instead of managing translations for your application's interface, you are managing translations for the data itself.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"With Localization, you can begin to serve personalized content to your users based on their specific language preferences, such as a multilingual website or multi-site application. There are no limits to the number of locales you can add to your Payload project.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To configure Localization, use the \", _jsx(_components.code, {\n        children: \"localization\"\n      }), \" key in your \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Payload Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\n\\nexport default buildConfig({\\n  // ...\\n  localization: {\\n    // highlight-line\\n    // ...\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Add the \", _jsx(_components.code, {\n        children: \"localization\"\n      }), \" property to your Payload Config to enable Localization project-wide. You'll need to provide a list of all locales that you'd like to support as well as set a few other options.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To configure locales, use the \", _jsx(_components.code, {\n        children: \"localization.locales\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Payload Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\n\\nexport default buildConfig({\\n  // ...\\n  localization: {\\n    locales: ['en', 'es', 'de'], // required\\n    defaultLocale: 'en', // required\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also define locales using \", _jsx(_components.a, {\n        href: \"#locale-object\",\n        children: \"full configuration objects\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\n\\nexport default buildConfig({\\n  collections: [\\n    // collections go here\\n  ],\\n  localization: {\\n    locales: [\\n      {\\n        label: 'English',\\n        code: 'en',\\n      },\\n      {\\n        label: 'Arabic',\\n        code: 'ar',\\n        // opt-in to setting default text-alignment on Input fields to rtl (right-to-left)\\n        // when current locale is rtl\\n        rtl: true,\\n      },\\n    ],\\n    defaultLocale: 'en', // required\\n    fallback: true, // defaults to true\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" Localization works very well alongside\\n\", _jsx(_components.a, {\n          href: \"/docs/configuration/i18n\",\n          children: \"I18n\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following options are available:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"locales\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Array of all the languages that you would like to support. \", _jsx(_components.a, {\n              href: \"#locales\",\n              children: \"More details\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"defaultLocale\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Required string that matches one of the locale codes from the array provided. By default, if no locale is specified, documents will be returned in this locale.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"fallback\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Boolean enabling \\\"fallback\\\" locale functionality. If a document is requested in a locale, but a field does not have a localized value corresponding to the requested locale, then if this property is enabled, the document will automatically fall back to the fallback locale value. If this property is not enabled, the value will not be populated unless a fallback is explicitly provided in the request. True by default.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"filterAvailableLocales\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"A function that is called with the array of \", _jsx(_components.code, {\n              children: \"locales\"\n            }), \" and the \", _jsx(_components.code, {\n              children: \"req\"\n            }), \", it should return locales to show in admin UI selector. \", _jsx(_components.a, {\n              href: \"#filter-available-options\",\n              children: \"See more\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Locales\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The locales array is a list of all the languages that you would like to support. This can be strings for each language code, or \", _jsx(_components.a, {\n        href: \"#locale-object\",\n        children: \"full configuration objects\"\n      }), \" for more advanced options.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The locale codes do not need to be in any specific format. It's up to you to define how to represent your locales. Common patterns are to use two-letter ISO 639 language codes or four-letter language and country codes (ISO 3166â€‘1) such as \", _jsx(_components.code, {\n        children: \"en-US\"\n      }), \", \", _jsx(_components.code, {\n        children: \"en-UK\"\n      }), \", \", _jsx(_components.code, {\n        children: \"es-MX\"\n      }), \", etc.\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Locale Object\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"code\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"Unique code to identify the language throughout the APIs for \", _jsx(_components.code, {\n              children: \"locale\"\n            }), \" and \", _jsx(_components.code, {\n              children: \"fallbackLocale\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"label\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"A string to use for the selector when choosing a language, or an object keyed on the i18n keys for different languages in use.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"rtl\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"A boolean that when true will make the admin UI display in Right-To-Left.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"fallbackLocale\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The code for this language to fallback to when properties of a document are not present.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"* An asterisk denotes that a property is required.\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Filter Available Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In some projects you may want to filter the available locales shown in the admin UI selector. You can do this by providing a \", _jsx(_components.code, {\n        children: \"filterAvailableLocales\"\n      }), \" function in your Payload Config. This is called on the server side and is passed the array of locales. This means that you can determine what locales are visible in the localizer selection menu at the top of the admin panel. You could do this per user, or implement a function that scopes these to tenants and more. Here is an example using request headers in a multi-tenant application:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"// ... rest of Payload config\\nlocalization: {\\n  defaultLocale: 'en',\\n  locales: ['en', 'es'],\\n  filterAvailableLocales: async ({ req, locales }) =\u003e {\\n    if (getTenantFromCookie(req.headers, 'text')) {\\n      const fullTenant = await req.payload.findByID({\\n        id: getTenantFromCookie(req.headers, 'text') as string,\\n        collection: 'tenants',\\n        req,\\n      })\\n      if (fullTenant \u0026\u0026 fullTenant.supportedLocales?.length) {\\n        return locales.filter((locale) =\u003e {\\n          return fullTenant.supportedLocales?.includes(locale.code as 'en' | 'es')\\n        })\\n      }\\n    }\\n    return locales\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Since the filtering happens at the root level of the application and its result is not calculated every time you navigate to a new page, you may want to call \", _jsx(_components.code, {\n        children: \"router.refresh\"\n      }), \" in a custom component that watches when values that affect the result change. In the example above, you would want to do this when \", _jsx(_components.code, {\n        children: \"supportedLocales\"\n      }), \" changes on the tenant document.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Field Localization\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Payload Localization works on a \", _jsx(_components.strong, {\n        children: \"field\"\n      }), \" levelâ€”not a document level. In addition to configuring the base Payload Config to support Localization, you need to specify each field that you would like to localize.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Here is an example of how to enable Localization for a field:\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"{\\n  name: 'title',\\n  type: 'text',\\n  // highlight-start\\n  localized: true,\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"With the above configuration, the \", _jsx(_components.code, {\n        children: \"title\"\n      }), \" field will now be saved in the database as an object of all locales instead of a single string.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"All field types with a \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" property support the \", _jsx(_components.code, {\n        children: \"localized\"\n      }), \" propertyâ€”even the more complex field types like \", _jsx(_components.code, {\n        children: \"array\"\n      }), \"s and \", _jsx(_components.code, {\n        children: \"block\"\n      }), \"s.\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Note:\"\n        }), \" Enabling Localization for field types that support nested fields\\nwill automatically create localized \\\"sets\\\" of all fields contained within the\\nfield. For example, if you have a page layout using a blocks field type, you\\nhave the choice of either localizing the full layout, by enabling Localization\\non the top-level blocks field, or only certain fields within the layout.\"]\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Important:\"\n        }), \" When converting an existing field to or from \", _jsx(_components.code, {\n          children: \"localized: true\"\n        }), \"\\nthe data structure in the document will change for this field and so existing\\ndata for this field will be lost. Before changing the Localization setting on\\nfields with existing data, you may need to consider a field migration\\nstrategy.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Retrieving Localized Docs\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When retrieving documents, you can specify which locale you'd like to receive as well as which fallback locale should be\\nused.\"\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"REST API\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"REST API locale functionality relies on URL query parameters.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: _jsx(_components.code, {\n          children: \"?locale=\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Specify your desired locale by providing the \", _jsx(_components.code, {\n        children: \"locale\"\n      }), \" query parameter directly in the endpoint URL.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: _jsx(_components.code, {\n          children: \"?fallback-locale=\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Specify fallback locale to be used by providing the \", _jsx(_components.code, {\n        children: \"fallback-locale\"\n      }), \" query parameter. This can be provided as either a\\nvalid locale as provided to your base Payload Config, or \", _jsx(_components.code, {\n        children: \"'null'\"\n      }), \", \", _jsx(_components.code, {\n        children: \"'false'\"\n      }), \", or \", _jsx(_components.code, {\n        children: \"'none'\"\n      }), \" to disable falling back.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Example:\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"fetch('https://localhost:3000/api/pages?locale=es\u0026fallback-locale=none');\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"GraphQL API\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the GraphQL API, you can specify \", _jsx(_components.code, {\n        children: \"locale\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"fallbackLocale\"\n      }), \" args to all relevant queries and mutations.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"locale\"\n      }), \" arg will only accept valid locales, but locales will be formatted automatically as valid GraphQL enum\\nvalues (dashes or special characters will be converted to underscores, spaces will be removed, etc.). If you are curious\\nto see how locales are auto-formatted, you can use the \", _jsx(_components.a, {\n        href: \"/docs/graphql/overview#graphql-playground\",\n        children: \"GraphQL playground\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"fallbackLocale\"\n      }), \" arg will accept valid locales as well as \", _jsx(_components.code, {\n        children: \"none\"\n      }), \" to disable falling back.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Example:\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-graphql\",\n        children: \"query {\\n  Posts(locale: de, fallbackLocale: none) {\\n    docs {\\n      title\\n    }\\n  }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      children: _jsx(_components.p, {\n        children: \"In GraphQL, specifying the locale at the top level of a query will\\nautomatically apply it throughout all nested relationship fields. You can\\noverride this behavior by re-specifying locale arguments in nested related\\ndocument queries.\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Local API\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can specify \", _jsx(_components.code, {\n        children: \"locale\"\n      }), \" as well as \", _jsx(_components.code, {\n        children: \"fallbackLocale\"\n      }), \" within the Local API as well as properties on the \", _jsx(_components.code, {\n        children: \"options\"\n      }), \"\\nargument. The \", _jsx(_components.code, {\n        children: \"locale\"\n      }), \" property will accept any valid locale, and the \", _jsx(_components.code, {\n        children: \"fallbackLocale\"\n      }), \" property will accept any valid\\nlocale as well as \", _jsx(_components.code, {\n        children: \"'null'\"\n      }), \", \", _jsx(_components.code, {\n        children: \"'false'\"\n      }), \", \", _jsx(_components.code, {\n        children: \"false\"\n      }), \", and \", _jsx(_components.code, {\n        children: \"'none'\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Example:\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"const posts = await payload.find({\\n  collection: 'posts',\\n  locale: 'es',\\n  fallbackLocale: false,\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" The REST and Local APIs can return all Localization data in one\\nrequest by passing 'all' or '*' as the \", _jsx(_components.strong, {\n          children: \"locale\"\n        }), \" parameter. The response will\\nbe structured so that field values come back as the full objects keyed for\\neach locale instead of the single, translated value.\"]\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["configuration","localization"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>