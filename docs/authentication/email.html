<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-e023289636109d90.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Authentication Emails</h1><p class="text-xl text-gray-600 mb-8">Email Verification allows users to verify their email address before they&#x27;re account is fully activated. Email Verification ties directly into the Email functionality that Payload provides.</p><div class="prose prose-lg max-w-none"><p><a href="./overview">Authentication</a> ties directly into the <a href="../email/overview">Email</a> functionality that Payload provides. This allows you to send emails to users for verification, password resets, and more. While Payload provides default email templates for these actions, you can customize them to fit your brand.</p>
<h2>Email Verification</h2>
<p>Email Verification forces users to prove they have access to the email address they can authenticate. This will help to reduce spam accounts and ensure that users are who they say they are.</p>
<p>To enable Email Verification, use the <code>auth.verify</code> property on your <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    verify: true, // highlight-line
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> Verification emails are fully customizable. <a href="#generateemailhtml">More
details</a>.</p></div>
<p>The following options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>generateEmailHTML</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Allows for overriding the HTML within emails that are sent to users indicating how to validate their account. <a href="#generateemailhtml">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>generateEmailSubject</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Allows for overriding the subject of the email that is sent to users indicating how to validate their account. <a href="#generateemailsubject">More details</a>.</td></tr></tbody></table></div>
<h4>generateEmailHTML</h4>
<p>Function that accepts one argument, containing <code>{ req, token, user }</code>, that allows for overriding the HTML within emails that are sent to users indicating how to validate their account. The function should return a string that supports HTML, which can optionally be a full HTML email.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    verify: {
      // highlight-start
      generateEmailHTML: ({ req, token, user }) =&gt; {
        // Use the token provided to allow your user to verify their account
        const url = `https://yourfrontend.com/verify?token=${token}`

        return `Hey ${user.email}, verify your email by clicking here: ${url}`
      },
      // highlight-end
    },
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Important:</strong> If you specify a different URL to send your users to for email
verification, such as a page on the frontend of your app or similar, you need
to handle making the call to the Payload REST or GraphQL verification
operation yourself on your frontend, using the token that was provided for
you. Above, it was passed via query parameter.</p></div>
<h4>generateEmailSubject</h4>
<p>Similarly to the above <code>generateEmailHTML</code>, you can also customize the subject of the email. The function argument are the same but you can only return a string - not HTML.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    verify: {
      // highlight-start
      generateEmailSubject: ({ req, user }) =&gt; {
        return `Hey ${user.email}, reset your password!`
      },
      // highlight-end
    },
  },
}
</code></pre>
<h2>Forgot Password</h2>
<p>You can customize how the Forgot Password workflow operates with the following options on the <code>auth.forgotPassword</code> property:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    forgotPassword: {
      // highlight-line
      // ...
    },
  },
}
</code></pre>
<p>The following options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>expiration</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Configure how long password reset tokens remain valid, specified in milliseconds.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>generateEmailHTML</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Allows for overriding the HTML within emails that are sent to users attempting to reset their password. <a href="#generateEmailHTML">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>generateEmailSubject</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Allows for overriding the subject of the email that is sent to users attempting to reset their password. <a href="#generateEmailSubject">More details</a>.</td></tr></tbody></table></div>
<h4>generateEmailHTML</h4>
<p>This function allows for overriding the HTML within emails that are sent to users attempting to reset their password. The function should return a string that supports HTML, which can be a full HTML email.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    forgotPassword: {
      // highlight-start
      generateEmailHTML: ({ req, token, user }) =&gt; {
        // Use the token provided to allow your user to reset their password
        const resetPasswordURL = `https://yourfrontend.com/reset-password?token=${token}`

        return `
          &lt;!doctype html&gt;
          &lt;html&gt;
            &lt;body&gt;
              &lt;h1&gt;Here is my custom email template!&lt;/h1&gt;
              &lt;p&gt;Hello, ${user.email}!&lt;/p&gt;
              &lt;p&gt;Click below to reset your password.&lt;/p&gt;
              &lt;p&gt;
                &lt;a href=&quot;${resetPasswordURL}&quot;&gt;${resetPasswordURL}&lt;/a&gt;
              &lt;/p&gt;
            &lt;/body&gt;
          &lt;/html&gt;
        `
      },
      // highlight-end
    },
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Important:</strong> If you specify a different URL to send your users to for
resetting their password, such as a page on the frontend of your app or
similar, you need to handle making the call to the Payload REST or GraphQL
reset-password operation yourself on your frontend, using the token that was
provided for you. Above, it was passed via query parameter.</p></div>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> HTML templating can be used to create custom email templates, inline
CSS automatically, and more. You can make a reusable function that
standardizes all email sent from Payload, which makes sending custom emails
more DRY. Payload doesn&#x27;t ship with an HTML templating engine, so you are free
to choose your own.</p></div>
<p>The following arguments are passed to the <code>generateEmailHTML</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Argument</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>req</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The request object.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>token</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The token that is generated for the user to reset their password.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>user</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user document that is attempting to reset their password.</td></tr></tbody></table></div>
<h4>generateEmailSubject</h4>
<p>Similarly to the above <code>generateEmailHTML</code>, you can also customize the subject of the email. The function argument are the same but you can only return a string - not HTML.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const Customers: CollectionConfig = {
  // ...
  auth: {
    forgotPassword: {
      // highlight-start
      generateEmailSubject: ({ req, user }) =&gt; {
        return `Hey ${user.email}, reset your password!`
      },
      // highlight-end
    },
  },
}
</code></pre>
<p>The following arguments are passed to the <code>generateEmailSubject</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Argument</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>req</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The request object.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>user</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The user document that is attempting to reset their password.</td></tr></tbody></table></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Authentication Emails","label":"Email Verification","order":30,"desc":"Email Verification allows users to verify their email address before they're account is fully activated. Email Verification ties directly into the Email functionality that Payload provides.","keywords":"authentication, email, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    code: \"code\",\n    pre: \"pre\",\n    strong: \"strong\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Authentication\"\n      }), \" ties directly into the \", _jsx(_components.a, {\n        href: \"../email/overview\",\n        children: \"Email\"\n      }), \" functionality that Payload provides. This allows you to send emails to users for verification, password resets, and more. While Payload provides default email templates for these actions, you can customize them to fit your brand.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Email Verification\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Email Verification forces users to prove they have access to the email address they can authenticate. This will help to reduce spam accounts and ensure that users are who they say they are.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To enable Email Verification, use the \", _jsx(_components.code, {\n        children: \"auth.verify\"\n      }), \" property on your \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    verify: true, // highlight-line\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" Verification emails are fully customizable. \", _jsx(_components.a, {\n          href: \"#generateemailhtml\",\n          children: \"More\\ndetails\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following options are available:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"generateEmailHTML\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Allows for overriding the HTML within emails that are sent to users indicating how to validate their account. \", _jsx(_components.a, {\n              href: \"#generateemailhtml\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"generateEmailSubject\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Allows for overriding the subject of the email that is sent to users indicating how to validate their account. \", _jsx(_components.a, {\n              href: \"#generateemailsubject\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"generateEmailHTML\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Function that accepts one argument, containing \", _jsx(_components.code, {\n        children: \"{ req, token, user }\"\n      }), \", that allows for overriding the HTML within emails that are sent to users indicating how to validate their account. The function should return a string that supports HTML, which can optionally be a full HTML email.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    verify: {\\n      // highlight-start\\n      generateEmailHTML: ({ req, token, user }) =\u003e {\\n        // Use the token provided to allow your user to verify their account\\n        const url = `https://yourfrontend.com/verify?token=${token}`\\n\\n        return `Hey ${user.email}, verify your email by clicking here: ${url}`\\n      },\\n      // highlight-end\\n    },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Important:\"\n        }), \" If you specify a different URL to send your users to for email\\nverification, such as a page on the frontend of your app or similar, you need\\nto handle making the call to the Payload REST or GraphQL verification\\noperation yourself on your frontend, using the token that was provided for\\nyou. Above, it was passed via query parameter.\"]\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"generateEmailSubject\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Similarly to the above \", _jsx(_components.code, {\n        children: \"generateEmailHTML\"\n      }), \", you can also customize the subject of the email. The function argument are the same but you can only return a string - not HTML.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    verify: {\\n      // highlight-start\\n      generateEmailSubject: ({ req, user }) =\u003e {\\n        return `Hey ${user.email}, reset your password!`\\n      },\\n      // highlight-end\\n    },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Forgot Password\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can customize how the Forgot Password workflow operates with the following options on the \", _jsx(_components.code, {\n        children: \"auth.forgotPassword\"\n      }), \" property:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    forgotPassword: {\\n      // highlight-line\\n      // ...\\n    },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following options are available:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"expiration\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Configure how long password reset tokens remain valid, specified in milliseconds.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"generateEmailHTML\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Allows for overriding the HTML within emails that are sent to users attempting to reset their password. \", _jsx(_components.a, {\n              href: \"#generateEmailHTML\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"generateEmailSubject\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Allows for overriding the subject of the email that is sent to users attempting to reset their password. \", _jsx(_components.a, {\n              href: \"#generateEmailSubject\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"generateEmailHTML\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function allows for overriding the HTML within emails that are sent to users attempting to reset their password. The function should return a string that supports HTML, which can be a full HTML email.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    forgotPassword: {\\n      // highlight-start\\n      generateEmailHTML: ({ req, token, user }) =\u003e {\\n        // Use the token provided to allow your user to reset their password\\n        const resetPasswordURL = `https://yourfrontend.com/reset-password?token=${token}`\\n\\n        return `\\n          \u003c!doctype html\u003e\\n          \u003chtml\u003e\\n            \u003cbody\u003e\\n              \u003ch1\u003eHere is my custom email template!\u003c/h1\u003e\\n              \u003cp\u003eHello, ${user.email}!\u003c/p\u003e\\n              \u003cp\u003eClick below to reset your password.\u003c/p\u003e\\n              \u003cp\u003e\\n                \u003ca href=\\\"${resetPasswordURL}\\\"\u003e${resetPasswordURL}\u003c/a\u003e\\n              \u003c/p\u003e\\n            \u003c/body\u003e\\n          \u003c/html\u003e\\n        `\\n      },\\n      // highlight-end\\n    },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Important:\"\n        }), \" If you specify a different URL to send your users to for\\nresetting their password, such as a page on the frontend of your app or\\nsimilar, you need to handle making the call to the Payload REST or GraphQL\\nreset-password operation yourself on your frontend, using the token that was\\nprovided for you. Above, it was passed via query parameter.\"]\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" HTML templating can be used to create custom email templates, inline\\nCSS automatically, and more. You can make a reusable function that\\nstandardizes all email sent from Payload, which makes sending custom emails\\nmore DRY. Payload doesn't ship with an HTML templating engine, so you are free\\nto choose your own.\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are passed to the \", _jsx(_components.code, {\n        children: \"generateEmailHTML\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Argument\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"req\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The request object.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"token\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The token that is generated for the user to reset their password.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"user\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The user document that is attempting to reset their password.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"generateEmailSubject\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Similarly to the above \", _jsx(_components.code, {\n        children: \"generateEmailHTML\"\n      }), \", you can also customize the subject of the email. The function argument are the same but you can only return a string - not HTML.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const Customers: CollectionConfig = {\\n  // ...\\n  auth: {\\n    forgotPassword: {\\n      // highlight-start\\n      generateEmailSubject: ({ req, user }) =\u003e {\\n        return `Hey ${user.email}, reset your password!`\\n      },\\n      // highlight-end\\n    },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are passed to the \", _jsx(_components.code, {\n        children: \"generateEmailSubject\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Argument\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"req\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The request object.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"user\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The user document that is attempting to reset their password.\"\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["authentication","email"]},"buildId":"pbayt_BRhSN28J-gcoKlf","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>