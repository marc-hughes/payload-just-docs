<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-fd8027ecb5121007.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-04104d75f6814829.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/docs/%5B...slug%5D-e023289636109d90.js" defer="" crossorigin=""></script><script src="/_next/static/rEpVRygLyV6yJ0i_Ohw0C/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/rEpVRygLyV6yJ0i_Ohw0C/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Database</h1><p class="text-xl text-gray-600 mb-8">With Payload, you bring your own database and own your data. You have full control.</p><div class="prose prose-lg max-w-none"><p>Payload is database agnostic, meaning you can use any type of database behind Payload&#x27;s familiar APIs. Payload is designed to interact with your database through a Database Adapter, which is a thin layer that translates Payload&#x27;s internal data structures into your database&#x27;s native data structures.</p>
<p>Currently, Payload officially supports the following Database Adapters:</p>
<ul>
<li><a href="/docs/database/mongodb">MongoDB</a> with <a href="https://mongoosejs.com/">Mongoose</a></li>
<li><a href="/docs/database/postgres">Postgres</a> with <a href="https://drizzle.team/">Drizzle</a></li>
<li><a href="/docs/database/sqlite">SQLite</a> with <a href="https://drizzle.team/">Drizzle</a></li>
</ul>
<p>To configure a Database Adapter, use the <code>db</code> property in your <a href="../configuration/overview">Payload Config</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;
import { mongooseAdapter } from &#x27;@payloadcms/db-mongodb&#x27;

export default buildConfig({
  // ...
  // highlight-start
  db: mongooseAdapter({
    url: process.env.DATABASE_URI,
  }),
  // highlight-end
})
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Reminder:</strong> The Database Adapter is an external dependency and must be
installed in your project separately from Payload. You can find the
installation instructions for each Database Adapter in their respective
documentation.</p></div>
<h2>Selecting a Database</h2>
<p>There are several factors to consider when choosing which database technology and hosting option is right for your project and workload. Payload can theoretically support any database, but it&#x27;s up to you to decide which database to use.</p>
<p>There are two main categories of databases to choose from:</p>
<ul>
<li><a href="#non-relational-databases">Non-Relational Databases</a></li>
<li><a href="#relational-databases">Relational Databases</a></li>
</ul>
<h3>Non-Relational Databases</h3>
<p>If your project has a lot of dynamic fields, and you are comfortable with allowing Payload to enforce data integrity across your documents, MongoDB is a great choice. With it, your Payload documents are stored as <em>one</em> document in your databaseâ€”no matter if you have localization enabled, how many block or array fields you have, etc. This means that the shape of your data in your database will very closely reflect your field schema, and there is minimal complexity involved in storing or retrieving your data.</p>
<p>You should prefer MongoDB if:</p>
<ul>
<li>You prefer simplicity within your database</li>
<li>You don&#x27;t want to deal with keeping production / staging databases in sync via <a href="https://en.wikipedia.org/wiki/Data_definition_language">DDL changes</a></li>
<li>Most (or everything) in your project is <a href="../configuration/localization">Localized</a></li>
<li>You leverage a lot of <a href="../fields/array">Arrays</a>, <a href="../fields/blocks">Blocks</a>, or <code>hasMany</code> <a href="../fields/select">Select</a> fields</li>
</ul>
<h3>Relational Databases</h3>
<p>Many projects might call for more rigid database architecture where the shape of your data is strongly enforced at the database level. For example, if you know the shape of your data and it&#x27;s relatively &quot;flat&quot;, and you don&#x27;t anticipate it to change often, your workload might suit relational databases like Postgres very well.</p>
<p>You should prefer a relational DB like Postgres or SQLite if:</p>
<ul>
<li>You are comfortable with <a href="./migrations">Migrations</a></li>
<li>You require enforced data consistency at the database level</li>
<li>You have a lot of relationships between collections and require relationships to be enforced</li>
</ul>
<h2>Payload Differences</h2>
<p>It&#x27;s important to note that nearly every Payload feature is available in all of our officially supported Database Adapters, including <a href="../configuration/localization">Localization</a>, <a href="../fields/array">Arrays</a>, <a href="../fields/blocks">Blocks</a>, etc. The only thing that is not supported in SQLite yet is the <a href="/docs/fields/point">Point Field</a>, but that should be added soon.</p>
<p>It&#x27;s up to you to choose which database you would like to use based on the requirements of your project. Payload has no opinion on which database you should ultimately choose.</p></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Database","label":"Overview","order":10,"keywords":"database, mongodb, postgres, documentation, Content Management System, cms, headless, typescript, node, react, nextjs","desc":"With Payload, you bring your own database and own your data. You have full control."},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    strong: \"strong\",\n    h2: \"h2\",\n    h3: \"h3\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"Payload is database agnostic, meaning you can use any type of database behind Payload's familiar APIs. Payload is designed to interact with your database through a Database Adapter, which is a thin layer that translates Payload's internal data structures into your database's native data structures.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Currently, Payload officially supports the following Database Adapters:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"/docs/database/mongodb\",\n          children: \"MongoDB\"\n        }), \" with \", _jsx(_components.a, {\n          href: \"https://mongoosejs.com/\",\n          children: \"Mongoose\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"/docs/database/postgres\",\n          children: \"Postgres\"\n        }), \" with \", _jsx(_components.a, {\n          href: \"https://drizzle.team/\",\n          children: \"Drizzle\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"/docs/database/sqlite\",\n          children: \"SQLite\"\n        }), \" with \", _jsx(_components.a, {\n          href: \"https://drizzle.team/\",\n          children: \"Drizzle\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To configure a Database Adapter, use the \", _jsx(_components.code, {\n        children: \"db\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/overview\",\n        children: \"Payload Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { mongooseAdapter } from '@payloadcms/db-mongodb'\\n\\nexport default buildConfig({\\n  // ...\\n  // highlight-start\\n  db: mongooseAdapter({\\n    url: process.env.DATABASE_URI,\\n  }),\\n  // highlight-end\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Reminder:\"\n        }), \" The Database Adapter is an external dependency and must be\\ninstalled in your project separately from Payload. You can find the\\ninstallation instructions for each Database Adapter in their respective\\ndocumentation.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Selecting a Database\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are several factors to consider when choosing which database technology and hosting option is right for your project and workload. Payload can theoretically support any database, but it's up to you to decide which database to use.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are two main categories of databases to choose from:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"#non-relational-databases\",\n          children: \"Non-Relational Databases\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"#relational-databases\",\n          children: \"Relational Databases\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Non-Relational Databases\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If your project has a lot of dynamic fields, and you are comfortable with allowing Payload to enforce data integrity across your documents, MongoDB is a great choice. With it, your Payload documents are stored as \", _jsx(_components.em, {\n        children: \"one\"\n      }), \" document in your databaseâ€”no matter if you have localization enabled, how many block or array fields you have, etc. This means that the shape of your data in your database will very closely reflect your field schema, and there is minimal complexity involved in storing or retrieving your data.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You should prefer MongoDB if:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"You prefer simplicity within your database\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"You don't want to deal with keeping production / staging databases in sync via \", _jsx(_components.a, {\n          href: \"https://en.wikipedia.org/wiki/Data_definition_language\",\n          children: \"DDL changes\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Most (or everything) in your project is \", _jsx(_components.a, {\n          href: \"../configuration/localization\",\n          children: \"Localized\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"You leverage a lot of \", _jsx(_components.a, {\n          href: \"../fields/array\",\n          children: \"Arrays\"\n        }), \", \", _jsx(_components.a, {\n          href: \"../fields/blocks\",\n          children: \"Blocks\"\n        }), \", or \", _jsx(_components.code, {\n          children: \"hasMany\"\n        }), \" \", _jsx(_components.a, {\n          href: \"../fields/select\",\n          children: \"Select\"\n        }), \" fields\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Relational Databases\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Many projects might call for more rigid database architecture where the shape of your data is strongly enforced at the database level. For example, if you know the shape of your data and it's relatively \\\"flat\\\", and you don't anticipate it to change often, your workload might suit relational databases like Postgres very well.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You should prefer a relational DB like Postgres or SQLite if:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"You are comfortable with \", _jsx(_components.a, {\n          href: \"./migrations\",\n          children: \"Migrations\"\n        })]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"You require enforced data consistency at the database level\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"You have a lot of relationships between collections and require relationships to be enforced\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Payload Differences\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"It's important to note that nearly every Payload feature is available in all of our officially supported Database Adapters, including \", _jsx(_components.a, {\n        href: \"../configuration/localization\",\n        children: \"Localization\"\n      }), \", \", _jsx(_components.a, {\n        href: \"../fields/array\",\n        children: \"Arrays\"\n      }), \", \", _jsx(_components.a, {\n        href: \"../fields/blocks\",\n        children: \"Blocks\"\n      }), \", etc. The only thing that is not supported in SQLite yet is the \", _jsx(_components.a, {\n        href: \"/docs/fields/point\",\n        children: \"Point Field\"\n      }), \", but that should be added soon.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It's up to you to choose which database you would like to use based on the requirements of your project. Payload has no opinion on which database you should ultimately choose.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["database","overview"]},"buildId":"rEpVRygLyV6yJ0i_Ohw0C","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>