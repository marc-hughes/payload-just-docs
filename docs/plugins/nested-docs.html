<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Nested Docs - Nested Docs Plugin | Payload CMS Documentation</title><meta name="description" content="Nested documents in a parent, child, and sibling relationship."/><meta property="og:title" content="Nested Docs - Nested Docs Plugin | Payload CMS Documentation"/><meta property="og:description" content="Nested documents in a parent, child, and sibling relationship."/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Nested Docs Plugin</h1><p class="text-xl text-gray-600 mb-8">Nested documents in a parent, child, and sibling relationship.</p><div class="prose prose-lg max-w-none"><p><img src="https://img.shields.io/npm/v/@payloadcms/plugin-nested-docs" alt="https://www.npmjs.com/package/@payloadcms/plugin-nested-docs"/></p>
<p>This plugin allows you to easily nest the documents of your application inside of one another. It does so by adding a
new <code>parent</code> field onto each of your documents that, when selected, attaches itself to the parent&#x27;s tree. When you edit
the great-great-grandparent of a document, for instance, all of its descendants are recursively updated. This is an
extremely powerful way of achieving hierarchy within a collection, such as parent/child relationship between pages.</p>
<p>Documents also receive a new <code>breadcrumbs</code> field. Once a parent is assigned, these breadcrumbs are populated based on
each ancestor up the tree. Breadcrumbs allow you to dynamically generate labels and URLs based on the document&#x27;s
position in the hierarchy. Even if the slug of a parent document changes, or the entire tree is nested another level
deep, changes will cascade down the entire tree and all breadcrumbs will reflect those changes.</p>
<p>With this pattern you can perform whatever side-effects your applications needs on even the most deeply nested
documents. For example, you could easily add a custom <code>fullTitle</code> field onto each document and inject the parent&#x27;s title
onto it, such as &quot;Parent Title &gt; Child Title&quot;. This would allow you to then perform searches and filters based on <em>that</em>
field instead of the original title. This is especially useful if you happen to have two documents with identical titles
but different parents.</p>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p>This plugin is completely open-source and the <a href="https://github.com/payloadcms/payload/tree/main/packages/plugin-nested-docs">source code can be found
here</a>.
If you need help, check out our <a href="https://payloadcms.com/community-help">Community
Help</a>. If you think you&#x27;ve found a bug,
please <a href="https://github.com/payloadcms/payload/issues/new?assignees=&amp;labels=plugin%3A%20nested-docs&amp;template=bug_report.md&amp;title=plugin-nested-docs%3A">open a new
issue</a>
with as much detail as possible.</p></div>
<h2>Core features</h2>
<ul>
<li>Automatically adds a <code>parent</code> relationship field to each document</li>
<li>Allows for parent/child relationships between documents within the same collection</li>
<li>Recursively updates all descendants when a parent is changed</li>
<li>Automatically populates a <code>breadcrumbs</code> field with all ancestors up the tree</li>
<li>Dynamically generate labels and URLs for each breadcrumb</li>
<li>Supports localization</li>
</ul>
<h2>Installation</h2>
<p>Install the plugin using any JavaScript package manager like <a href="https://pnpm.io">pnpm</a>, <a href="https://npmjs.com">npm</a>, or <a href="https://yarnpkg.com">Yarn</a>:</p>
<pre><code class="language-bash">  pnpm add @payloadcms/plugin-nested-docs
</code></pre>
<h2>Basic Usage</h2>
<p>In the <code>plugins</code> array of your <a href="https://payloadcms.com/docs/configuration/overview">Payload Config</a>, call the plugin
with <a href="#options">options</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;
import { nestedDocsPlugin } from &#x27;@payloadcms/plugin-nested-docs&#x27;

const config = buildConfig({
  collections: [
    {
      slug: &#x27;pages&#x27;,
      fields: [
        {
          name: &#x27;title&#x27;,
          type: &#x27;text&#x27;,
        },
        {
          name: &#x27;slug&#x27;,
          type: &#x27;text&#x27;,
        },
      ],
    },
  ],
  plugins: [
    nestedDocsPlugin({
      collections: [&#x27;pages&#x27;],
      generateLabel: (_, doc) =&gt; doc.title,
      generateURL: (docs) =&gt;
        docs.reduce((url, doc) =&gt; `${url}/${doc.slug}`, &#x27;&#x27;),
    }),
  ],
})

export default config
</code></pre>
<h3>Fields</h3>
<h4>Parent</h4>
<p>The <code>parent</code> relationship field is automatically added to every document which allows editors to choose another document
from the same collection to act as the direct parent.</p>
<h4>Breadcrumbs</h4>
<p>The <code>breadcrumbs</code> field is an array which dynamically populates all parent relationships of a document up to the top
level and stores the following fields.</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Field</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>label</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The label of the breadcrumb. This field is automatically set to either the <code>collection.admin.useAsTitle</code> (if defined) or is set to the <code>ID</code> of the document. You can also dynamically define the <code>label</code> by passing a function to the options property of <a href="#generatelabel"><code>generateLabel</code></a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>url</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The URL of the breadcrumb. By default, this field is undefined. You can manually define this field by passing a property called function to the plugin options property of <a href="#generateurl"><code>generateURL</code></a>.</td></tr></tbody></table></div>
<h3>Options</h3>
<h4><code>collections</code></h4>
<p>An array of collections slugs to enable nested docs.</p>
<h4><code>generateLabel</code></h4>
<p>Each <code>breadcrumb</code> has a required <code>label</code> field. By default, its value will be set to the collection&#x27;s <code>admin.useAsTitle</code>
or fallback the the <code>ID</code> of the document.</p>
<p>You can also pass a function to dynamically set the <code>label</code> of your breadcrumb.</p>
<pre><code class="language-ts">// payload.config.ts
nestedDocsPlugin({
  //...
  generateLabel: (_, doc) =&gt; doc.title, // NOTE: &#x27;title&#x27; is a hypothetical field
})
</code></pre>
<p>The function takes two arguments and returns a string:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Argument</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>docs</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Array</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An array of the breadcrumbs up to that point</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>doc</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Object</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The current document being edited</td></tr></tbody></table></div>
<h4><code>generateURL</code></h4>
<p>A function that allows you to dynamically generate each breadcrumb <code>url</code>. Each <code>breadcrumb</code> has an optional <code>url</code> field
which is undefined by default. For example, you might want to format a full URL to contain all breadcrumbs up to
that point, like <code>/about-us/company/our-team</code>.</p>
<pre><code class="language-ts">// payload.config.ts
nestedDocsPlugin({
  //...
  generateURL: (docs) =&gt; docs.reduce((url, doc) =&gt; `${url}/${doc.slug}`, &#x27;&#x27;), // NOTE: &#x27;slug&#x27; is a hypothetical field
})
</code></pre>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Argument</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>docs</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Array</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An array of the breadcrumbs up to that point</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>doc</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Object</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The current document being edited</td></tr></tbody></table></div>
<h4><code>parentFieldSlug</code></h4>
<p>When defined, the <code>parent</code> field will not be provided for you automatically, and instead, expects you to add your
own <code>parent</code> field to each collection manually. This gives you complete control over where you put the field in your
admin dashboard, etc. Set this property to the <code>name</code> of your custom field.</p>
<h4><code>breadcrumbsFieldSlug</code></h4>
<p>When defined, the <code>breadcrumbs</code> field will not be provided for you, and instead, expects you to add your
own <code>breadcrumbs</code> field to each collection manually. Set this property to the <code>name</code> of your custom field.</p>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong></p><p>If you opt out of automatically being provided a <code>parent</code> or <code>breadcrumbs</code> field, you need to make
sure that both fields are placed at the top-level of your document. They cannot exist within any
nested data structures like a <code>group</code>, <code>array</code>, or <code>blocks</code>.</p></div>
<h2>Overrides</h2>
<p>You can also extend the built-in <code>parent</code> and <code>breadcrumbs</code> fields per collection by using the <code>createParentField</code>
and <code>createBreadcrumbField</code> methods. They will merge your customizations overtop the plugin&#x27;s base field configurations.</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;
import { createParentField } from &#x27;@payloadcms/plugin-nested-docs/fields&#x27;
import { createBreadcrumbsField } from &#x27;@payloadcms/plugin-nested-docs/fields&#x27;

const examplePageConfig: CollectionConfig = {
  slug: &#x27;pages&#x27;,
  fields: [
    createParentField(
      // First argument is equal to the slug of the collection
      // that the field references
      &#x27;pages&#x27;,

      // Second argument is equal to field overrides that you specify,
      // which will be merged into the base parent field config
      {
        admin: {
          position: &#x27;sidebar&#x27;,
        },
        // Note: if you override the `filterOptions` of the `parent` field,
        // be sure to continue to prevent the document from referencing itself as the parent like this:
        // filterOptions: ({ id }) =&gt; ({ id: {not_equals: id }})
      },
    ),
    createBreadcrumbsField(
      // First argument is equal to the slug of the collection
      // that the field references
      &#x27;pages&#x27;,

      // Argument equal to field overrides that you specify,
      // which will be merged into the base `breadcrumbs` field config
      {
        label: &#x27;Page Breadcrumbs&#x27;,
      },
    ),
  ],
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong></p><p>If overriding the <code>name</code> of either <code>breadcrumbs</code> or <code>parent</code> fields, you must specify the
<code>breadcrumbsFieldSlug</code> or <code>parentFieldSlug</code> respectively.</p></div>
<h2>Localization</h2>
<p>This plugin supports localization by default. If the <code>localization</code> property is set in your Payload Config,
the <code>breadcrumbs</code> field is automatically localized. For more details on how localization works in Payload, see
the <a href="https://payloadcms.com/docs/configuration/localization">Localization</a> docs.</p>
<h2>TypeScript</h2>
<p>All types can be directly imported:</p>
<pre><code class="language-ts">import {
  PluginConfig,
  GenerateURL,
  GenerateLabel,
} from &#x27;@payloadcms/plugin-nested-docs/types&#x27;
</code></pre>
<h2>Examples</h2>
<p>The <a href="https://github.com/payloadcms/payload/tree/main/templates">Templates Directory</a> also contains an official <a href="https://github.com/payloadcms/payload/tree/main/templates/website">Website Template</a> and <a href="https://github.com/payloadcms/payload/tree/main/templates/ecommerce">E-commerce Template</a>, both of which use this plugin.</p></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Nested Docs Plugin","label":"Nested Docs","order":40,"desc":"Nested documents in a parent, child, and sibling relationship.","keywords":"plugins, nested, documents, parent, child, sibling, relationship"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    code: \"code\",\n    em: \"em\",\n    a: \"a\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    h3: \"h3\",\n    h4: \"h4\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://img.shields.io/npm/v/@payloadcms/plugin-nested-docs\",\n        alt: \"https://www.npmjs.com/package/@payloadcms/plugin-nested-docs\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin allows you to easily nest the documents of your application inside of one another. It does so by adding a\\nnew \", _jsx(_components.code, {\n        children: \"parent\"\n      }), \" field onto each of your documents that, when selected, attaches itself to the parent's tree. When you edit\\nthe great-great-grandparent of a document, for instance, all of its descendants are recursively updated. This is an\\nextremely powerful way of achieving hierarchy within a collection, such as parent/child relationship between pages.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Documents also receive a new \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" field. Once a parent is assigned, these breadcrumbs are populated based on\\neach ancestor up the tree. Breadcrumbs allow you to dynamically generate labels and URLs based on the document's\\nposition in the hierarchy. Even if the slug of a parent document changes, or the entire tree is nested another level\\ndeep, changes will cascade down the entire tree and all breadcrumbs will reflect those changes.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"With this pattern you can perform whatever side-effects your applications needs on even the most deeply nested\\ndocuments. For example, you could easily add a custom \", _jsx(_components.code, {\n        children: \"fullTitle\"\n      }), \" field onto each document and inject the parent's title\\nonto it, such as \\\"Parent Title \u003e Child Title\\\". This would allow you to then perform searches and filters based on \", _jsx(_components.em, {\n        children: \"that\"\n      }), \"\\nfield instead of the original title. This is especially useful if you happen to have two documents with identical titles\\nbut different parents.\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [\"This plugin is completely open-source and the \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/tree/main/packages/plugin-nested-docs\",\n          children: \"source code can be found\\nhere\"\n        }), \".\\nIf you need help, check out our \", _jsx(_components.a, {\n          href: \"https://payloadcms.com/community-help\",\n          children: \"Community\\nHelp\"\n        }), \". If you think you've found a bug,\\nplease \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/issues/new?assignees=\u0026labels=plugin%3A%20nested-docs\u0026template=bug_report.md\u0026title=plugin-nested-docs%3A\",\n          children: \"open a new\\nissue\"\n        }), \"\\nwith as much detail as possible.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Core features\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Automatically adds a \", _jsx(_components.code, {\n          children: \"parent\"\n        }), \" relationship field to each document\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Allows for parent/child relationships between documents within the same collection\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Recursively updates all descendants when a parent is changed\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Automatically populates a \", _jsx(_components.code, {\n          children: \"breadcrumbs\"\n        }), \" field with all ancestors up the tree\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Dynamically generate labels and URLs for each breadcrumb\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Supports localization\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Installation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Install the plugin using any JavaScript package manager like \", _jsx(_components.a, {\n        href: \"https://pnpm.io\",\n        children: \"pnpm\"\n      }), \", \", _jsx(_components.a, {\n        href: \"https://npmjs.com\",\n        children: \"npm\"\n      }), \", or \", _jsx(_components.a, {\n        href: \"https://yarnpkg.com\",\n        children: \"Yarn\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"  pnpm add @payloadcms/plugin-nested-docs\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic Usage\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the \", _jsx(_components.code, {\n        children: \"plugins\"\n      }), \" array of your \", _jsx(_components.a, {\n        href: \"https://payloadcms.com/docs/configuration/overview\",\n        children: \"Payload Config\"\n      }), \", call the plugin\\nwith \", _jsx(_components.a, {\n        href: \"#options\",\n        children: \"options\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { nestedDocsPlugin } from '@payloadcms/plugin-nested-docs'\\n\\nconst config = buildConfig({\\n  collections: [\\n    {\\n      slug: 'pages',\\n      fields: [\\n        {\\n          name: 'title',\\n          type: 'text',\\n        },\\n        {\\n          name: 'slug',\\n          type: 'text',\\n        },\\n      ],\\n    },\\n  ],\\n  plugins: [\\n    nestedDocsPlugin({\\n      collections: ['pages'],\\n      generateLabel: (_, doc) =\u003e doc.title,\\n      generateURL: (docs) =\u003e\\n        docs.reduce((url, doc) =\u003e `${url}/${doc.slug}`, ''),\\n    }),\\n  ],\\n})\\n\\nexport default config\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Fields\"\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Parent\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"parent\"\n      }), \" relationship field is automatically added to every document which allows editors to choose another document\\nfrom the same collection to act as the direct parent.\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Breadcrumbs\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" field is an array which dynamically populates all parent relationships of a document up to the top\\nlevel and stores the following fields.\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Field\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"label\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The label of the breadcrumb. This field is automatically set to either the \", _jsx(_components.code, {\n              children: \"collection.admin.useAsTitle\"\n            }), \" (if defined) or is set to the \", _jsx(_components.code, {\n              children: \"ID\"\n            }), \" of the document. You can also dynamically define the \", _jsx(_components.code, {\n              children: \"label\"\n            }), \" by passing a function to the options property of \", _jsx(_components.a, {\n              href: \"#generatelabel\",\n              children: _jsx(_components.code, {\n                children: \"generateLabel\"\n              })\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"url\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The URL of the breadcrumb. By default, this field is undefined. You can manually define this field by passing a property called function to the plugin options property of \", _jsx(_components.a, {\n              href: \"#generateurl\",\n              children: _jsx(_components.code, {\n                children: \"generateURL\"\n              })\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.h4, {\n      children: _jsx(_components.code, {\n        children: \"collections\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"An array of collections slugs to enable nested docs.\"\n    }), \"\\n\", _jsx(_components.h4, {\n      children: _jsx(_components.code, {\n        children: \"generateLabel\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Each \", _jsx(_components.code, {\n        children: \"breadcrumb\"\n      }), \" has a required \", _jsx(_components.code, {\n        children: \"label\"\n      }), \" field. By default, its value will be set to the collection's \", _jsx(_components.code, {\n        children: \"admin.useAsTitle\"\n      }), \"\\nor fallback the the \", _jsx(_components.code, {\n        children: \"ID\"\n      }), \" of the document.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also pass a function to dynamically set the \", _jsx(_components.code, {\n        children: \"label\"\n      }), \" of your breadcrumb.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"// payload.config.ts\\nnestedDocsPlugin({\\n  //...\\n  generateLabel: (_, doc) =\u003e doc.title, // NOTE: 'title' is a hypothetical field\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The function takes two arguments and returns a string:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Argument\"\n          }), _jsx(_components.th, {\n            children: \"Type\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"docs\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Array\"\n            })\n          }), _jsx(_components.td, {\n            children: \"An array of the breadcrumbs up to that point\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"doc\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Object\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The current document being edited\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: _jsx(_components.code, {\n        children: \"generateURL\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A function that allows you to dynamically generate each breadcrumb \", _jsx(_components.code, {\n        children: \"url\"\n      }), \". Each \", _jsx(_components.code, {\n        children: \"breadcrumb\"\n      }), \" has an optional \", _jsx(_components.code, {\n        children: \"url\"\n      }), \" field\\nwhich is undefined by default. For example, you might want to format a full URL to contain all breadcrumbs up to\\nthat point, like \", _jsx(_components.code, {\n        children: \"/about-us/company/our-team\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"// payload.config.ts\\nnestedDocsPlugin({\\n  //...\\n  generateURL: (docs) =\u003e docs.reduce((url, doc) =\u003e `${url}/${doc.slug}`, ''), // NOTE: 'slug' is a hypothetical field\\n})\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Argument\"\n          }), _jsx(_components.th, {\n            children: \"Type\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"docs\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Array\"\n            })\n          }), _jsx(_components.td, {\n            children: \"An array of the breadcrumbs up to that point\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"doc\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Object\"\n            })\n          }), _jsx(_components.td, {\n            children: \"The current document being edited\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: _jsx(_components.code, {\n        children: \"parentFieldSlug\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When defined, the \", _jsx(_components.code, {\n        children: \"parent\"\n      }), \" field will not be provided for you automatically, and instead, expects you to add your\\nown \", _jsx(_components.code, {\n        children: \"parent\"\n      }), \" field to each collection manually. This gives you complete control over where you put the field in your\\nadmin dashboard, etc. Set this property to the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" of your custom field.\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: _jsx(_components.code, {\n        children: \"breadcrumbsFieldSlug\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When defined, the \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" field will not be provided for you, and instead, expects you to add your\\nown \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" field to each collection manually. Set this property to the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" of your custom field.\"]\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"info\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Note:\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If you opt out of automatically being provided a \", _jsx(_components.code, {\n          children: \"parent\"\n        }), \" or \", _jsx(_components.code, {\n          children: \"breadcrumbs\"\n        }), \" field, you need to make\\nsure that both fields are placed at the top-level of your document. They cannot exist within any\\nnested data structures like a \", _jsx(_components.code, {\n          children: \"group\"\n        }), \", \", _jsx(_components.code, {\n          children: \"array\"\n        }), \", or \", _jsx(_components.code, {\n          children: \"blocks\"\n        }), \".\"]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Overrides\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also extend the built-in \", _jsx(_components.code, {\n        children: \"parent\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" fields per collection by using the \", _jsx(_components.code, {\n        children: \"createParentField\"\n      }), \"\\nand \", _jsx(_components.code, {\n        children: \"createBreadcrumbField\"\n      }), \" methods. They will merge your customizations overtop the plugin's base field configurations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\nimport { createParentField } from '@payloadcms/plugin-nested-docs/fields'\\nimport { createBreadcrumbsField } from '@payloadcms/plugin-nested-docs/fields'\\n\\nconst examplePageConfig: CollectionConfig = {\\n  slug: 'pages',\\n  fields: [\\n    createParentField(\\n      // First argument is equal to the slug of the collection\\n      // that the field references\\n      'pages',\\n\\n      // Second argument is equal to field overrides that you specify,\\n      // which will be merged into the base parent field config\\n      {\\n        admin: {\\n          position: 'sidebar',\\n        },\\n        // Note: if you override the `filterOptions` of the `parent` field,\\n        // be sure to continue to prevent the document from referencing itself as the parent like this:\\n        // filterOptions: ({ id }) =\u003e ({ id: {not_equals: id }})\\n      },\\n    ),\\n    createBreadcrumbsField(\\n      // First argument is equal to the slug of the collection\\n      // that the field references\\n      'pages',\\n\\n      // Argument equal to field overrides that you specify,\\n      // which will be merged into the base `breadcrumbs` field config\\n      {\\n        label: 'Page Breadcrumbs',\\n      },\\n    ),\\n  ],\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"warning\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Note:\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"If overriding the \", _jsx(_components.code, {\n          children: \"name\"\n        }), \" of either \", _jsx(_components.code, {\n          children: \"breadcrumbs\"\n        }), \" or \", _jsx(_components.code, {\n          children: \"parent\"\n        }), \" fields, you must specify the\\n\", _jsx(_components.code, {\n          children: \"breadcrumbsFieldSlug\"\n        }), \" or \", _jsx(_components.code, {\n          children: \"parentFieldSlug\"\n        }), \" respectively.\"]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Localization\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin supports localization by default. If the \", _jsx(_components.code, {\n        children: \"localization\"\n      }), \" property is set in your Payload Config,\\nthe \", _jsx(_components.code, {\n        children: \"breadcrumbs\"\n      }), \" field is automatically localized. For more details on how localization works in Payload, see\\nthe \", _jsx(_components.a, {\n        href: \"https://payloadcms.com/docs/configuration/localization\",\n        children: \"Localization\"\n      }), \" docs.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"TypeScript\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"All types can be directly imported:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import {\\n  PluginConfig,\\n  GenerateURL,\\n  GenerateLabel,\\n} from '@payloadcms/plugin-nested-docs/types'\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Examples\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.a, {\n        href: \"https://github.com/payloadcms/payload/tree/main/templates\",\n        children: \"Templates Directory\"\n      }), \" also contains an official \", _jsx(_components.a, {\n        href: \"https://github.com/payloadcms/payload/tree/main/templates/website\",\n        children: \"Website Template\"\n      }), \" and \", _jsx(_components.a, {\n        href: \"https://github.com/payloadcms/payload/tree/main/templates/ecommerce\",\n        children: \"E-commerce Template\"\n      }), \", both of which use this plugin.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["plugins","nested-docs"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>