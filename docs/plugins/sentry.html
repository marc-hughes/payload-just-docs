<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-e023289636109d90.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Sentry Plugin</h1><p class="text-xl text-gray-600 mb-8">Integrate Sentry error tracking into your Payload application</p><div class="prose prose-lg max-w-none"><p><img src="https://img.shields.io/npm/v/@payloadcms/plugin-sentry" alt="https://www.npmjs.com/package/@payloadcms/plugin-sentry"/></p>
<p>This plugin allows you to integrate <a href="https://sentry.io/">Sentry</a> seamlessly with your <a href="https://github.com/payloadcms/payload">Payload</a> application.</p>
<h2>What is Sentry?</h2>
<p>Sentry is a powerful error tracking and performance monitoring tool that helps developers identify, diagnose, and resolve issues in their applications.</p>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p>Sentry does smart stuff with error data to make bugs easier to find and fix. -
<a href="https://sentry.io/">sentry.io</a></p></div>
<p>This multi-faceted software offers a range of features that will help you manage errors with greater ease and ultimately ensure your application is running smoothly:</p>
<h2>Core Features</h2>
<ul>
<li><strong>Error Tracking</strong>: Instantly captures and logs errors as they occur in your application</li>
<li><strong>Performance Monitoring</strong>: Tracks application performance to identify slowdowns and bottlenecks</li>
<li><strong>Detailed Reports</strong>: Provides comprehensive insights into errors, including stack traces and context</li>
<li><strong>Alerts and Notifications</strong>: Send and customize event-triggered notifications</li>
<li><strong>Issue Grouping, Filtering and Search</strong>: Automatically groups similar errors, and allows filtering and searching issues by custom criteria</li>
<li><strong>Breadcrumbs</strong>: Records user actions and events leading up to an error</li>
<li><strong>Integrations</strong>: Connects with various tools and services for enhanced workflow and issue management</li>
</ul>
<div class="p-4 my-4 rounded-lg border bg-blue-50 border-blue-200 text-blue-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><p>This plugin is completely open-source and the <a href="https://github.com/payloadcms/payload/tree/main/packages/plugin-sentry">source code can be found
here</a>.
If you need help, check out our <a href="https://payloadcms.com/community-help">Community
Help</a>. If you think you&#x27;ve found a bug,
please <a href="https://github.com/payloadcms/payload/issues/new?assignees=&amp;labels=plugin%3A%20seo&amp;template=bug_report.md&amp;title=plugin-sentry%3A">open a new
issue</a>
with as much detail as possible.</p></div>
<h2>Installation</h2>
<p>Install the plugin using any JavaScript package manager like <a href="https://pnpm.io">pnpm</a>, <a href="https://npmjs.com">npm</a>, or <a href="https://yarnpkg.com">Yarn</a>:</p>
<pre><code class="language-bash">  pnpm add @payloadcms/plugin-sentry
</code></pre>
<h2>Sentry for Next.js setup</h2>
<p>This plugin requires to complete the <a href="https://docs.sentry.io/platforms/javascript/guides/nextjs/">Sentry + Next.js setup</a> before.</p>
<p>You can use either the <a href="https://docs.sentry.io/platforms/javascript/guides/nextjs/#install">automatic setup</a> with the installation wizard:</p>
<pre><code class="language-sh">npx @sentry/wizard@latest -i nextjs
</code></pre>
<p>Or the <a href="https://docs.sentry.io/platforms/javascript/guides/nextjs/manual-setup/">Manual Setup</a></p>
<h2>Basic Usage</h2>
<p>In the <code>plugins</code> array of your <a href="https://payloadcms.com/docs/configuration/overview">Payload Config</a>, call the plugin and pass in your Sentry DSN as an option.</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;
import { sentryPlugin } from &#x27;@payloadcms/plugin-sentry&#x27;
import { Pages, Media } from &#x27;./collections&#x27;

import * as Sentry from &#x27;@sentry/nextjs&#x27;

const config = buildConfig({
  collections: [Pages, Media],
  plugins: [
    sentryPlugin({
      Sentry,
    }),
  ],
})

export default config
</code></pre>
<h2>Options</h2>
<ul>
<li>
<p><code>Sentry</code> : Sentry | <strong>required</strong></p>
<p>The <code>Sentry</code> instance</p>
</li>
</ul>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p>Make sure to complete the <a href="#sentry-for-nextjs-setup">Sentry for Next.js Setup</a>
before.</p></div>
<ul>
<li>
<p><code>enabled</code>: boolean | optional</p>
<p>Set to false to disable the plugin. Defaults to <code>true</code>.</p>
</li>
<li>
<p><code>context</code>: <code>(args: ContextArgs) =&gt; Partial&lt;ScopeContext&gt; | Promise&lt;Partial&lt;ScopeContext&gt;&gt;</code></p>
<p>Pass additional <a href="https://docs.sentry.io/platforms/javascript/enriching-events/context/#passing-context-directly">contextual data</a> to Sentry</p>
</li>
<li>
<p><code>captureErrors</code>: number[] | optional</p>
<p>By default, <code>Sentry.errorHandler</code> will capture only errors with a status code of 500 or higher. To capture additional error codes, pass the values as numbers in an array.</p>
</li>
</ul>
<h3>Example</h3>
<p>Configure any of these options by passing them to the plugin:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;
import { sentryPlugin } from &#x27;@payloadcms/plugin-sentry&#x27;

import * as Sentry from &#x27;@sentry/nextjs&#x27;

import { Pages, Media } from &#x27;./collections&#x27;

const config = buildConfig({
  collections: [Pages, Media],
  plugins: [
    sentryPlugin({
      options: {
        captureErrors: [400, 403],
        context: ({ defaultContext, req }) =&gt; {
          return {
            ...defaultContext,
            tags: {
              locale: req.locale,
            },
          }
        },
        debug: true,
      },
      Sentry,
    }),
  ],
})

export default config
</code></pre>
<h2>TypeScript</h2>
<p>All types can be directly imported:</p>
<pre><code class="language-ts">import { PluginOptions } from &#x27;@payloadcms/plugin-sentry&#x27;
</code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Sentry Plugin","label":"Sentry","order":40,"desc":"Integrate Sentry error tracking into your Payload application","keywords":"plugins, sentry, error, tracking, monitoring, logging, bug, reporting, performance"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    a: \"a\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    pre: \"pre\",\n    code: \"code\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://img.shields.io/npm/v/@payloadcms/plugin-sentry\",\n        alt: \"https://www.npmjs.com/package/@payloadcms/plugin-sentry\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin allows you to integrate \", _jsx(_components.a, {\n        href: \"https://sentry.io/\",\n        children: \"Sentry\"\n      }), \" seamlessly with your \", _jsx(_components.a, {\n        href: \"https://github.com/payloadcms/payload\",\n        children: \"Payload\"\n      }), \" application.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What is Sentry?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Sentry is a powerful error tracking and performance monitoring tool that helps developers identify, diagnose, and resolve issues in their applications.\"\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [\"Sentry does smart stuff with error data to make bugs easier to find and fix. -\\n\", _jsx(_components.a, {\n          href: \"https://sentry.io/\",\n          children: \"sentry.io\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This multi-faceted software offers a range of features that will help you manage errors with greater ease and ultimately ensure your application is running smoothly:\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Core Features\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Error Tracking\"\n        }), \": Instantly captures and logs errors as they occur in your application\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Performance Monitoring\"\n        }), \": Tracks application performance to identify slowdowns and bottlenecks\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Detailed Reports\"\n        }), \": Provides comprehensive insights into errors, including stack traces and context\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Alerts and Notifications\"\n        }), \": Send and customize event-triggered notifications\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Issue Grouping, Filtering and Search\"\n        }), \": Automatically groups similar errors, and allows filtering and searching issues by custom criteria\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Breadcrumbs\"\n        }), \": Records user actions and events leading up to an error\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Integrations\"\n        }), \": Connects with various tools and services for enhanced workflow and issue management\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [\"This plugin is completely open-source and the \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/tree/main/packages/plugin-sentry\",\n          children: \"source code can be found\\nhere\"\n        }), \".\\nIf you need help, check out our \", _jsx(_components.a, {\n          href: \"https://payloadcms.com/community-help\",\n          children: \"Community\\nHelp\"\n        }), \". If you think you've found a bug,\\nplease \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/issues/new?assignees=\u0026labels=plugin%3A%20seo\u0026template=bug_report.md\u0026title=plugin-sentry%3A\",\n          children: \"open a new\\nissue\"\n        }), \"\\nwith as much detail as possible.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Installation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Install the plugin using any JavaScript package manager like \", _jsx(_components.a, {\n        href: \"https://pnpm.io\",\n        children: \"pnpm\"\n      }), \", \", _jsx(_components.a, {\n        href: \"https://npmjs.com\",\n        children: \"npm\"\n      }), \", or \", _jsx(_components.a, {\n        href: \"https://yarnpkg.com\",\n        children: \"Yarn\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"  pnpm add @payloadcms/plugin-sentry\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Sentry for Next.js setup\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin requires to complete the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/\",\n        children: \"Sentry + Next.js setup\"\n      }), \" before.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can use either the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/#install\",\n        children: \"automatic setup\"\n      }), \" with the installation wizard:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-sh\",\n        children: \"npx @sentry/wizard@latest -i nextjs\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Or the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/manual-setup/\",\n        children: \"Manual Setup\"\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic Usage\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the \", _jsx(_components.code, {\n        children: \"plugins\"\n      }), \" array of your \", _jsx(_components.a, {\n        href: \"https://payloadcms.com/docs/configuration/overview\",\n        children: \"Payload Config\"\n      }), \", call the plugin and pass in your Sentry DSN as an option.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { sentryPlugin } from '@payloadcms/plugin-sentry'\\nimport { Pages, Media } from './collections'\\n\\nimport * as Sentry from '@sentry/nextjs'\\n\\nconst config = buildConfig({\\n  collections: [Pages, Media],\\n  plugins: [\\n    sentryPlugin({\\n      Sentry,\\n    }),\\n  ],\\n})\\n\\nexport default config\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"Sentry\"\n          }), \" : Sentry | \", _jsx(_components.strong, {\n            children: \"required\"\n          })]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"The \", _jsx(_components.code, {\n            children: \"Sentry\"\n          }), \" instance\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [\"Make sure to complete the \", _jsx(_components.a, {\n          href: \"#sentry-for-nextjs-setup\",\n          children: \"Sentry for Next.js Setup\"\n        }), \"\\nbefore.\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"enabled\"\n          }), \": boolean | optional\"]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Set to false to disable the plugin. Defaults to \", _jsx(_components.code, {\n            children: \"true\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"context\"\n          }), \": \", _jsx(_components.code, {\n            children: \"(args: ContextArgs) =\u003e Partial\u003cScopeContext\u003e | Promise\u003cPartial\u003cScopeContext\u003e\u003e\"\n          })]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Pass additional \", _jsx(_components.a, {\n            href: \"https://docs.sentry.io/platforms/javascript/enriching-events/context/#passing-context-directly\",\n            children: \"contextual data\"\n          }), \" to Sentry\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"captureErrors\"\n          }), \": number[] | optional\"]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"By default, \", _jsx(_components.code, {\n            children: \"Sentry.errorHandler\"\n          }), \" will capture only errors with a status code of 500 or higher. To capture additional error codes, pass the values as numbers in an array.\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Example\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Configure any of these options by passing them to the plugin:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { sentryPlugin } from '@payloadcms/plugin-sentry'\\n\\nimport * as Sentry from '@sentry/nextjs'\\n\\nimport { Pages, Media } from './collections'\\n\\nconst config = buildConfig({\\n  collections: [Pages, Media],\\n  plugins: [\\n    sentryPlugin({\\n      options: {\\n        captureErrors: [400, 403],\\n        context: ({ defaultContext, req }) =\u003e {\\n          return {\\n            ...defaultContext,\\n            tags: {\\n              locale: req.locale,\\n            },\\n          }\\n        },\\n        debug: true,\\n      },\\n      Sentry,\\n    }),\\n  ],\\n})\\n\\nexport default config\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"TypeScript\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"All types can be directly imported:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { PluginOptions } from '@payloadcms/plugin-sentry'\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["plugins","sentry"]},"buildId":"pbayt_BRhSN28J-gcoKlf","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>