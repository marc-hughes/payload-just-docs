<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Custom Providers - Swap in your own React Context providers | Payload CMS Documentation</title><meta name="description" content="Swap in your own React Context providers"/><meta property="og:title" content="Custom Providers - Swap in your own React Context providers | Payload CMS Documentation"/><meta property="og:description" content="Swap in your own React Context providers"/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Swap in your own React Context providers</h1><div class="prose prose-lg max-w-none"><p>As you add more and more <a href="./overview">Custom Components</a> to your <a href="../admin/overview">Admin Panel</a>, you may find it helpful to add additional <a href="https://react.dev/learn/scaling-up-with-reducer-and-context">React Context</a>(s) to your app. Payload allows you to inject your own context providers where you can export your own custom hooks, etc.</p>
<p>To add a Custom Provider, use the <code>admin.components.providers</code> property in your <a href="../configuration/overview">Payload Config</a>:</p>
<pre><code class="language-ts">import { buildConfig } from &#x27;payload&#x27;

export default buildConfig({
  // ...
  admin: {
    components: {
      providers: [&#x27;/path/to/MyProvider&#x27;], // highlight-line
    },
  },
})
</code></pre>
<p>Then build your Custom Provider as follows:</p>
<pre><code class="language-tsx">&#x27;use client&#x27;
import React, { createContext, use } from &#x27;react&#x27;

const MyCustomContext = React.createContext(myCustomValue)

export function MyProvider({ children }: { children: React.ReactNode }) {
  return &lt;MyCustomContext value={myCustomValue}&gt;{children}&lt;/MyCustomContext&gt;
}

export const useMyCustomContext = () =&gt; use(MyCustomContext)
</code></pre>
<p><em>For details on how to build Custom Components, see <a href="./overview#building-custom-components">Building Custom Components</a>.</em></p>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Reminder:</strong> React Context exists only within Client Components. This means
they must include the <code>use client</code> directive at the top of their files and
cannot contain server-only code. To use a Server Component here, simply <em>wrap</em>
your Client Component with it.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Swap in your own React Context providers","label":"Custom Providers","order":30,"desc":null,"keywords":"admin, components, custom, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    em: \"em\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"As you add more and more \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Custom Components\"\n      }), \" to your \", _jsx(_components.a, {\n        href: \"../admin/overview\",\n        children: \"Admin Panel\"\n      }), \", you may find it helpful to add additional \", _jsx(_components.a, {\n        href: \"https://react.dev/learn/scaling-up-with-reducer-and-context\",\n        children: \"React Context\"\n      }), \"(s) to your app. Payload allows you to inject your own context providers where you can export your own custom hooks, etc.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add a Custom Provider, use the \", _jsx(_components.code, {\n        children: \"admin.components.providers\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/overview\",\n        children: \"Payload Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\n\\nexport default buildConfig({\\n  // ...\\n  admin: {\\n    components: {\\n      providers: ['/path/to/MyProvider'], // highlight-line\\n    },\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Then build your Custom Provider as follows:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"'use client'\\nimport React, { createContext, use } from 'react'\\n\\nconst MyCustomContext = React.createContext(myCustomValue)\\n\\nexport function MyProvider({ children }: { children: React.ReactNode }) {\\n  return \u003cMyCustomContext value={myCustomValue}\u003e{children}\u003c/MyCustomContext\u003e\\n}\\n\\nexport const useMyCustomContext = () =\u003e use(MyCustomContext)\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.em, {\n        children: [\"For details on how to build Custom Components, see \", _jsx(_components.a, {\n          href: \"./overview#building-custom-components\",\n          children: \"Building Custom Components\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Reminder:\"\n        }), \" React Context exists only within Client Components. This means\\nthey must include the \", _jsx(_components.code, {\n          children: \"use client\"\n        }), \" directive at the top of their files and\\ncannot contain server-only code. To use a Server Component here, simply \", _jsx(_components.em, {\n          children: \"wrap\"\n        }), \"\\nyour Client Component with it.\"]\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["custom-components","custom-providers"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>