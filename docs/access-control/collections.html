<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-e023289636109d90.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/pbayt_BRhSN28J-gcoKlf/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Collection Access Control</h1><p class="text-xl text-gray-600 mb-8">With Collection-level Access Control you can define which users can create, read, update or delete Collections.</p><div class="prose prose-lg max-w-none"><p>Collection Access Control is <a href="../access-control/overview">Access Control</a> used to restrict access to Documents within a <a href="../getting-started/concepts#collections">Collection</a>, as well as what they can and cannot see within the <a href="../admin/overview">Admin Panel</a> as it relates to that Collection.</p>
<p>To add Access Control to a Collection, use the <code>access</code> property in your <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithAccessControl: CollectionConfig = {
  // ...
  access: {
    // highlight-line
    // ...
  },
}
</code></pre>
<h2>Config Options</h2>
<p>Access Control is specific to the operation of the request.</p>
<p>To add Access Control to a Collection, use the <code>access</code> property in your <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;;

export const CollectionWithAccessControl: CollectionConfig = {
  // ...
  // highlight-start
  access: {
    create: () =&gt; {...},
    read: () =&gt; {...},
    update: () =&gt; {...},
    delete: () =&gt; {...},

    // Auth-enabled Collections only
    admin: () =&gt; {...},
    unlock: () =&gt; {...},

    // Version-enabled Collections only
    readVersions: () =&gt; {...},
  },
  // highlight-end
}
</code></pre>
<p>The following options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allows/Denies Access</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>create</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>create</code> operation. <a href="#create">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>read</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>find</code> and <code>findByID</code> operations. <a href="#read">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>update</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>update</code> operation. <a href="#update">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>delete</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>delete</code> operation. <a href="#delete">More details</a>.</td></tr></tbody></table></div>
<p>If a Collection supports <a href="../authentication/overview"><code>Authentication</code></a>, the following additional options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allows/Denies Access</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>admin</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used to restrict access to the <a href="../admin/overview">Admin Panel</a>. <a href="#admin">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>unlock</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used to restrict which users can access the <code>unlock</code> operation. <a href="#unlock">More details</a>.</td></tr></tbody></table></div>
<p>If a Collection supports <a href="../versions/overview">Versions</a>, the following additional options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allows/Denies Access</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>readVersions</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used to control who can read versions, and who can&#x27;t. Will automatically restrict the Admin UI version viewing access. <a href="#read-versions">More details</a>.</td></tr></tbody></table></div>
<h3>Create</h3>
<p>Returns a boolean which allows/denies access to the <code>create</code> request.</p>
<p>To add create Access Control to a Collection, use the <code>create</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithCreateAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    create: ({ req: { user }, data }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>The following arguments are provided to the <code>create</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>data</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The data passed to create the document with.</td></tr></tbody></table></div>
<h3>Read</h3>
<p>Returns a boolean which allows/denies access to the <code>read</code> request.</p>
<p>To add read Access Control to a Collection, use the <code>read</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithReadAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    read: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> Return a <a href="../queries/overview">Query</a> to limit the Documents to only
those that match the constraint. This can be helpful to restrict users&#x27; access
to specific Documents. <a href="../queries/overview">More details</a>.</p></div>
<p>As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:</p>
<pre><code class="language-ts">import type { Access } from &#x27;payload&#x27;

export const canReadPage: Access = ({ req: { user } }) =&gt; {
  // Allow authenticated users
  if (user) {
    return true
  }

  // By returning a Query, guest users can read public Documents
  // Note: this assumes you have a `isPublic` checkbox field on your Collection
  return {
    isPublic: {
      equals: true,
    },
  }
}
</code></pre>
<p>The following arguments are provided to the <code>read</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>id</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>id</code> of document requested, if within <code>findByID</code>.</td></tr></tbody></table></div>
<h3>Update</h3>
<p>Returns a boolean which allows/denies access to the <code>update</code> request.</p>
<p>To add update Access Control to a Collection, use the <code>update</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithUpdateAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    update: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong> Return a <a href="../queries/overview">Query</a> to limit the Documents to only
those that match the constraint. This can be helpful to restrict users&#x27; access
to specific Documents. <a href="../queries/overview">More details</a>.</p></div>
<p>As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:</p>
<pre><code class="language-ts">import type { Access } from &#x27;payload&#x27;

export const canUpdateUser: Access = ({ req: { user }, id }) =&gt; {
  // Allow users with a role of &#x27;admin&#x27;
  if (user.roles &amp;&amp; user.roles.some((role) =&gt; role === &#x27;admin&#x27;)) {
    return true
  }

  // allow any other users to update only oneself
  return user.id === id
}
</code></pre>
<p>The following arguments are provided to the <code>update</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>id</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>id</code> of document requested to update.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>data</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The data passed to update the document with.</td></tr></tbody></table></div>
<h3>Delete</h3>
<p>Similarly to the Update function, returns a boolean or a <a href="/docs/queries/overview">query constraint</a> to limit which documents can be deleted by which users.</p>
<p>To add delete Access Control to a Collection, use the <code>delete</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithDeleteAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    delete: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:</p>
<pre><code class="language-ts">import type { Access } from &#x27;payload&#x27;

export const canDeleteCustomer: Access = async ({ req, id }) =&gt; {
  if (!id) {
    // allow the admin UI to show controls to delete since it is indeterminate without the `id`
    return true
  }

  // Query another Collection using the `id`
  const result = await req.payload.find({
    collection: &#x27;contracts&#x27;,
    limit: 0,
    depth: 0,
    where: {
      customer: { equals: id },
    },
  })

  return result.totalDocs === 0
}
</code></pre>
<p>The following arguments are provided to the <code>delete</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object with additional <code>user</code> property, which is the currently logged in user.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>id</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>id</code> of document requested to delete.</td></tr></tbody></table></div>
<h3>Admin</h3>
<p>If the Collection is used to access the <a href="../admin/overview#the-admin-user-collection">Admin Panel</a>, the <code>Admin</code> Access Control function determines whether or not the currently logged in user can access the admin UI.</p>
<p>To add Admin Access Control to a Collection, use the <code>admin</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithAdminAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    admin: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>The following arguments are provided to the <code>admin</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr></tbody></table></div>
<h3>Unlock</h3>
<p>Determines which users can <a href="/docs/authentication/operations#unlock">unlock</a> other users who may be blocked from authenticating successfully due to <a href="/docs/authentication/overview#config-options">failing too many login attempts</a>.</p>
<p>To add Unlock Access Control to a Collection, use the <code>unlock</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithUnlockAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    unlock: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>The following arguments are provided to the <code>unlock</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr></tbody></table></div>
<h3>Read Versions</h3>
<p>If the Collection has <a href="../versions/overview">Versions</a> enabled, the <code>readVersions</code> Access Control function determines whether or not the currently logged in user can access the version history of a Document.</p>
<p>To add Read Versions Access Control to a Collection, use the <code>readVersions</code> property in the <a href="../configuration/collections">Collection Config</a>:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const CollectionWithVersionsAccess: CollectionConfig = {
  // ...
  access: {
    // highlight-start
    readVersions: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>The following arguments are provided to the <code>readVersions</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr></tbody></table></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Collection Access Control","label":"Collections","order":20,"desc":"With Collection-level Access Control you can define which users can create, read, update or delete Collections.","keywords":"collections, access control, permissions, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    strong: \"strong\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Collection Access Control is \", _jsx(_components.a, {\n        href: \"../access-control/overview\",\n        children: \"Access Control\"\n      }), \" used to restrict access to Documents within a \", _jsx(_components.a, {\n        href: \"../getting-started/concepts#collections\",\n        children: \"Collection\"\n      }), \", as well as what they can and cannot see within the \", _jsx(_components.a, {\n        href: \"../admin/overview\",\n        children: \"Admin Panel\"\n      }), \" as it relates to that Collection.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"access\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithAccessControl: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-line\\n    // ...\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Access Control is specific to the operation of the request.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"access\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload';\\n\\nexport const CollectionWithAccessControl: CollectionConfig = {\\n  // ...\\n  // highlight-start\\n  access: {\\n    create: () =\u003e {...},\\n    read: () =\u003e {...},\\n    update: () =\u003e {...},\\n    delete: () =\u003e {...},\\n\\n    // Auth-enabled Collections only\\n    admin: () =\u003e {...},\\n    unlock: () =\u003e {...},\\n\\n    // Version-enabled Collections only\\n    readVersions: () =\u003e {...},\\n  },\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following options are available:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Function\"\n          }), _jsx(_components.th, {\n            children: \"Allows/Denies Access\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"create\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"create\"\n            }), \" operation. \", _jsx(_components.a, {\n              href: \"#create\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"read\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"find\"\n            }), \" and \", _jsx(_components.code, {\n              children: \"findByID\"\n            }), \" operations. \", _jsx(_components.a, {\n              href: \"#read\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"update\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"update\"\n            }), \" operation. \", _jsx(_components.a, {\n              href: \"#update\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"delete\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"delete\"\n            }), \" operation. \", _jsx(_components.a, {\n              href: \"#delete\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If a Collection supports \", _jsx(_components.a, {\n        href: \"../authentication/overview\",\n        children: _jsx(_components.code, {\n          children: \"Authentication\"\n        })\n      }), \", the following additional options are available:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Function\"\n          }), _jsx(_components.th, {\n            children: \"Allows/Denies Access\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"admin\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used to restrict access to the \", _jsx(_components.a, {\n              href: \"../admin/overview\",\n              children: \"Admin Panel\"\n            }), \". \", _jsx(_components.a, {\n              href: \"#admin\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"unlock\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used to restrict which users can access the \", _jsx(_components.code, {\n              children: \"unlock\"\n            }), \" operation. \", _jsx(_components.a, {\n              href: \"#unlock\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If a Collection supports \", _jsx(_components.a, {\n        href: \"../versions/overview\",\n        children: \"Versions\"\n      }), \", the following additional options are available:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Function\"\n          }), _jsx(_components.th, {\n            children: \"Allows/Denies Access\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"readVersions\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used to control who can read versions, and who can't. Will automatically restrict the Admin UI version viewing access. \", _jsx(_components.a, {\n              href: \"#read-versions\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Create\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Returns a boolean which allows/denies access to the \", _jsx(_components.code, {\n        children: \"create\"\n      }), \" request.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add create Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"create\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithCreateAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    create: ({ req: { user }, data }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"create\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"data\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The data passed to create the document with.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Read\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Returns a boolean which allows/denies access to the \", _jsx(_components.code, {\n        children: \"read\"\n      }), \" request.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add read Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"read\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithReadAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    read: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" Return a \", _jsx(_components.a, {\n          href: \"../queries/overview\",\n          children: \"Query\"\n        }), \" to limit the Documents to only\\nthose that match the constraint. This can be helpful to restrict users' access\\nto specific Documents. \", _jsx(_components.a, {\n          href: \"../queries/overview\",\n          children: \"More details\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { Access } from 'payload'\\n\\nexport const canReadPage: Access = ({ req: { user } }) =\u003e {\\n  // Allow authenticated users\\n  if (user) {\\n    return true\\n  }\\n\\n  // By returning a Query, guest users can read public Documents\\n  // Note: this assumes you have a `isPublic` checkbox field on your Collection\\n  return {\\n    isPublic: {\\n      equals: true,\\n    },\\n  }\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"read\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"id\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"id\"\n            }), \" of document requested, if within \", _jsx(_components.code, {\n              children: \"findByID\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Update\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Returns a boolean which allows/denies access to the \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" request.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add update Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithUpdateAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    update: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Tip:\"\n        }), \" Return a \", _jsx(_components.a, {\n          href: \"../queries/overview\",\n          children: \"Query\"\n        }), \" to limit the Documents to only\\nthose that match the constraint. This can be helpful to restrict users' access\\nto specific Documents. \", _jsx(_components.a, {\n          href: \"../queries/overview\",\n          children: \"More details\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { Access } from 'payload'\\n\\nexport const canUpdateUser: Access = ({ req: { user }, id }) =\u003e {\\n  // Allow users with a role of 'admin'\\n  if (user.roles \u0026\u0026 user.roles.some((role) =\u003e role === 'admin')) {\\n    return true\\n  }\\n\\n  // allow any other users to update only oneself\\n  return user.id === id\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"id\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"id\"\n            }), \" of document requested to update.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"data\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The data passed to update the document with.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Delete\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Similarly to the Update function, returns a boolean or a \", _jsx(_components.a, {\n        href: \"/docs/queries/overview\",\n        children: \"query constraint\"\n      }), \" to limit which documents can be deleted by which users.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add delete Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithDeleteAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    delete: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As your application becomes more complex, you may want to define your function in a separate file and import them into your Collection Config:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { Access } from 'payload'\\n\\nexport const canDeleteCustomer: Access = async ({ req, id }) =\u003e {\\n  if (!id) {\\n    // allow the admin UI to show controls to delete since it is indeterminate without the `id`\\n    return true\\n  }\\n\\n  // Query another Collection using the `id`\\n  const result = await req.payload.find({\\n    collection: 'contracts',\\n    limit: 0,\\n    depth: 0,\\n    where: {\\n      customer: { equals: id },\\n    },\\n  })\\n\\n  return result.totalDocs === 0\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"delete\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object with additional \", _jsx(_components.code, {\n              children: \"user\"\n            }), \" property, which is the currently logged in user.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"id\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"id\"\n            }), \" of document requested to delete.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Admin\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If the Collection is used to access the \", _jsx(_components.a, {\n        href: \"../admin/overview#the-admin-user-collection\",\n        children: \"Admin Panel\"\n      }), \", the \", _jsx(_components.code, {\n        children: \"Admin\"\n      }), \" Access Control function determines whether or not the currently logged in user can access the admin UI.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Admin Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"admin\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithAdminAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    admin: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"admin\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Unlock\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Determines which users can \", _jsx(_components.a, {\n        href: \"/docs/authentication/operations#unlock\",\n        children: \"unlock\"\n      }), \" other users who may be blocked from authenticating successfully due to \", _jsx(_components.a, {\n        href: \"/docs/authentication/overview#config-options\",\n        children: \"failing too many login attempts\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Unlock Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"unlock\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithUnlockAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    unlock: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"unlock\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Read Versions\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If the Collection has \", _jsx(_components.a, {\n        href: \"../versions/overview\",\n        children: \"Versions\"\n      }), \" enabled, the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" Access Control function determines whether or not the currently logged in user can access the version history of a Document.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Read Versions Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/collections\",\n        children: \"Collection Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const CollectionWithVersionsAccess: CollectionConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    readVersions: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["access-control","collections"]},"buildId":"pbayt_BRhSN28J-gcoKlf","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>