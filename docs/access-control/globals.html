<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-f6932393d0a8e091.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Globals Access Control</h1><p class="text-xl text-gray-600 mb-8">Global-level Access Control is specified within each Global&#x27;s `access` property and allows you to define which users can read or update Globals.</p><div class="prose prose-lg max-w-none"><p>Global Access Control is <a href="../access-control/overview">Access Control</a> used to restrict access to <a href="../configuration/globals">Global</a> Documents, as well as what they can and cannot see within the <a href="../admin/overview">Admin Panel</a> as it relates to that Global.</p>
<p>To add Access Control to a Global, use the <code>access</code> property in your <a href="../configuration/globals">Global Config</a>:</p>
<pre><code class="language-ts">import type { GlobalConfig } from &#x27;payload&#x27;

export const GlobalWithAccessControl: GlobalConfig = {
  // ...
  access: {
    // highlight-line
    // ...
  },
}
</code></pre>
<h2>Config Options</h2>
<p>Access Control is specific to the operation of the request.</p>
<p>To add Access Control to a <a href="../configuration/globals">Global</a>, use the <code>access</code> property in the <a href="../configuration/globals">Global Config</a>:</p>
<pre><code class="language-ts">import { GlobalConfig } from &#x27;payload&#x27;

const GlobalWithAccessControl: GlobalConfig = {
  // ...
  // highlight-start
  access: {
    read: ({ req: { user } }) =&gt; {...},
    update: ({ req: { user } }) =&gt; {...},

    // Version-enabled Globals only
    readVersion: () =&gt; {...},
  },
  // highlight-end
}

export default Header
</code></pre>
<p>The following options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allows/Denies Access</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>read</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>findOne</code> Global operation. <a href="#read">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>update</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used in the <code>update</code> Global operation. <a href="#update">More details</a>.</td></tr></tbody></table></div>
<p>If a Global supports <a href="../versions/overview">Versions</a>, the following additional options are available:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allows/Denies Access</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>readVersions</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Used to control who can read versions, and who can&#x27;t. Will automatically restrict the Admin UI version viewing access. <a href="#read-versions">More details</a>.</td></tr></tbody></table></div>
<h3>Read</h3>
<p>Returns a boolean result or optionally a <a href="../queries/overview">query constraint</a> which limits who can read this global based on its current properties.</p>
<p>To add read Access Control to a <a href="../configuration/globals">Global</a>, use the <code>read</code> property in the <a href="../configuration/globals">Global Config</a>:</p>
<pre><code class="language-ts">import { GlobalConfig } from &#x27;payload&#x27;

const Header: GlobalConfig = {
  // ...
  // highlight-start
  read: {
    read: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
  },
  // highlight-end
}
</code></pre>
<p>The following arguments are provided to the <code>read</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr></tbody></table></div>
<h3>Update</h3>
<p>Returns a boolean result or optionally a <a href="../queries/overview">query constraint</a> which limits who can update this global based on its current properties.</p>
<p>To add update Access Control to a <a href="../configuration/globals">Global</a>, use the <code>access</code> property in the <a href="../configuration/globals">Global Config</a>:</p>
<pre><code class="language-ts">import { GlobalConfig } from &#x27;payload&#x27;

const Header: GlobalConfig = {
  // ...
  // highlight-start
  access: {
    update: ({ req: { user }, data }) =&gt; {
      return Boolean(user)
    },
  },
  // highlight-end
}
</code></pre>
<p>The following arguments are provided to the <code>update</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>data</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The data passed to update the global with.</td></tr></tbody></table></div>
<h3>Read Versions</h3>
<p>If the Global has <a href="../versions/overview">Versions</a> enabled, the <code>readVersions</code> Access Control function determines whether or not the currently logged in user can access the version history of a Document.</p>
<p>To add Read Versions Access Control to a Collection, use the <code>readVersions</code> property in the <a href="../configuration/globals">Global Config</a>:</p>
<pre><code class="language-ts">import type { GlobalConfig } from &#x27;payload&#x27;

export const GlobalWithVersionsAccess: GlobalConfig = {
  // ...
  access: {
    // highlight-start
    readVersions: ({ req: { user } }) =&gt; {
      return Boolean(user)
    },
    // highlight-end
  },
}
</code></pre>
<p>The following arguments are provided to the <code>readVersions</code> function:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>req</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object containing the currently authenticated <code>user</code>.</td></tr></tbody></table></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Globals Access Control","label":"Globals","order":30,"desc":"Global-level Access Control is specified within each Global's `access` property and allows you to define which users can read or update Globals.","keywords":"globals, access control, permissions, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    strong: \"strong\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Global Access Control is \", _jsx(_components.a, {\n        href: \"../access-control/overview\",\n        children: \"Access Control\"\n      }), \" used to restrict access to \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global\"\n      }), \" Documents, as well as what they can and cannot see within the \", _jsx(_components.a, {\n        href: \"../admin/overview\",\n        children: \"Admin Panel\"\n      }), \" as it relates to that Global.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Access Control to a Global, use the \", _jsx(_components.code, {\n        children: \"access\"\n      }), \" property in your \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { GlobalConfig } from 'payload'\\n\\nexport const GlobalWithAccessControl: GlobalConfig = {\\n  // ...\\n  access: {\\n    // highlight-line\\n    // ...\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Access Control is specific to the operation of the request.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Access Control to a \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global\"\n      }), \", use the \", _jsx(_components.code, {\n        children: \"access\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { GlobalConfig } from 'payload'\\n\\nconst GlobalWithAccessControl: GlobalConfig = {\\n  // ...\\n  // highlight-start\\n  access: {\\n    read: ({ req: { user } }) =\u003e {...},\\n    update: ({ req: { user } }) =\u003e {...},\\n\\n    // Version-enabled Globals only\\n    readVersion: () =\u003e {...},\\n  },\\n  // highlight-end\\n}\\n\\nexport default Header\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following options are available:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Function\"\n          }), _jsx(_components.th, {\n            children: \"Allows/Denies Access\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"read\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"findOne\"\n            }), \" Global operation. \", _jsx(_components.a, {\n              href: \"#read\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"update\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used in the \", _jsx(_components.code, {\n              children: \"update\"\n            }), \" Global operation. \", _jsx(_components.a, {\n              href: \"#update\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If a Global supports \", _jsx(_components.a, {\n        href: \"../versions/overview\",\n        children: \"Versions\"\n      }), \", the following additional options are available:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Function\"\n          }), _jsx(_components.th, {\n            children: \"Allows/Denies Access\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"readVersions\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Used to control who can read versions, and who can't. Will automatically restrict the Admin UI version viewing access. \", _jsx(_components.a, {\n              href: \"#read-versions\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Read\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Returns a boolean result or optionally a \", _jsx(_components.a, {\n        href: \"../queries/overview\",\n        children: \"query constraint\"\n      }), \" which limits who can read this global based on its current properties.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add read Access Control to a \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global\"\n      }), \", use the \", _jsx(_components.code, {\n        children: \"read\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { GlobalConfig } from 'payload'\\n\\nconst Header: GlobalConfig = {\\n  // ...\\n  // highlight-start\\n  read: {\\n    read: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n  },\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"read\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Update\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Returns a boolean result or optionally a \", _jsx(_components.a, {\n        href: \"../queries/overview\",\n        children: \"query constraint\"\n      }), \" which limits who can update this global based on its current properties.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add update Access Control to a \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global\"\n      }), \", use the \", _jsx(_components.code, {\n        children: \"access\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { GlobalConfig } from 'payload'\\n\\nconst Header: GlobalConfig = {\\n  // ...\\n  // highlight-start\\n  access: {\\n    update: ({ req: { user }, data }) =\u003e {\\n      return Boolean(user)\\n    },\\n  },\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"update\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"data\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The data passed to update the global with.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Read Versions\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If the Global has \", _jsx(_components.a, {\n        href: \"../versions/overview\",\n        children: \"Versions\"\n      }), \" enabled, the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" Access Control function determines whether or not the currently logged in user can access the version history of a Document.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To add Read Versions Access Control to a Collection, use the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" property in the \", _jsx(_components.a, {\n        href: \"../configuration/globals\",\n        children: \"Global Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { GlobalConfig } from 'payload'\\n\\nexport const GlobalWithVersionsAccess: GlobalConfig = {\\n  // ...\\n  access: {\\n    // highlight-start\\n    readVersions: ({ req: { user } }) =\u003e {\\n      return Boolean(user)\\n    },\\n    // highlight-end\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following arguments are provided to the \", _jsx(_components.code, {\n        children: \"readVersions\"\n      }), \" function:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"req\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.a, {\n              href: \"https://developer.mozilla.org/en-US/docs/Web/API/Request\",\n              children: \"Request\"\n            }), \" object containing the currently authenticated \", _jsx(_components.code, {\n              children: \"user\"\n            }), \".\"]\n          })]\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["access-control","globals"]},"buildId":"DHzIn8D_gRO4uRLrnkzxV","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>