<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-fd8027ecb5121007.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-04104d75f6814829.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/docs/%5B...slug%5D-e023289636109d90.js" defer="" crossorigin=""></script><script src="/_next/static/rEpVRygLyV6yJ0i_Ohw0C/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/rEpVRygLyV6yJ0i_Ohw0C/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">GraphQL Overview</h1><p class="text-xl text-gray-600 mb-8">Payload ships with a fully featured and extensible GraphQL API, which can be used in addition to the REST and Local APIs to give you more flexibility.</p><div class="prose prose-lg max-w-none"><p>In addition to its REST and Local APIs, Payload ships with a fully featured and extensible GraphQL API.</p>
<p>By default, the GraphQL API is exposed via <code>/api/graphql</code>, but you can customize this URL via specifying your <code>routes</code> within the main Payload Config.</p>
<p>The labels you provide for your Collections and Globals are used to name the GraphQL types that are created to correspond to your config. Special characters and spaces are removed.</p>
<h2>GraphQL Options</h2>
<p>At the top of your Payload Config you can define all the options to manage GraphQL.</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>mutations</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Any custom Mutations to be added in addition to what Payload provides. <a href="/docs/graphql/extending">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>queries</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Any custom Queries to be added in addition to what Payload provides. <a href="/docs/graphql/extending">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>maxComplexity</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A number used to set the maximum allowed complexity allowed by requests <a href="/docs/graphql/overview#query-complexity-limits">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>disablePlaygroundInProduction</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A boolean that if false will enable the GraphQL playground, defaults to true. <a href="/docs/graphql/overview#graphql-playground">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>disable</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A boolean that if true will disable the GraphQL entirely, defaults to false.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>validationRules</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A function that takes the ExecutionArgs and returns an array of ValidationRules.</td></tr></tbody></table></div>
<h2>Collections</h2>
<p>Everything that can be done to a Collection via the REST or Local API can be done with GraphQL (outside of uploading files, which is REST-only). If you have a collection as follows:</p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const PublicUser: CollectionConfig = {
  slug: &#x27;public-users&#x27;,
  auth: true, // Auth is enabled
  fields: [
    ...
  ],
}
</code></pre>
<p><strong>Payload will automatically open up the following queries:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>PublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>findByID</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>PublicUsers</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>find</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>countPublicUsers</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>count</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>mePublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>me</code> auth operation</td></tr></tbody></table></div>
<p><strong>And the following mutations:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>createPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>create</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>updatePublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>update</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>deletePublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>delete</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>forgotPasswordPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>forgotPassword</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>resetPasswordPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>resetPassword</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>unlockPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>unlock</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>verifyPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>verify</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>loginPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>login</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>logoutPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>logout</code> auth operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>refreshTokenPublicUser</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>refresh</code> auth operation</td></tr></tbody></table></div>
<h2>Globals</h2>
<p>Globals are also fully supported. For example:</p>
<pre><code class="language-ts">import type { GlobalConfig } from &#x27;payload&#x27;;

const Header: GlobalConfig = {
  slug: &#x27;header&#x27;,
  fields: [
    ...
  ],
}
</code></pre>
<p><strong>Payload will open the following query:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Header</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>findOne</code></td></tr></tbody></table></div>
<p><strong>And the following mutation:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>updateHeader</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>update</code></td></tr></tbody></table></div>
<h2>Preferences</h2>
<p>User <a href="../admin/preferences">preferences</a> for the <a href="../admin/overview">Admin Panel</a> are also available to GraphQL the same way as other collection schemas are generated. To query preferences you must supply an authorization token in the header and only the preferences of that user will be accessible.</p>
<p><strong>Payload will open the following query:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>Preference</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>findOne</code></td></tr></tbody></table></div>
<p><strong>And the following mutations:</strong></p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Query Name</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operation</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>updatePreference</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>update</code></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>deletePreference</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>delete</code></td></tr></tbody></table></div>
<h2>GraphQL Playground</h2>
<p>GraphQL Playground is enabled by default for development purposes, but disabled in production. You can enable it in production by passing <code>graphQL.disablePlaygroundInProduction</code> a <code>false</code> setting in the main Payload Config.</p>
<p>You can even log in using the <code>login[collection-singular-label-here]</code> mutation to use the Playground as an authenticated user.</p>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p><strong>Tip:</strong></p><p>To see more regarding how the above queries and mutations are used, visit your GraphQL playground
(by default at
<a href="http://localhost:3000/api/graphql-playground"><code>${SERVER_URL}/api/graphql-playground</code></a>)
while your server is running. There, you can use the &quot;Schema&quot; and &quot;Docs&quot; buttons on the right to
see a ton of detail about how GraphQL operates within Payload.</p></div>
<h2>Custom Validation Rules</h2>
<p>You can add custom validation rules to your GraphQL API by defining a <code>validationRules</code> function in your Payload Config. This function should return an array of <a href="https://graphql.org/graphql-js/validation/#validation-rules">Validation Rules</a> that will be applied to all incoming queries and mutations.</p>
<pre><code class="language-ts">import { GraphQL } from &#x27;@payloadcms/graphql/types&#x27;
import { buildConfig } from &#x27;payload&#x27;

export default buildConfig({
  // ...
  graphQL: {
    validationRules: (args) =&gt; [NoProductionIntrospection],
  },
  // ...
})

const NoProductionIntrospection: GraphQL.ValidationRule = (context) =&gt; ({
  Field(node) {
    if (process.env.NODE_ENV === &#x27;production&#x27;) {
      if (node.name.value === &#x27;__schema&#x27; || node.name.value === &#x27;__type&#x27;) {
        context.reportError(
          new GraphQL.GraphQLError(
            &#x27;GraphQL introspection is not allowed, but the query contained __schema or __type&#x27;,
            { nodes: [node] },
          ),
        )
      }
    }
  },
})
</code></pre>
<h2>Query complexity limits</h2>
<p>Payload comes with a built-in query complexity limiter to prevent bad people from trying to slow down your server by running massive queries. To learn more, <a href="/docs/production/preventing-abuse#limiting-graphql-complexity">click here</a>.</p>
<h2>Field complexity</h2>
<p>You can define custom complexity for <code>relationship</code>, <code>upload</code> and <code>join</code> type fields. This is useful if you want to assign a higher complexity to a field that is more expensive to resolve. This can help prevent users from running queries that are too complex.</p>
<pre><code class="language-ts">const fieldWithComplexity = {
  name: &#x27;authors&#x27;,
  type: &#x27;relationship&#x27;,
  relationship: &#x27;authors&#x27;,
  graphQL: {
    complexity: 100, // highlight-line
  },
}
</code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"GraphQL Overview","label":"Overview","order":10,"desc":"Payload ships with a fully featured and extensible GraphQL API, which can be used in addition to the REST and Local APIs to give you more flexibility.","keywords":"graphql, resolvers, mutations, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    code: \"code\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    a: \"a\",\n    pre: \"pre\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"In addition to its REST and Local APIs, Payload ships with a fully featured and extensible GraphQL API.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"By default, the GraphQL API is exposed via \", _jsx(_components.code, {\n        children: \"/api/graphql\"\n      }), \", but you can customize this URL via specifying your \", _jsx(_components.code, {\n        children: \"routes\"\n      }), \" within the main Payload Config.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The labels you provide for your Collections and Globals are used to name the GraphQL types that are created to correspond to your config. Special characters and spaces are removed.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"GraphQL Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At the top of your Payload Config you can define all the options to manage GraphQL.\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"mutations\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Any custom Mutations to be added in addition to what Payload provides. \", _jsx(_components.a, {\n              href: \"/docs/graphql/extending\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"queries\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Any custom Queries to be added in addition to what Payload provides. \", _jsx(_components.a, {\n              href: \"/docs/graphql/extending\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"maxComplexity\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"A number used to set the maximum allowed complexity allowed by requests \", _jsx(_components.a, {\n              href: \"/docs/graphql/overview#query-complexity-limits\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"disablePlaygroundInProduction\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"A boolean that if false will enable the GraphQL playground, defaults to true. \", _jsx(_components.a, {\n              href: \"/docs/graphql/overview#graphql-playground\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"disable\"\n            })\n          }), _jsx(_components.td, {\n            children: \"A boolean that if true will disable the GraphQL entirely, defaults to false.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"validationRules\"\n            })\n          }), _jsx(_components.td, {\n            children: \"A function that takes the ExecutionArgs and returns an array of ValidationRules.\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Collections\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Everything that can be done to a Collection via the REST or Local API can be done with GraphQL (outside of uploading files, which is REST-only). If you have a collection as follows:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const PublicUser: CollectionConfig = {\\n  slug: 'public-users',\\n  auth: true, // Auth is enabled\\n  fields: [\\n    ...\\n  ],\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Payload will automatically open up the following queries:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"PublicUser\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"findByID\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"PublicUsers\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"find\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"countPublicUsers\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"count\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"mePublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"me\"\n            }), \" auth operation\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"And the following mutations:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"createPublicUser\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"create\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"updatePublicUser\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"update\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"deletePublicUser\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"delete\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"forgotPasswordPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"forgotPassword\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"resetPasswordPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"resetPassword\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"unlockPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"unlock\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"verifyPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"verify\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"loginPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"login\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"logoutPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"logout\"\n            }), \" auth operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"refreshTokenPublicUser\"\n            })\n          }), _jsxs(_components.td, {\n            children: [_jsx(_components.code, {\n              children: \"refresh\"\n            }), \" auth operation\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Globals\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Globals are also fully supported. For example:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { GlobalConfig } from 'payload';\\n\\nconst Header: GlobalConfig = {\\n  slug: 'header',\\n  fields: [\\n    ...\\n  ],\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Payload will open the following query:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Header\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"findOne\"\n            })\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"And the following mutation:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"updateHeader\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"update\"\n            })\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Preferences\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"User \", _jsx(_components.a, {\n        href: \"../admin/preferences\",\n        children: \"preferences\"\n      }), \" for the \", _jsx(_components.a, {\n        href: \"../admin/overview\",\n        children: \"Admin Panel\"\n      }), \" are also available to GraphQL the same way as other collection schemas are generated. To query preferences you must supply an authorization token in the header and only the preferences of that user will be accessible.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Payload will open the following query:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsx(_components.tbody, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"Preference\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"findOne\"\n            })\n          })]\n        })\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"And the following mutations:\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Query Name\"\n          }), _jsx(_components.th, {\n            children: \"Operation\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"updatePreference\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"update\"\n            })\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"deletePreference\"\n            })\n          }), _jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"delete\"\n            })\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"GraphQL Playground\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"GraphQL Playground is enabled by default for development purposes, but disabled in production. You can enable it in production by passing \", _jsx(_components.code, {\n        children: \"graphQL.disablePlaygroundInProduction\"\n      }), \" a \", _jsx(_components.code, {\n        children: \"false\"\n      }), \" setting in the main Payload Config.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can even log in using the \", _jsx(_components.code, {\n        children: \"login[collection-singular-label-here]\"\n      }), \" mutation to use the Playground as an authenticated user.\"]\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"success\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Tip:\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"To see more regarding how the above queries and mutations are used, visit your GraphQL playground\\n(by default at\\n\", _jsx(_components.a, {\n          href: \"http://localhost:3000/api/graphql-playground\",\n          children: _jsx(_components.code, {\n            children: \"${SERVER_URL}/api/graphql-playground\"\n          })\n        }), \")\\nwhile your server is running. There, you can use the \\\"Schema\\\" and \\\"Docs\\\" buttons on the right to\\nsee a ton of detail about how GraphQL operates within Payload.\"]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Custom Validation Rules\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can add custom validation rules to your GraphQL API by defining a \", _jsx(_components.code, {\n        children: \"validationRules\"\n      }), \" function in your Payload Config. This function should return an array of \", _jsx(_components.a, {\n        href: \"https://graphql.org/graphql-js/validation/#validation-rules\",\n        children: \"Validation Rules\"\n      }), \" that will be applied to all incoming queries and mutations.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { GraphQL } from '@payloadcms/graphql/types'\\nimport { buildConfig } from 'payload'\\n\\nexport default buildConfig({\\n  // ...\\n  graphQL: {\\n    validationRules: (args) =\u003e [NoProductionIntrospection],\\n  },\\n  // ...\\n})\\n\\nconst NoProductionIntrospection: GraphQL.ValidationRule = (context) =\u003e ({\\n  Field(node) {\\n    if (process.env.NODE_ENV === 'production') {\\n      if (node.name.value === '__schema' || node.name.value === '__type') {\\n        context.reportError(\\n          new GraphQL.GraphQLError(\\n            'GraphQL introspection is not allowed, but the query contained __schema or __type',\\n            { nodes: [node] },\\n          ),\\n        )\\n      }\\n    }\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Query complexity limits\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Payload comes with a built-in query complexity limiter to prevent bad people from trying to slow down your server by running massive queries. To learn more, \", _jsx(_components.a, {\n        href: \"/docs/production/preventing-abuse#limiting-graphql-complexity\",\n        children: \"click here\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Field complexity\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can define custom complexity for \", _jsx(_components.code, {\n        children: \"relationship\"\n      }), \", \", _jsx(_components.code, {\n        children: \"upload\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" type fields. This is useful if you want to assign a higher complexity to a field that is more expensive to resolve. This can help prevent users from running queries that are too complex.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const fieldWithComplexity = {\\n  name: 'authors',\\n  type: 'relationship',\\n  relationship: 'authors',\\n  graphQL: {\\n    complexity: 100, // highlight-line\\n  },\\n}\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["graphql","overview"]},"buildId":"rEpVRygLyV6yJ0i_Ohw0C","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>