<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-f6932393d0a8e091.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/DHzIn8D_gRO4uRLrnkzxV/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Join Field</h1><p class="text-xl text-gray-600 mb-8">The Join field provides the ability to work on related documents. Learn how to use Join field, see examples and options.</p><div class="prose prose-lg max-w-none"><p>The Join Field is used to make Relationship and Upload fields available in the opposite direction. With a Join you can
edit and view collections
having reference to a specific collection document. The field itself acts as a virtual field, in that no new data is
stored on the collection with a Join
field. Instead, the Admin UI surfaces the related documents for a better editing experience and is surfaced by Payload&#x27;s
APIs.</p>
<p>The Join field is useful in scenarios including:</p>
<ul>
<li>To surface <code>Orders</code> for a given <code>Product</code></li>
<li>To view and edit <code>Posts</code> belonging to a <code>Category</code></li>
<li>To work with any bi-directional relationship data</li>
<li>Displaying where a document or upload is used in other documents</li>
</ul>
<figure class="my-8"><picture><source srcSet="https://payloadcms.com/images/docs/fields/join-dark.png" media="(prefers-color-scheme: dark)"/><img src="https://payloadcms.com/images/docs/fields/join.png" alt="Shows Join field in the Payload Admin Panel" class="w-full rounded-lg shadow-lg"/></picture><figcaption class="mt-3 text-sm text-center text-gray-600 dark:text-gray-400">Admin Panel screenshot of Join field</figcaption></figure>
<p>For the Join field to work, you must have an existing <a href="./relationship">relationship</a> or <a href="./upload">upload</a> field in the
collection you are joining. This will reference the collection and path of the field of the related documents.
To add a Relationship Field, set the <code>type</code> to <code>join</code> in your <a href="./overview">Field Config</a>:</p>
<pre><code class="language-ts">import type { Field } from &#x27;payload&#x27;

export const MyJoinField: Field = {
  // highlight-start
  name: &#x27;relatedPosts&#x27;,
  type: &#x27;join&#x27;,
  collection: &#x27;posts&#x27;,
  on: &#x27;category&#x27;,
  // highlight-end
}

// relationship field in another collection:
export const MyRelationshipField: Field = {
  name: &#x27;category&#x27;,
  type: &#x27;relationship&#x27;,
  relationTo: &#x27;categories&#x27;,
}
</code></pre>
<p>In this example, the field is defined to show the related <code>posts</code> when added to a <code>category</code> collection. The <code>on</code>
property is used to specify the relationship field name of the field that relates to the collection document.</p>
<p>With this example, if you navigate to a Category in the Admin UI or an API response, you&#x27;ll now see that the Posts which
are related to the Category are populated for you. This is extremely powerful and can be used to define a wide variety
of relationship types in an easy manner.</p>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p>The Join field is extremely performant and does not add additional query
overhead to your API responses until you add depth of 1 or above. It works in
all database adapters. In MongoDB, we use <strong>aggregations</strong> to automatically
join in related documents, and in relational databases, we use joins.</p></div>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p>The Join Field is not supported in
<a href="https://aws.amazon.com/documentdb/">DocumentDB</a> and <a href="https://azure.microsoft.com/en-us/products/cosmos-db">Azure Cosmos
DB</a>, as we internally
use MongoDB aggregations to query data for that field, which are limited
there. This can be changed in the future.</p></div>
<h3>Schema advice</h3>
<p>When modeling your database, you might come across many places where you&#x27;d like to feature bi-directional relationships.
But here&#x27;s an important consideration—you generally only want to store information about a given relationship in <em>one</em>
place.</p>
<p>Let&#x27;s take the Posts and Categories example. It makes sense to define which category a post belongs to while editing the
post.</p>
<p>It would generally not be necessary to have a list of post IDs stored directly on the category as well, for a few
reasons:</p>
<ul>
<li>You want to have a &quot;single source of truth&quot; for relationships, and not worry about keeping two sources in sync with
one another</li>
<li>If you have hundreds, thousands, or even millions of posts, you would not want to store all of those post IDs on a
given category</li>
<li>Etc.</li>
</ul>
<p>This is where the <code>join</code> field is especially powerful. With it, you only need to store the <code>category_id</code> on the <code>post</code>,
and Payload will automatically join in related posts for you when you query for categories. The related category is only
stored on the post itself - and is not duplicated on both sides. However, the <code>join</code> field is what enables
bi-directional APIs and UI for you.</p>
<h3>Using the Join field to have full control of your database schema</h3>
<p>For typical polymorphic / many relationships, if you&#x27;re using Postgres or SQLite, Payload will automatically create
a <code>posts_rels</code> table, which acts as a junction table to store all of a given document&#x27;s relationships.</p>
<p>However, this might not be appropriate for your use case if you&#x27;d like to have more control over your database
architecture. You might not want to have that <code>_rels</code> table, and would prefer to maintain / control your own junction
table design.</p>
<div class="p-4 my-4 rounded-lg border bg-green-50 border-green-200 text-green-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><p>With the Join field, you can control your own junction table design, and avoid
Payload&#x27;s automatic _rels table creation.</p></div>
<p>The <code>join</code> field can be used in conjunction with <em>any</em> collection - and if you wanted to define your own &quot;junction&quot;
collection, which, say, is called <code>categories_posts</code> and has a <code>post_id</code> and a <code>category_id</code> column, you can achieve
complete control over the shape of that junction table.</p>
<p>You could go a step further and leverage the <code>admin.hidden</code> property of the <code>categories_posts</code> collection to hide the
collection from appearing in the Admin UI navigation.</p>
<h4>Specifying additional fields on relationships</h4>
<p>Another very powerful use case of the <code>join</code> field is to be able to define &quot;context&quot; fields on your relationships. Let&#x27;s
say that you have Posts and Categories, and use join fields on both your Posts and Categories collection to join in
related docs from a new pseudo-junction collection called <code>categories_posts</code>. Now, the relations are stored in this
third junction collection, and can be surfaced on both Posts and Categories. But, importantly, you could add
additional &quot;context&quot; fields to this shared junction collection.</p>
<p>For example, on this <code>categories_posts</code> collection, in addition to having the <code>category</code> and <code>post</code> fields, we could add
custom &quot;context&quot; fields like <code>featured</code> or <code>spotlight</code>,
which would allow you to store additional information directly on relationships.
The <code>join</code> field gives you complete control over any type of relational architecture in Payload, all wrapped up in a
powerful Admin UI.</p>
<h2>Config Options</h2>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>name</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">To be used as the property name when retrieved from the database. <a href="./overview#field-names">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>collection</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <code>slug</code>s having the relationship field or an array of collection slugs.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>on</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The name of the relationship or upload field that relates to the collection document. Use dot notation for nested paths, like &#x27;myGroup.relationName&#x27;. If <code>collection</code> is an array, this field must exist for all specified collections</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>orderable</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">If true, enables custom ordering and joined documents can be reordered via drag and drop. Uses <a href="https://observablehq.com/@dgreensp/implementing-fractional-indexing">fractional indexing</a> for efficient reordering.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>where</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A <code>Where</code> query to hide related documents from appearing. Will be merged with any <code>where</code> specified in the request.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>maxDepth</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Default is 1, Sets a maximum population depth for this field, regardless of the remaining depth when this field is reached. <a href="../queries/depth#max-depth">Max Depth</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>label</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Text used as a field label in the Admin Panel or an object with keys for each language.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>hooks</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide Field Hooks to control logic for this field. <a href="../hooks/fields">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>access</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide Field Access Control to denote what users can see and do with this field&#x27;s data. <a href="../access-control/fields">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>defaultLimit</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The number of documents to return. Set to 0 to return all related documents.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>defaultSort</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The field name used to specify the order the joined documents are returned.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>admin</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Admin-specific configuration. <a href="#admin-config-options">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>custom</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Extension point for adding custom data (e.g. for plugins).</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>typescriptSchema</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Override field type generation with providing a JSON schema.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>graphQL</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom graphQL configuration for the field. <a href="/payload-just-docs/docs/graphql/overview#field-complexity">More details</a></td></tr></tbody></table></div>
<p><em>* An asterisk denotes that a property is required.</em></p>
<h2>Admin Config Options</h2>
<p>You can control the user experience of the join field using the <code>admin</code> config properties. The following options are supported:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>defaultColumns</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Array of field names that correspond to which columns to show in the relationship table. Default is the collection config.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>allowCreate</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Set to <code>false</code> to remove the controls for making new related documents from this field.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>components.Label</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Override the default Label of the Field Component. <a href="./overview#label">More details</a></td></tr></tbody></table></div>
<h2>Join Field Data</h2>
<p>When a document is returned that for a Join field is populated with related documents. The structure returned is an
object with:</p>
<ul>
<li><code>docs</code> an array of related documents or only IDs if the depth is reached</li>
<li><code>hasNextPage</code> a boolean indicating if there are additional documents</li>
<li><code>totalDocs</code> a total number of documents, exists only if <code>count: true</code> is passed to the join query</li>
</ul>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;66e3431a3f23e684075aae9c&quot;,
  &quot;relatedPosts&quot;: {
    &quot;docs&quot;: [
      {
        &quot;id&quot;: &quot;66e3431a3f23e684075aaeb9&quot;,
        // other fields...
        &quot;category&quot;: &quot;66e3431a3f23e684075aae9c&quot;
      }
      // { ... }
    ],
    &quot;hasNextPage&quot;: false,
    &quot;totalDocs&quot;: 10 // if count: true is passed
  }
  // other fields...
}
</code></pre>
<h2>Join Field Data (polymorphic)</h2>
<p>When a document is returned that for a polymorphic Join field (with <code>collection</code> as an array) is populated with related documents. The structure returned is an
object with:</p>
<ul>
<li><code>docs</code> an array of <code>relationTo</code> - the collection slug of the document and <code>value</code> - the document itself or the ID if the depth is reached</li>
<li><code>hasNextPage</code> a boolean indicating if there are additional documents</li>
<li><code>totalDocs</code> a total number of documents, exists only if <code>count: true</code> is passed to the join query</li>
</ul>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;66e3431a3f23e684075aae9c&quot;,
  &quot;relatedPosts&quot;: {
    &quot;docs&quot;: [
      {
        &quot;relationTo&quot;: &quot;posts&quot;,
        &quot;value&quot;: {
          &quot;id&quot;: &quot;66e3431a3f23e684075aaeb9&quot;,
          // other fields...
          &quot;category&quot;: &quot;66e3431a3f23e684075aae9c&quot;
        }
      }
      // { ... }
    ],
    &quot;hasNextPage&quot;: false,
    &quot;totalDocs&quot;: 10 // if count: true is passed
  }
  // other fields...
}
</code></pre>
<h2>Query Options</h2>
<p>The Join Field supports custom queries to filter, sort, and limit the related documents that will be returned. In
addition to the specific query options for each Join Field, you can pass <code>joins: false</code> to disable all Join Field from
returning. This is useful for performance reasons when you don&#x27;t need the related documents.</p>
<p>The following query options are supported:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Property</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>limit</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The maximum related documents to be returned, default is 10.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>where</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An optional <code>Where</code> query to filter joined documents. Will be merged with the field <code>where</code> object.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>sort</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A string used to order related results</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>count</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Whether include the count of related documents or not. Not included by default</td></tr></tbody></table></div>
<p>These can be applied to the Local API, GraphQL, and REST API.</p>
<h3>Local API</h3>
<p>By adding <code>joins</code> to the Local API you can customize the request for each join field by the <code>name</code> of the field.</p>
<pre><code class="language-js">const result = await payload.find({
  collection: &#x27;categories&#x27;,
  where: {
    title: {
      equals: &#x27;My Category&#x27;,
    },
  },
  joins: {
    relatedPosts: {
      limit: 5,
      where: {
        title: {
          equals: &#x27;My Post&#x27;,
        },
      },
      sort: &#x27;title&#x27;,
    },
  },
})
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p>Currently, <code>Where</code> query support on joined documents for join fields with an
array of <code>collection</code> is limited and not supported for fields inside arrays
and blocks.</p></div>
<h3>Rest API</h3>
<p>The REST API supports the same query options as the Local API. You can use the <code>joins</code> query parameter to customize the
request for each join field by the <code>name</code> of the field. For example, an API call to get a document with the related
posts limited to 5 and sorted by title:</p>
<p><code>/api/categories/${id}?joins[relatedPosts][limit]=5&amp;joins[relatedPosts][sort]=title</code></p>
<p>You can specify as many <code>joins</code> parameters as needed for the same or different join fields for a single request.</p>
<h3>GraphQL</h3>
<p>The GraphQL API supports the same query options as the local and REST APIs. You can specify the query options for each
join field in your query.</p>
<p>Example:</p>
<pre><code class="language-graphql">query {
  Categories {
    docs {
      relatedPosts(
        sort: &quot;createdAt&quot;
        limit: 5
        where: { author: { equals: &quot;66e3431a3f23e684075aaeb9&quot; } }
      ) {
        docs {
          title
        }
        hasNextPage
      }
    }
  }
}
</code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Join Field","label":"Join","order":140,"desc":"The Join field provides the ability to work on related documents. Learn how to use Join field, see examples and options.","keywords":"join, relationship, junction, fields, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    a: \"a\",\n    pre: \"pre\",\n    strong: \"strong\",\n    h3: \"h3\",\n    em: \"em\",\n    h4: \"h4\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\"\n  }, _provideComponents(), props.components), {LightDarkImage, Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  if (!LightDarkImage) _missingMdxReference(\"LightDarkImage\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"The Join Field is used to make Relationship and Upload fields available in the opposite direction. With a Join you can\\nedit and view collections\\nhaving reference to a specific collection document. The field itself acts as a virtual field, in that no new data is\\nstored on the collection with a Join\\nfield. Instead, the Admin UI surfaces the related documents for a better editing experience and is surfaced by Payload's\\nAPIs.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The Join field is useful in scenarios including:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"To surface \", _jsx(_components.code, {\n          children: \"Orders\"\n        }), \" for a given \", _jsx(_components.code, {\n          children: \"Product\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"To view and edit \", _jsx(_components.code, {\n          children: \"Posts\"\n        }), \" belonging to a \", _jsx(_components.code, {\n          children: \"Category\"\n        })]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"To work with any bi-directional relationship data\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Displaying where a document or upload is used in other documents\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(LightDarkImage, {\n      srcLight: \"https://payloadcms.com/images/docs/fields/join.png\",\n      srcDark: \"https://payloadcms.com/images/docs/fields/join-dark.png\",\n      alt: \"Shows Join field in the Payload Admin Panel\",\n      caption: \"Admin Panel screenshot of Join field\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For the Join field to work, you must have an existing \", _jsx(_components.a, {\n        href: \"./relationship\",\n        children: \"relationship\"\n      }), \" or \", _jsx(_components.a, {\n        href: \"./upload\",\n        children: \"upload\"\n      }), \" field in the\\ncollection you are joining. This will reference the collection and path of the field of the related documents.\\nTo add a Relationship Field, set the \", _jsx(_components.code, {\n        children: \"type\"\n      }), \" to \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" in your \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Field Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { Field } from 'payload'\\n\\nexport const MyJoinField: Field = {\\n  // highlight-start\\n  name: 'relatedPosts',\\n  type: 'join',\\n  collection: 'posts',\\n  on: 'category',\\n  // highlight-end\\n}\\n\\n// relationship field in another collection:\\nexport const MyRelationshipField: Field = {\\n  name: 'category',\\n  type: 'relationship',\\n  relationTo: 'categories',\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this example, the field is defined to show the related \", _jsx(_components.code, {\n        children: \"posts\"\n      }), \" when added to a \", _jsx(_components.code, {\n        children: \"category\"\n      }), \" collection. The \", _jsx(_components.code, {\n        children: \"on\"\n      }), \"\\nproperty is used to specify the relationship field name of the field that relates to the collection document.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"With this example, if you navigate to a Category in the Admin UI or an API response, you'll now see that the Posts which\\nare related to the Category are populated for you. This is extremely powerful and can be used to define a wide variety\\nof relationship types in an easy manner.\"\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [\"The Join field is extremely performant and does not add additional query\\noverhead to your API responses until you add depth of 1 or above. It works in\\nall database adapters. In MongoDB, we use \", _jsx(_components.strong, {\n          children: \"aggregations\"\n        }), \" to automatically\\njoin in related documents, and in relational databases, we use joins.\"]\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [\"The Join Field is not supported in\\n\", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/documentdb/\",\n          children: \"DocumentDB\"\n        }), \" and \", _jsx(_components.a, {\n          href: \"https://azure.microsoft.com/en-us/products/cosmos-db\",\n          children: \"Azure Cosmos\\nDB\"\n        }), \", as we internally\\nuse MongoDB aggregations to query data for that field, which are limited\\nthere. This can be changed in the future.\"]\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Schema advice\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When modeling your database, you might come across many places where you'd like to feature bi-directional relationships.\\nBut here's an important consideration—you generally only want to store information about a given relationship in \", _jsx(_components.em, {\n        children: \"one\"\n      }), \"\\nplace.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Let's take the Posts and Categories example. It makes sense to define which category a post belongs to while editing the\\npost.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It would generally not be necessary to have a list of post IDs stored directly on the category as well, for a few\\nreasons:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"You want to have a \\\"single source of truth\\\" for relationships, and not worry about keeping two sources in sync with\\none another\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"If you have hundreds, thousands, or even millions of posts, you would not want to store all of those post IDs on a\\ngiven category\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Etc.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This is where the \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field is especially powerful. With it, you only need to store the \", _jsx(_components.code, {\n        children: \"category_id\"\n      }), \" on the \", _jsx(_components.code, {\n        children: \"post\"\n      }), \",\\nand Payload will automatically join in related posts for you when you query for categories. The related category is only\\nstored on the post itself - and is not duplicated on both sides. However, the \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field is what enables\\nbi-directional APIs and UI for you.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Using the Join field to have full control of your database schema\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For typical polymorphic / many relationships, if you're using Postgres or SQLite, Payload will automatically create\\na \", _jsx(_components.code, {\n        children: \"posts_rels\"\n      }), \" table, which acts as a junction table to store all of a given document's relationships.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"However, this might not be appropriate for your use case if you'd like to have more control over your database\\narchitecture. You might not want to have that \", _jsx(_components.code, {\n        children: \"_rels\"\n      }), \" table, and would prefer to maintain / control your own junction\\ntable design.\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsx(_components.p, {\n        children: \"With the Join field, you can control your own junction table design, and avoid\\nPayload's automatic _rels table creation.\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field can be used in conjunction with \", _jsx(_components.em, {\n        children: \"any\"\n      }), \" collection - and if you wanted to define your own \\\"junction\\\"\\ncollection, which, say, is called \", _jsx(_components.code, {\n        children: \"categories_posts\"\n      }), \" and has a \", _jsx(_components.code, {\n        children: \"post_id\"\n      }), \" and a \", _jsx(_components.code, {\n        children: \"category_id\"\n      }), \" column, you can achieve\\ncomplete control over the shape of that junction table.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You could go a step further and leverage the \", _jsx(_components.code, {\n        children: \"admin.hidden\"\n      }), \" property of the \", _jsx(_components.code, {\n        children: \"categories_posts\"\n      }), \" collection to hide the\\ncollection from appearing in the Admin UI navigation.\"]\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Specifying additional fields on relationships\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Another very powerful use case of the \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field is to be able to define \\\"context\\\" fields on your relationships. Let's\\nsay that you have Posts and Categories, and use join fields on both your Posts and Categories collection to join in\\nrelated docs from a new pseudo-junction collection called \", _jsx(_components.code, {\n        children: \"categories_posts\"\n      }), \". Now, the relations are stored in this\\nthird junction collection, and can be surfaced on both Posts and Categories. But, importantly, you could add\\nadditional \\\"context\\\" fields to this shared junction collection.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For example, on this \", _jsx(_components.code, {\n        children: \"categories_posts\"\n      }), \" collection, in addition to having the \", _jsx(_components.code, {\n        children: \"category\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"post\"\n      }), \" fields, we could add\\ncustom \\\"context\\\" fields like \", _jsx(_components.code, {\n        children: \"featured\"\n      }), \" or \", _jsx(_components.code, {\n        children: \"spotlight\"\n      }), \",\\nwhich would allow you to store additional information directly on relationships.\\nThe \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field gives you complete control over any type of relational architecture in Payload, all wrapped up in a\\npowerful Admin UI.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"name\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"To be used as the property name when retrieved from the database. \", _jsx(_components.a, {\n              href: \"./overview#field-names\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"collection\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.code, {\n              children: \"slug\"\n            }), \"s having the relationship field or an array of collection slugs.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"on\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"The name of the relationship or upload field that relates to the collection document. Use dot notation for nested paths, like 'myGroup.relationName'. If \", _jsx(_components.code, {\n              children: \"collection\"\n            }), \" is an array, this field must exist for all specified collections\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"orderable\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"If true, enables custom ordering and joined documents can be reordered via drag and drop. Uses \", _jsx(_components.a, {\n              href: \"https://observablehq.com/@dgreensp/implementing-fractional-indexing\",\n              children: \"fractional indexing\"\n            }), \" for efficient reordering.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"where\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"A \", _jsx(_components.code, {\n              children: \"Where\"\n            }), \" query to hide related documents from appearing. Will be merged with any \", _jsx(_components.code, {\n              children: \"where\"\n            }), \" specified in the request.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"maxDepth\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Default is 1, Sets a maximum population depth for this field, regardless of the remaining depth when this field is reached. \", _jsx(_components.a, {\n              href: \"../queries/depth#max-depth\",\n              children: \"Max Depth\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"label\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Text used as a field label in the Admin Panel or an object with keys for each language.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"hooks\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide Field Hooks to control logic for this field. \", _jsx(_components.a, {\n              href: \"../hooks/fields\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"access\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide Field Access Control to denote what users can see and do with this field's data. \", _jsx(_components.a, {\n              href: \"../access-control/fields\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"defaultLimit\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The number of documents to return. Set to 0 to return all related documents.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"defaultSort\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The field name used to specify the order the joined documents are returned.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"admin\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Admin-specific configuration. \", _jsx(_components.a, {\n              href: \"#admin-config-options\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"custom\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Extension point for adding custom data (e.g. for plugins).\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"typescriptSchema\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Override field type generation with providing a JSON schema.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"graphQL\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom graphQL configuration for the field. \", _jsx(_components.a, {\n              href: \"/docs/graphql/overview#field-complexity\",\n              children: \"More details\"\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"* An asterisk denotes that a property is required.\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Admin Config Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can control the user experience of the join field using the \", _jsx(_components.code, {\n        children: \"admin\"\n      }), \" config properties. The following options are supported:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"defaultColumns\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Array of field names that correspond to which columns to show in the relationship table. Default is the collection config.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"allowCreate\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Set to \", _jsx(_components.code, {\n              children: \"false\"\n            }), \" to remove the controls for making new related documents from this field.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"components.Label\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Override the default Label of the Field Component. \", _jsx(_components.a, {\n              href: \"./overview#label\",\n              children: \"More details\"\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Join Field Data\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When a document is returned that for a Join field is populated with related documents. The structure returned is an\\nobject with:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"docs\"\n        }), \" an array of related documents or only IDs if the depth is reached\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"hasNextPage\"\n        }), \" a boolean indicating if there are additional documents\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"totalDocs\"\n        }), \" a total number of documents, exists only if \", _jsx(_components.code, {\n          children: \"count: true\"\n        }), \" is passed to the join query\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-json\",\n        children: \"{\\n  \\\"id\\\": \\\"66e3431a3f23e684075aae9c\\\",\\n  \\\"relatedPosts\\\": {\\n    \\\"docs\\\": [\\n      {\\n        \\\"id\\\": \\\"66e3431a3f23e684075aaeb9\\\",\\n        // other fields...\\n        \\\"category\\\": \\\"66e3431a3f23e684075aae9c\\\"\\n      }\\n      // { ... }\\n    ],\\n    \\\"hasNextPage\\\": false,\\n    \\\"totalDocs\\\": 10 // if count: true is passed\\n  }\\n  // other fields...\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Join Field Data (polymorphic)\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When a document is returned that for a polymorphic Join field (with \", _jsx(_components.code, {\n        children: \"collection\"\n      }), \" as an array) is populated with related documents. The structure returned is an\\nobject with:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"docs\"\n        }), \" an array of \", _jsx(_components.code, {\n          children: \"relationTo\"\n        }), \" - the collection slug of the document and \", _jsx(_components.code, {\n          children: \"value\"\n        }), \" - the document itself or the ID if the depth is reached\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"hasNextPage\"\n        }), \" a boolean indicating if there are additional documents\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"totalDocs\"\n        }), \" a total number of documents, exists only if \", _jsx(_components.code, {\n          children: \"count: true\"\n        }), \" is passed to the join query\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-json\",\n        children: \"{\\n  \\\"id\\\": \\\"66e3431a3f23e684075aae9c\\\",\\n  \\\"relatedPosts\\\": {\\n    \\\"docs\\\": [\\n      {\\n        \\\"relationTo\\\": \\\"posts\\\",\\n        \\\"value\\\": {\\n          \\\"id\\\": \\\"66e3431a3f23e684075aaeb9\\\",\\n          // other fields...\\n          \\\"category\\\": \\\"66e3431a3f23e684075aae9c\\\"\\n        }\\n      }\\n      // { ... }\\n    ],\\n    \\\"hasNextPage\\\": false,\\n    \\\"totalDocs\\\": 10 // if count: true is passed\\n  }\\n  // other fields...\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Query Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The Join Field supports custom queries to filter, sort, and limit the related documents that will be returned. In\\naddition to the specific query options for each Join Field, you can pass \", _jsx(_components.code, {\n        children: \"joins: false\"\n      }), \" to disable all Join Field from\\nreturning. This is useful for performance reasons when you don't need the related documents.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following query options are supported:\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Property\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"limit\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"The maximum related documents to be returned, default is 10.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"where\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"An optional \", _jsx(_components.code, {\n              children: \"Where\"\n            }), \" query to filter joined documents. Will be merged with the field \", _jsx(_components.code, {\n              children: \"where\"\n            }), \" object.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"sort\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"A string used to order related results\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"count\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Whether include the count of related documents or not. Not included by default\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"These can be applied to the Local API, GraphQL, and REST API.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Local API\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"By adding \", _jsx(_components.code, {\n        children: \"joins\"\n      }), \" to the Local API you can customize the request for each join field by the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" of the field.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"const result = await payload.find({\\n  collection: 'categories',\\n  where: {\\n    title: {\\n      equals: 'My Category',\\n    },\\n  },\\n  joins: {\\n    relatedPosts: {\\n      limit: 5,\\n      where: {\\n        title: {\\n          equals: 'My Post',\\n        },\\n      },\\n      sort: 'title',\\n    },\\n  },\\n})\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [\"Currently, \", _jsx(_components.code, {\n          children: \"Where\"\n        }), \" query support on joined documents for join fields with an\\narray of \", _jsx(_components.code, {\n          children: \"collection\"\n        }), \" is limited and not supported for fields inside arrays\\nand blocks.\"]\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Rest API\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The REST API supports the same query options as the Local API. You can use the \", _jsx(_components.code, {\n        children: \"joins\"\n      }), \" query parameter to customize the\\nrequest for each join field by the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" of the field. For example, an API call to get a document with the related\\nposts limited to 5 and sorted by title:\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.code, {\n        children: \"/api/categories/${id}?joins[relatedPosts][limit]=5\u0026joins[relatedPosts][sort]=title\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can specify as many \", _jsx(_components.code, {\n        children: \"joins\"\n      }), \" parameters as needed for the same or different join fields for a single request.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"GraphQL\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The GraphQL API supports the same query options as the local and REST APIs. You can specify the query options for each\\njoin field in your query.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Example:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-graphql\",\n        children: \"query {\\n  Categories {\\n    docs {\\n      relatedPosts(\\n        sort: \\\"createdAt\\\"\\n        limit: 5\\n        where: { author: { equals: \\\"66e3431a3f23e684075aaeb9\\\" } }\\n      ) {\\n        docs {\\n          title\\n        }\\n        hasNextPage\\n      }\\n    }\\n  }\\n}\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["fields","join"]},"buildId":"DHzIn8D_gRO4uRLrnkzxV","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>