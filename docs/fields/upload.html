<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Upload - Upload Field | Payload CMS Documentation</title><meta name="description" content="Upload fields will allow a file to be uploaded, only from a collection supporting Uploads. Learn how to use Upload fields, see examples and options."/><meta property="og:title" content="Upload - Upload Field | Payload CMS Documentation"/><meta property="og:description" content="Upload fields will allow a file to be uploaded, only from a collection supporting Uploads. Learn how to use Upload fields, see examples and options."/><meta name="next-head-count" content="6"/><link rel="preload" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" as="style" crossorigin=""/><link rel="stylesheet" href="/payload-just-docs/_next/static/css/adeeaed65336a824.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/payload-just-docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/payload-just-docs/_next/static/chunks/webpack-c335844537ee4527.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/main-4b5290d5009800e1.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/_app-2747846ed27f1501.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/chunks/pages/docs/%5B...slug%5D-8726031e66a50318.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_buildManifest.js" defer="" crossorigin=""></script><script src="/payload-just-docs/_next/static/_tTBTu5tMI_qrBgEpmt0H/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="container mx-auto px-4 py-8 max-w-4xl"><h1 class="text-4xl font-bold mb-4">Upload Field</h1><p class="text-xl text-gray-600 mb-8">Upload fields will allow a file to be uploaded, only from a collection supporting Uploads. Learn how to use Upload fields, see examples and options.</p><div class="prose prose-lg max-w-none"><p>The Upload Field allows for the selection of a Document from a Collection supporting <a href="../upload/overview">Uploads</a>, and
formats the selection as a thumbnail in the Admin Panel.</p>
<p>Upload fields are useful for a variety of use cases, such as:</p>
<ul>
<li>To provide a <code>Page</code> with a featured image</li>
<li>To allow for a <code>Product</code> to deliver a downloadable asset like PDF or MP3</li>
<li>To give a layout building block the ability to feature a background image</li>
</ul>
<figure class="my-8"><picture><source srcSet="https://payloadcms.com/images/docs/fields/upload-dark.png" media="(prefers-color-scheme: dark)"/><img src="https://payloadcms.com/images/docs/fields/upload.png" alt="Shows an upload field in the Payload Admin Panel" class="w-full rounded-lg shadow-lg"/></picture><figcaption class="mt-3 text-sm text-center text-gray-600 dark:text-gray-400">Admin Panel screenshot of an Upload field</figcaption></figure>
<p>To create an Upload Field, set the <code>type</code> to <code>upload</code> in your <a href="./overview">Field Config</a>:</p>
<pre><code class="language-ts">import type { Field } from &#x27;payload&#x27;

export const MyUploadField: Field = {
  // ...
  // highlight-start
  type: &#x27;upload&#x27;,
  relationTo: &#x27;media&#x27;,
  // highlight-end
}
</code></pre>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Important:</strong> To use the Upload Field, you must have a
<a href="../configuration/collections">Collection</a> configured to allow
<a href="../upload/overview">Uploads</a>.</p></div>
<h2>Config Options</h2>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>name</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">To be used as the property name when stored and retrieved from the database. <a href="/payload-just-docs/docs/fields/overview#field-names">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>relationTo</code></strong> *</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide a single collection <code>slug</code> to allow this field to accept a relation to. <strong>Note: the related collection must be configured to support Uploads.</strong></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>filterOptions</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A query to filter which options appear in the UI and validate against. <a href="#filtering-upload-options">More</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>hasMany</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Boolean which, if set to true, allows this field to have many relations instead of only one.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>minRows</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A number for the fewest allowed items during validation when a value is present. Used with hasMany.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>maxRows</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A number for the most allowed items during validation when a value is present. Used with hasMany.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>maxDepth</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Sets a number limit on iterations of related documents to populate when queried. <a href="../queries/depth">Depth</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>label</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Text used as a field label in the Admin Panel or an object with keys for each language.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>unique</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Enforce that each entry in the Collection has a unique value for this field.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>validate</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide a custom validation function that will be executed on both the Admin Panel and the backend. <a href="/payload-just-docs/docs/fields/overview#validation">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>index</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Build an <a href="/payload-just-docs/docs/database/overview">index</a> for this field to produce faster queries. Set this field to <code>true</code> if your users will perform queries on this field&#x27;s data often.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>saveToJWT</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">If this field is top-level and nested in a config supporting <a href="/payload-just-docs/docs/authentication/overview">Authentication</a>, include its data in the user JWT.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>hooks</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide Field Hooks to control logic for this field. <a href="../hooks/fields">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>access</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide Field Access Control to denote what users can see and do with this field&#x27;s data. <a href="../access-control/fields">More details</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>hidden</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Restrict this field&#x27;s visibility from all APIs entirely. Will still be saved to the database, but will not appear in any API or the Admin Panel.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>defaultValue</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide data to be used for this field&#x27;s default value. <a href="/payload-just-docs/docs/fields/overview#default-values">More</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>displayPreview</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Enable displaying preview of the uploaded file. Overrides related Collection&#x27;s <code>displayPreview</code> option. <a href="/payload-just-docs/docs/upload/overview#collection-upload-options">More</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>localized</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Enable localization for this field. Requires <a href="/payload-just-docs/docs/configuration/localization">localization to be enabled</a> in the Base config.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>required</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Require this field to have a value.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>admin</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Admin-specific configuration. <a href="./overview#admin-options">Admin Options</a>.</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>custom</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Extension point for adding custom data (e.g. for plugins)</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>typescriptSchema</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Override field type generation with providing a JSON schema</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>virtual</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Provide <code>true</code> to disable field in the database. See <a href="https://payloadcms.com/blog/learn-how-virtual-fields-can-help-solve-common-cms-challenges">Virtual Fields</a></td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><strong><code>graphQL</code></strong></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Custom graphQL configuration for the field. <a href="/payload-just-docs/docs/graphql/overview#field-complexity">More details</a></td></tr></tbody></table></div>
<p><em>* An asterisk denotes that a property is required.</em></p>
<h2>Example</h2>
<p><code>collections/ExampleCollection.ts</code></p>
<pre><code class="language-ts">import type { CollectionConfig } from &#x27;payload&#x27;

export const ExampleCollection: CollectionConfig = {
  slug: &#x27;example-collection&#x27;,
  fields: [
    {
      name: &#x27;backgroundImage&#x27;, // required
      type: &#x27;upload&#x27;, // required
      relationTo: &#x27;media&#x27;, // required
      required: true,
    },
  ],
}
</code></pre>
<h2>Filtering upload options</h2>
<p>Options can be dynamically limited by supplying a <a href="/payload-just-docs/docs/queries/overview">query constraint</a>, which will be used both
for validating input and filtering available uploads in the UI.</p>
<p>The <code>filterOptions</code> property can either be a <code>Where</code> query, or a function returning <code>true</code> to not filter, <code>false</code> to
prevent all, or a <code>Where</code> query. When using a function, it will be
called with an argument object with the following properties:</p>
<div class="overflow-x-auto my-8"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr class="even:bg-gray-50"><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Property</th><th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>relationTo</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The collection <code>slug</code> to filter against, limited to this field&#x27;s <code>relationTo</code> property</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>data</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An object containing the full collection or global document currently being edited</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>siblingData</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An object containing document data that is scoped to only fields within the same parent of this field</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>id</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The <code>id</code> of the current document being edited. <code>id</code> is <code>undefined</code> during the <code>create</code> operation</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>user</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">An object containing the currently authenticated user</td></tr><tr class="even:bg-gray-50"><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"><code>req</code></td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The Payload Request, which contains references to <code>payload</code>, <code>user</code>, <code>locale</code>, and more.</td></tr></tbody></table></div>
<h3>Example#filter-options-example</h3>
<pre><code class="language-ts">const uploadField = {
  name: &#x27;image&#x27;,
  type: &#x27;upload&#x27;,
  relationTo: &#x27;media&#x27;,
  filterOptions: {
    mimeType: { contains: &#x27;image&#x27; },
  },
}
</code></pre>
<p>You can learn more about writing queries <a href="/payload-just-docs/docs/queries/overview">here</a>.</p>
<div class="p-4 my-4 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-800"><svg class="w-5 h-5 inline mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><p><strong>Note:</strong></p><p>When an upload field has both <strong>filterOptions</strong> and a custom
<strong>validate</strong> function, the api will not validate <strong>filterOptions</strong>
unless you call the default upload field validation function imported from
<strong>payload/shared</strong> in your validate function.</p></div>
<h2>Bi-directional relationships</h2>
<p>The <code>upload</code> field on its own is used to reference documents in an upload collection. This can be considered a &quot;one-way&quot;
relationship. If you wish to allow an editor to visit the upload document and see where it is being used, you may use
the <code>join</code> field in the upload enabled collection. Read more about bi-directional relationships using
the <a href="./join">Join field</a></p></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontMatter":{"title":"Upload Field","label":"Upload","order":210,"desc":"Upload fields will allow a file to be uploaded, only from a collection supporting Uploads. Learn how to use Upload fields, see examples and options.","keywords":"upload, images media, fields, config, configuration, documentation, Content Management System, cms, headless, javascript, node, react, nextjs"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    pre: \"pre\",\n    strong: \"strong\",\n    h2: \"h2\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    em: \"em\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {LightDarkImage, Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  if (!LightDarkImage) _missingMdxReference(\"LightDarkImage\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"The Upload Field allows for the selection of a Document from a Collection supporting \", _jsx(_components.a, {\n        href: \"../upload/overview\",\n        children: \"Uploads\"\n      }), \", and\\nformats the selection as a thumbnail in the Admin Panel.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Upload fields are useful for a variety of use cases, such as:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"To provide a \", _jsx(_components.code, {\n          children: \"Page\"\n        }), \" with a featured image\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"To allow for a \", _jsx(_components.code, {\n          children: \"Product\"\n        }), \" to deliver a downloadable asset like PDF or MP3\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"To give a layout building block the ability to feature a background image\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(LightDarkImage, {\n      srcLight: \"https://payloadcms.com/images/docs/fields/upload.png\",\n      srcDark: \"https://payloadcms.com/images/docs/fields/upload-dark.png\",\n      alt: \"Shows an upload field in the Payload Admin Panel\",\n      caption: \"Admin Panel screenshot of an Upload field\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To create an Upload Field, set the \", _jsx(_components.code, {\n        children: \"type\"\n      }), \" to \", _jsx(_components.code, {\n        children: \"upload\"\n      }), \" in your \", _jsx(_components.a, {\n        href: \"./overview\",\n        children: \"Field Config\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { Field } from 'payload'\\n\\nexport const MyUploadField: Field = {\\n  // ...\\n  // highlight-start\\n  type: 'upload',\\n  relationTo: 'media',\\n  // highlight-end\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"Important:\"\n        }), \" To use the Upload Field, you must have a\\n\", _jsx(_components.a, {\n          href: \"../configuration/collections\",\n          children: \"Collection\"\n        }), \" configured to allow\\n\", _jsx(_components.a, {\n          href: \"../upload/overview\",\n          children: \"Uploads\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Config Options\"\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Option\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"name\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"To be used as the property name when stored and retrieved from the database. \", _jsx(_components.a, {\n              href: \"/docs/fields/overview#field-names\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsxs(_components.td, {\n            children: [_jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"relationTo\"\n              })\n            }), \" *\"]\n          }), _jsxs(_components.td, {\n            children: [\"Provide a single collection \", _jsx(_components.code, {\n              children: \"slug\"\n            }), \" to allow this field to accept a relation to. \", _jsx(_components.strong, {\n              children: \"Note: the related collection must be configured to support Uploads.\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"filterOptions\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"A query to filter which options appear in the UI and validate against. \", _jsx(_components.a, {\n              href: \"#filtering-upload-options\",\n              children: \"More\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"hasMany\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Boolean which, if set to true, allows this field to have many relations instead of only one.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"minRows\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"A number for the fewest allowed items during validation when a value is present. Used with hasMany.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"maxRows\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"A number for the most allowed items during validation when a value is present. Used with hasMany.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"maxDepth\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Sets a number limit on iterations of related documents to populate when queried. \", _jsx(_components.a, {\n              href: \"../queries/depth\",\n              children: \"Depth\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"label\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Text used as a field label in the Admin Panel or an object with keys for each language.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"unique\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Enforce that each entry in the Collection has a unique value for this field.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"validate\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide a custom validation function that will be executed on both the Admin Panel and the backend. \", _jsx(_components.a, {\n              href: \"/docs/fields/overview#validation\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"index\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Build an \", _jsx(_components.a, {\n              href: \"/docs/database/overview\",\n              children: \"index\"\n            }), \" for this field to produce faster queries. Set this field to \", _jsx(_components.code, {\n              children: \"true\"\n            }), \" if your users will perform queries on this field's data often.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"saveToJWT\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"If this field is top-level and nested in a config supporting \", _jsx(_components.a, {\n              href: \"/docs/authentication/overview\",\n              children: \"Authentication\"\n            }), \", include its data in the user JWT.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"hooks\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide Field Hooks to control logic for this field. \", _jsx(_components.a, {\n              href: \"../hooks/fields\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"access\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide Field Access Control to denote what users can see and do with this field's data. \", _jsx(_components.a, {\n              href: \"../access-control/fields\",\n              children: \"More details\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"hidden\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Restrict this field's visibility from all APIs entirely. Will still be saved to the database, but will not appear in any API or the Admin Panel.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"defaultValue\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide data to be used for this field's default value. \", _jsx(_components.a, {\n              href: \"/docs/fields/overview#default-values\",\n              children: \"More\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"displayPreview\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Enable displaying preview of the uploaded file. Overrides related Collection's \", _jsx(_components.code, {\n              children: \"displayPreview\"\n            }), \" option. \", _jsx(_components.a, {\n              href: \"/docs/upload/overview#collection-upload-options\",\n              children: \"More\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"localized\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Enable localization for this field. Requires \", _jsx(_components.a, {\n              href: \"/docs/configuration/localization\",\n              children: \"localization to be enabled\"\n            }), \" in the Base config.\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"required\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Require this field to have a value.\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"admin\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Admin-specific configuration. \", _jsx(_components.a, {\n              href: \"./overview#admin-options\",\n              children: \"Admin Options\"\n            }), \".\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"custom\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Extension point for adding custom data (e.g. for plugins)\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"typescriptSchema\"\n              })\n            })\n          }), _jsx(_components.td, {\n            children: \"Override field type generation with providing a JSON schema\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"virtual\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Provide \", _jsx(_components.code, {\n              children: \"true\"\n            }), \" to disable field in the database. See \", _jsx(_components.a, {\n              href: \"https://payloadcms.com/blog/learn-how-virtual-fields-can-help-solve-common-cms-challenges\",\n              children: \"Virtual Fields\"\n            })]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.strong, {\n              children: _jsx(_components.code, {\n                children: \"graphQL\"\n              })\n            })\n          }), _jsxs(_components.td, {\n            children: [\"Custom graphQL configuration for the field. \", _jsx(_components.a, {\n              href: \"/docs/graphql/overview#field-complexity\",\n              children: \"More details\"\n            })]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"* An asterisk denotes that a property is required.\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Example\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.code, {\n        children: \"collections/ExampleCollection.ts\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import type { CollectionConfig } from 'payload'\\n\\nexport const ExampleCollection: CollectionConfig = {\\n  slug: 'example-collection',\\n  fields: [\\n    {\\n      name: 'backgroundImage', // required\\n      type: 'upload', // required\\n      relationTo: 'media', // required\\n      required: true,\\n    },\\n  ],\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Filtering upload options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Options can be dynamically limited by supplying a \", _jsx(_components.a, {\n        href: \"/docs/queries/overview\",\n        children: \"query constraint\"\n      }), \", which will be used both\\nfor validating input and filtering available uploads in the UI.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"filterOptions\"\n      }), \" property can either be a \", _jsx(_components.code, {\n        children: \"Where\"\n      }), \" query, or a function returning \", _jsx(_components.code, {\n        children: \"true\"\n      }), \" to not filter, \", _jsx(_components.code, {\n        children: \"false\"\n      }), \" to\\nprevent all, or a \", _jsx(_components.code, {\n        children: \"Where\"\n      }), \" query. When using a function, it will be\\ncalled with an argument object with the following properties:\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Property\"\n          }), _jsx(_components.th, {\n            children: \"Description\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"relationTo\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The collection \", _jsx(_components.code, {\n              children: \"slug\"\n            }), \" to filter against, limited to this field's \", _jsx(_components.code, {\n              children: \"relationTo\"\n            }), \" property\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"data\"\n            })\n          }), _jsx(_components.td, {\n            children: \"An object containing the full collection or global document currently being edited\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"siblingData\"\n            })\n          }), _jsx(_components.td, {\n            children: \"An object containing document data that is scoped to only fields within the same parent of this field\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"id\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The \", _jsx(_components.code, {\n              children: \"id\"\n            }), \" of the current document being edited. \", _jsx(_components.code, {\n              children: \"id\"\n            }), \" is \", _jsx(_components.code, {\n              children: \"undefined\"\n            }), \" during the \", _jsx(_components.code, {\n              children: \"create\"\n            }), \" operation\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"user\"\n            })\n          }), _jsx(_components.td, {\n            children: \"An object containing the currently authenticated user\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: _jsx(_components.code, {\n              children: \"req\"\n            })\n          }), _jsxs(_components.td, {\n            children: [\"The Payload Request, which contains references to \", _jsx(_components.code, {\n              children: \"payload\"\n            }), \", \", _jsx(_components.code, {\n              children: \"user\"\n            }), \", \", _jsx(_components.code, {\n              children: \"locale\"\n            }), \", and more.\"]\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Example#filter-options-example\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"const uploadField = {\\n  name: 'image',\\n  type: 'upload',\\n  relationTo: 'media',\\n  filterOptions: {\\n    mimeType: { contains: 'image' },\\n  },\\n}\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can learn more about writing queries \", _jsx(_components.a, {\n        href: \"/docs/queries/overview\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(Banner, {\n      type: \"warning\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Note:\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"When an upload field has both \", _jsx(_components.strong, {\n          children: \"filterOptions\"\n        }), \" and a custom\\n\", _jsx(_components.strong, {\n          children: \"validate\"\n        }), \" function, the api will not validate \", _jsx(_components.strong, {\n          children: \"filterOptions\"\n        }), \"\\nunless you call the default upload field validation function imported from\\n\", _jsx(_components.strong, {\n          children: \"payload/shared\"\n        }), \" in your validate function.\"]\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Bi-directional relationships\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"upload\"\n      }), \" field on its own is used to reference documents in an upload collection. This can be considered a \\\"one-way\\\"\\nrelationship. If you wish to allow an editor to visit the upload document and see where it is being used, you may use\\nthe \", _jsx(_components.code, {\n        children: \"join\"\n      }), \" field in the upload enabled collection. Read more about bi-directional relationships using\\nthe \", _jsx(_components.a, {\n        href: \"./join\",\n        children: \"Join field\"\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["fields","upload"]},"buildId":"_tTBTu5tMI_qrBgEpmt0H","assetPrefix":"/payload-just-docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>