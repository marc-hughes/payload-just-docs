{"pageProps":{"frontMatter":{"title":"Sentry Plugin","label":"Sentry","order":40,"desc":"Integrate Sentry error tracking into your Payload application","keywords":"plugins, sentry, error, tracking, monitoring, logging, bug, reporting, performance"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    a: \"a\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    pre: \"pre\",\n    code: \"code\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {Banner} = _components;\n  if (!Banner) _missingMdxReference(\"Banner\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://img.shields.io/npm/v/@payloadcms/plugin-sentry\",\n        alt: \"https://www.npmjs.com/package/@payloadcms/plugin-sentry\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin allows you to integrate \", _jsx(_components.a, {\n        href: \"https://sentry.io/\",\n        children: \"Sentry\"\n      }), \" seamlessly with your \", _jsx(_components.a, {\n        href: \"https://github.com/payloadcms/payload\",\n        children: \"Payload\"\n      }), \" application.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What is Sentry?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Sentry is a powerful error tracking and performance monitoring tool that helps developers identify, diagnose, and resolve issues in their applications.\"\n    }), \"\\n\", _jsx(Banner, {\n      type: \"success\",\n      children: _jsxs(_components.p, {\n        children: [\"Sentry does smart stuff with error data to make bugs easier to find and fix. -\\n\", _jsx(_components.a, {\n          href: \"https://sentry.io/\",\n          children: \"sentry.io\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This multi-faceted software offers a range of features that will help you manage errors with greater ease and ultimately ensure your application is running smoothly:\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Core Features\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Error Tracking\"\n        }), \": Instantly captures and logs errors as they occur in your application\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Performance Monitoring\"\n        }), \": Tracks application performance to identify slowdowns and bottlenecks\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Detailed Reports\"\n        }), \": Provides comprehensive insights into errors, including stack traces and context\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Alerts and Notifications\"\n        }), \": Send and customize event-triggered notifications\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Issue Grouping, Filtering and Search\"\n        }), \": Automatically groups similar errors, and allows filtering and searching issues by custom criteria\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Breadcrumbs\"\n        }), \": Records user actions and events leading up to an error\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Integrations\"\n        }), \": Connects with various tools and services for enhanced workflow and issue management\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"info\",\n      children: _jsxs(_components.p, {\n        children: [\"This plugin is completely open-source and the \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/tree/main/packages/plugin-sentry\",\n          children: \"source code can be found\\nhere\"\n        }), \".\\nIf you need help, check out our \", _jsx(_components.a, {\n          href: \"https://payloadcms.com/community-help\",\n          children: \"Community\\nHelp\"\n        }), \". If you think you've found a bug,\\nplease \", _jsx(_components.a, {\n          href: \"https://github.com/payloadcms/payload/issues/new?assignees=&labels=plugin%3A%20seo&template=bug_report.md&title=plugin-sentry%3A\",\n          children: \"open a new\\nissue\"\n        }), \"\\nwith as much detail as possible.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Installation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Install the plugin using any JavaScript package manager like \", _jsx(_components.a, {\n        href: \"https://pnpm.io\",\n        children: \"pnpm\"\n      }), \", \", _jsx(_components.a, {\n        href: \"https://npmjs.com\",\n        children: \"npm\"\n      }), \", or \", _jsx(_components.a, {\n        href: \"https://yarnpkg.com\",\n        children: \"Yarn\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"  pnpm add @payloadcms/plugin-sentry\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Sentry for Next.js setup\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This plugin requires to complete the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/\",\n        children: \"Sentry + Next.js setup\"\n      }), \" before.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can use either the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/#install\",\n        children: \"automatic setup\"\n      }), \" with the installation wizard:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-sh\",\n        children: \"npx @sentry/wizard@latest -i nextjs\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Or the \", _jsx(_components.a, {\n        href: \"https://docs.sentry.io/platforms/javascript/guides/nextjs/manual-setup/\",\n        children: \"Manual Setup\"\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic Usage\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the \", _jsx(_components.code, {\n        children: \"plugins\"\n      }), \" array of your \", _jsx(_components.a, {\n        href: \"https://payloadcms.com/docs/configuration/overview\",\n        children: \"Payload Config\"\n      }), \", call the plugin and pass in your Sentry DSN as an option.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { sentryPlugin } from '@payloadcms/plugin-sentry'\\nimport { Pages, Media } from './collections'\\n\\nimport * as Sentry from '@sentry/nextjs'\\n\\nconst config = buildConfig({\\n  collections: [Pages, Media],\\n  plugins: [\\n    sentryPlugin({\\n      Sentry,\\n    }),\\n  ],\\n})\\n\\nexport default config\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"Sentry\"\n          }), \" : Sentry | \", _jsx(_components.strong, {\n            children: \"required\"\n          })]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"The \", _jsx(_components.code, {\n            children: \"Sentry\"\n          }), \" instance\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Banner, {\n      type: \"warning\",\n      children: _jsxs(_components.p, {\n        children: [\"Make sure to complete the \", _jsx(_components.a, {\n          href: \"#sentry-for-nextjs-setup\",\n          children: \"Sentry for Next.js Setup\"\n        }), \"\\nbefore.\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"enabled\"\n          }), \": boolean | optional\"]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Set to false to disable the plugin. Defaults to \", _jsx(_components.code, {\n            children: \"true\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"context\"\n          }), \": \", _jsx(_components.code, {\n            children: \"(args: ContextArgs) => Partial<ScopeContext> | Promise<Partial<ScopeContext>>\"\n          })]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"Pass additional \", _jsx(_components.a, {\n            href: \"https://docs.sentry.io/platforms/javascript/enriching-events/context/#passing-context-directly\",\n            children: \"contextual data\"\n          }), \" to Sentry\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.code, {\n            children: \"captureErrors\"\n          }), \": number[] | optional\"]\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"By default, \", _jsx(_components.code, {\n            children: \"Sentry.errorHandler\"\n          }), \" will capture only errors with a status code of 500 or higher. To capture additional error codes, pass the values as numbers in an array.\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Example\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Configure any of these options by passing them to the plugin:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { buildConfig } from 'payload'\\nimport { sentryPlugin } from '@payloadcms/plugin-sentry'\\n\\nimport * as Sentry from '@sentry/nextjs'\\n\\nimport { Pages, Media } from './collections'\\n\\nconst config = buildConfig({\\n  collections: [Pages, Media],\\n  plugins: [\\n    sentryPlugin({\\n      options: {\\n        captureErrors: [400, 403],\\n        context: ({ defaultContext, req }) => {\\n          return {\\n            ...defaultContext,\\n            tags: {\\n              locale: req.locale,\\n            },\\n          }\\n        },\\n        debug: true,\\n      },\\n      Sentry,\\n    }),\\n  ],\\n})\\n\\nexport default config\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"TypeScript\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"All types can be directly imported:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts\",\n        children: \"import { PluginOptions } from '@payloadcms/plugin-sentry'\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true}